<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 Working with Date &amp; Time | Data Wrangling with R</title>
  <meta name="description" content="Learn to wrangle data with R." />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 Working with Date &amp; Time | Data Wrangling with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Learn to wrangle data with R." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 Working with Date &amp; Time | Data Wrangling with R" />
  
  <meta name="twitter:description" content="Learn to wrangle data with R." />
  

<meta name="author" content="Aravind Hebbali" />


<meta name="date" content="2020-03-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="stringr.html"/>
<link rel="next" href="forcats.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://github.com/rsquaredacademy-education/wrangle-r/">Data Wrangling with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#structure-of-the-book"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-information"><i class="fa fa-check"></i>Software information</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="import1.html"><a href="import1.html"><i class="fa fa-check"></i><b>1</b> Import Data - 1</a><ul>
<li class="chapter" data-level="1.1" data-path="import1.html"><a href="import1.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="import1.html"><a href="import1.html#delimiters"><i class="fa fa-check"></i><b>1.2</b> Delimiters</a><ul>
<li class="chapter" data-level="1.2.1" data-path="import1.html"><a href="import1.html#comma-separated-values"><i class="fa fa-check"></i><b>1.2.1</b> Comma Separated Values</a></li>
<li class="chapter" data-level="1.2.2" data-path="import1.html"><a href="import1.html#semi-colon-separated-values"><i class="fa fa-check"></i><b>1.2.2</b> Semi Colon Separated Values</a></li>
<li class="chapter" data-level="1.2.3" data-path="import1.html"><a href="import1.html#space-separated-values"><i class="fa fa-check"></i><b>1.2.3</b> Space Separated Values</a></li>
<li class="chapter" data-level="1.2.4" data-path="import1.html"><a href="import1.html#tab-separated-values"><i class="fa fa-check"></i><b>1.2.4</b> Tab Separated Values</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="import1.html"><a href="import1.html#read-data"><i class="fa fa-check"></i><b>1.3</b> Read Data</a></li>
<li class="chapter" data-level="1.4" data-path="import1.html"><a href="import1.html#column-names"><i class="fa fa-check"></i><b>1.4</b> Column Names</a></li>
<li class="chapter" data-level="1.5" data-path="import1.html"><a href="import1.html#skip-lines"><i class="fa fa-check"></i><b>1.5</b> Skip Lines</a></li>
<li class="chapter" data-level="1.6" data-path="import1.html"><a href="import1.html#maximum-lines"><i class="fa fa-check"></i><b>1.6</b> Maximum Lines</a></li>
<li class="chapter" data-level="1.7" data-path="import1.html"><a href="import1.html#column-types"><i class="fa fa-check"></i><b>1.7</b> Column Types</a></li>
<li class="chapter" data-level="1.8" data-path="import1.html"><a href="import1.html#select-columns"><i class="fa fa-check"></i><b>1.8</b> Select Columns</a></li>
<li class="chapter" data-level="1.9" data-path="import1.html"><a href="import1.html#summary"><i class="fa fa-check"></i><b>1.9</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="import2.html"><a href="import2.html"><i class="fa fa-check"></i><b>2</b> Import Data - 2</a><ul>
<li class="chapter" data-level="2.1" data-path="import2.html"><a href="import2.html#introduction-1"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="import2.html"><a href="import2.html#list-sheets"><i class="fa fa-check"></i><b>2.2</b> List Sheets</a></li>
<li class="chapter" data-level="2.3" data-path="import2.html"><a href="import2.html#read-sheet"><i class="fa fa-check"></i><b>2.3</b> Read Sheet</a><ul>
<li class="chapter" data-level="2.3.1" data-path="import2.html"><a href="import2.html#case-1-specify-the-sheet-number"><i class="fa fa-check"></i><b>2.3.1</b> Case 1: Specify the sheet number</a></li>
<li class="chapter" data-level="2.3.2" data-path="import2.html"><a href="import2.html#case-2-specify-the-sheet-name"><i class="fa fa-check"></i><b>2.3.2</b> Case 2: Specify the sheet name</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="import2.html"><a href="import2.html#read-specific-cells"><i class="fa fa-check"></i><b>2.4</b> Read Specific Cells</a><ul>
<li class="chapter" data-level="2.4.1" data-path="import2.html"><a href="import2.html#method-1"><i class="fa fa-check"></i><b>2.4.1</b> Method 1</a></li>
<li class="chapter" data-level="2.4.2" data-path="import2.html"><a href="import2.html#method-2"><i class="fa fa-check"></i><b>2.4.2</b> Method 2</a></li>
<li class="chapter" data-level="2.4.3" data-path="import2.html"><a href="import2.html#method-3"><i class="fa fa-check"></i><b>2.4.3</b> Method 3</a></li>
<li class="chapter" data-level="2.4.4" data-path="import2.html"><a href="import2.html#method-1-1"><i class="fa fa-check"></i><b>2.4.4</b> Method 1</a></li>
<li class="chapter" data-level="2.4.5" data-path="import2.html"><a href="import2.html#method-2-1"><i class="fa fa-check"></i><b>2.4.5</b> Method 2</a></li>
<li class="chapter" data-level="2.4.6" data-path="import2.html"><a href="import2.html#method-3-1"><i class="fa fa-check"></i><b>2.4.6</b> Method 3</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="import2.html"><a href="import2.html#read-specific-rows"><i class="fa fa-check"></i><b>2.5</b> Read Specific Rows</a></li>
<li class="chapter" data-level="2.6" data-path="import2.html"><a href="import2.html#read-single-column"><i class="fa fa-check"></i><b>2.6</b> Read Single Column</a></li>
<li class="chapter" data-level="2.7" data-path="import2.html"><a href="import2.html#read-multiple-columns"><i class="fa fa-check"></i><b>2.7</b> Read Multiple Columns</a><ul>
<li class="chapter" data-level="2.7.1" data-path="import2.html"><a href="import2.html#summary-1"><i class="fa fa-check"></i><b>2.7.1</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="import2.html"><a href="import2.html#statistical-softwares"><i class="fa fa-check"></i><b>2.8</b> Statistical Softwares</a><ul>
<li class="chapter" data-level="2.8.1" data-path="import2.html"><a href="import2.html#stata"><i class="fa fa-check"></i><b>2.8.1</b> STATA</a></li>
<li class="chapter" data-level="2.8.2" data-path="import2.html"><a href="import2.html#spss"><i class="fa fa-check"></i><b>2.8.2</b> SPSS</a></li>
<li class="chapter" data-level="2.8.3" data-path="import2.html"><a href="import2.html#sas"><i class="fa fa-check"></i><b>2.8.3</b> SAS</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="import2.html"><a href="import2.html#summary-2"><i class="fa fa-check"></i><b>2.9</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dplyr1.html"><a href="dplyr1.html"><i class="fa fa-check"></i><b>3</b> Data Wrangling - 1</a><ul>
<li class="chapter" data-level="3.1" data-path="dplyr1.html"><a href="dplyr1.html#introduction-2"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="dplyr1.html"><a href="dplyr1.html#dplyr-verbs"><i class="fa fa-check"></i><b>3.2</b> dplyr Verbs</a></li>
<li class="chapter" data-level="3.3" data-path="dplyr1.html"><a href="dplyr1.html#data"><i class="fa fa-check"></i><b>3.3</b> Data</a><ul>
<li class="chapter" data-level="3.3.1" data-path="dplyr1.html"><a href="dplyr1.html#data-dictionary"><i class="fa fa-check"></i><b>3.3.1</b> Data Dictionary</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="dplyr1.html"><a href="dplyr1.html#case-study"><i class="fa fa-check"></i><b>3.4</b> Case Study</a></li>
<li class="chapter" data-level="3.5" data-path="dplyr1.html"><a href="dplyr1.html#average-order-value"><i class="fa fa-check"></i><b>3.5</b> Average Order Value</a></li>
<li class="chapter" data-level="3.6" data-path="dplyr1.html"><a href="dplyr1.html#aov-by-devices"><i class="fa fa-check"></i><b>3.6</b> AOV by Devices</a></li>
<li class="chapter" data-level="3.7" data-path="dplyr1.html"><a href="dplyr1.html#syntax"><i class="fa fa-check"></i><b>3.7</b> Syntax</a></li>
<li class="chapter" data-level="3.8" data-path="dplyr1.html"><a href="dplyr1.html#filter-rows"><i class="fa fa-check"></i><b>3.8</b> Filter Rows</a><ul>
<li class="chapter" data-level="3.8.1" data-path="dplyr1.html"><a href="dplyr1.html#case-study-1"><i class="fa fa-check"></i><b>3.8.1</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="dplyr1.html"><a href="dplyr1.html#select-columns-1"><i class="fa fa-check"></i><b>3.9</b> Select Columns</a><ul>
<li class="chapter" data-level="3.9.1" data-path="dplyr1.html"><a href="dplyr1.html#case-study-2"><i class="fa fa-check"></i><b>3.9.1</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="dplyr1.html"><a href="dplyr1.html#grouping-data"><i class="fa fa-check"></i><b>3.10</b> Grouping Data</a><ul>
<li class="chapter" data-level="3.10.1" data-path="dplyr1.html"><a href="dplyr1.html#case-study-3"><i class="fa fa-check"></i><b>3.10.1</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="dplyr1.html"><a href="dplyr1.html#summarise-data"><i class="fa fa-check"></i><b>3.11</b> Summarise Data</a><ul>
<li class="chapter" data-level="3.11.1" data-path="dplyr1.html"><a href="dplyr1.html#case-study-4"><i class="fa fa-check"></i><b>3.11.1</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="3.12" data-path="dplyr1.html"><a href="dplyr1.html#create-columns"><i class="fa fa-check"></i><b>3.12</b> Create Columns</a><ul>
<li class="chapter" data-level="3.12.1" data-path="dplyr1.html"><a href="dplyr1.html#case-study-5"><i class="fa fa-check"></i><b>3.12.1</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="3.13" data-path="dplyr1.html"><a href="dplyr1.html#arrange-data"><i class="fa fa-check"></i><b>3.13</b> Arrange Data</a><ul>
<li class="chapter" data-level="3.13.1" data-path="dplyr1.html"><a href="dplyr1.html#case-study-6"><i class="fa fa-check"></i><b>3.13.1</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="3.14" data-path="dplyr1.html"><a href="dplyr1.html#aov-by-devices-1"><i class="fa fa-check"></i><b>3.14</b> AOV by Devices</a></li>
<li class="chapter" data-level="3.15" data-path="dplyr1.html"><a href="dplyr1.html#your-turn"><i class="fa fa-check"></i><b>3.15</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dplyr2.html"><a href="dplyr2.html"><i class="fa fa-check"></i><b>4</b> Data Wrangling - 2</a><ul>
<li class="chapter" data-level="4.1" data-path="dplyr2.html"><a href="dplyr2.html#introduction-3"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="dplyr2.html"><a href="dplyr2.html#case-study-7"><i class="fa fa-check"></i><b>4.2</b> Case Study</a><ul>
<li class="chapter" data-level="4.2.1" data-path="dplyr2.html"><a href="dplyr2.html#data-orders"><i class="fa fa-check"></i><b>4.2.1</b> Data: Orders</a></li>
<li class="chapter" data-level="4.2.2" data-path="dplyr2.html"><a href="dplyr2.html#data-customers"><i class="fa fa-check"></i><b>4.2.2</b> Data: Customers</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="dplyr2.html"><a href="dplyr2.html#example-data"><i class="fa fa-check"></i><b>4.3</b> Example Data</a></li>
<li class="chapter" data-level="4.4" data-path="dplyr2.html"><a href="dplyr2.html#inner-join"><i class="fa fa-check"></i><b>4.4</b> Inner Join</a><ul>
<li class="chapter" data-level="4.4.1" data-path="dplyr2.html"><a href="dplyr2.html#case-study-details-of-customers-who-have-placed-orders-and-their-order-details"><i class="fa fa-check"></i><b>4.4.1</b> Case Study: Details of customers who have placed orders and their order details</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="dplyr2.html"><a href="dplyr2.html#left-join"><i class="fa fa-check"></i><b>4.5</b> Left Join</a></li>
<li class="chapter" data-level="4.6" data-path="dplyr2.html"><a href="dplyr2.html#case-study-details-of-customers-and-their-orders-irrespective-of-whether-a-customer-has"><i class="fa fa-check"></i><b>4.6</b> Case Study: Details of customers and their orders irrespective of whether a customer has</a></li>
<li class="chapter" data-level="4.7" data-path="dplyr2.html"><a href="dplyr2.html#right-join"><i class="fa fa-check"></i><b>4.7</b> Right Join</a><ul>
<li class="chapter" data-level="4.7.1" data-path="dplyr2.html"><a href="dplyr2.html#case-study-customer-details-for-each-order"><i class="fa fa-check"></i><b>4.7.1</b> Case Study: Customer details for each order</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="dplyr2.html"><a href="dplyr2.html#semi-join"><i class="fa fa-check"></i><b>4.8</b> Semi Join</a><ul>
<li class="chapter" data-level="4.8.1" data-path="dplyr2.html"><a href="dplyr2.html#case-study-details-of-customers-who-have-placed-orders"><i class="fa fa-check"></i><b>4.8.1</b> Case Study: Details of customers who have placed orders</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="dplyr2.html"><a href="dplyr2.html#anti-join"><i class="fa fa-check"></i><b>4.9</b> Anti Join</a><ul>
<li class="chapter" data-level="4.9.1" data-path="dplyr2.html"><a href="dplyr2.html#case-study-details-of-customers-who-have-not-placed-orders"><i class="fa fa-check"></i><b>4.9.1</b> Case Study: Details of customers who have not placed orders</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="dplyr2.html"><a href="dplyr2.html#full-join"><i class="fa fa-check"></i><b>4.10</b> Full Join</a><ul>
<li class="chapter" data-level="4.10.1" data-path="dplyr2.html"><a href="dplyr2.html#case-study-details-of-all-customers-and-all-orders"><i class="fa fa-check"></i><b>4.10.1</b> Case Study: Details of all customers and all orders</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dplyr3.html"><a href="dplyr3.html"><i class="fa fa-check"></i><b>5</b> Data Wrangling - 3</a><ul>
<li class="chapter" data-level="5.1" data-path="dplyr3.html"><a href="dplyr3.html#introduction-4"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="dplyr3.html"><a href="dplyr3.html#case-study-8"><i class="fa fa-check"></i><b>5.2</b> Case Study</a><ul>
<li class="chapter" data-level="5.2.1" data-path="dplyr3.html"><a href="dplyr3.html#data-1"><i class="fa fa-check"></i><b>5.2.1</b> Data</a></li>
<li class="chapter" data-level="5.2.2" data-path="dplyr3.html"><a href="dplyr3.html#data-dictionary-1"><i class="fa fa-check"></i><b>5.2.2</b> Data Dictionary</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="dplyr3.html"><a href="dplyr3.html#data-sanitization"><i class="fa fa-check"></i><b>5.3</b> Data Sanitization</a></li>
<li class="chapter" data-level="5.4" data-path="dplyr3.html"><a href="dplyr3.html#rename-columns"><i class="fa fa-check"></i><b>5.4</b> Rename Columns</a></li>
<li class="chapter" data-level="5.5" data-path="dplyr3.html"><a href="dplyr3.html#data-tabulation"><i class="fa fa-check"></i><b>5.5</b> Data Tabulation</a></li>
<li class="chapter" data-level="5.6" data-path="dplyr3.html"><a href="dplyr3.html#sampling-data"><i class="fa fa-check"></i><b>5.6</b> Sampling Data</a></li>
<li class="chapter" data-level="5.7" data-path="dplyr3.html"><a href="dplyr3.html#data-extraction"><i class="fa fa-check"></i><b>5.7</b> Data Extraction</a><ul>
<li class="chapter" data-level="5.7.1" data-path="dplyr3.html"><a href="dplyr3.html#sample-data"><i class="fa fa-check"></i><b>5.7.1</b> Sample Data</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="dplyr3.html"><a href="dplyr3.html#between"><i class="fa fa-check"></i><b>5.8</b> Between</a></li>
<li class="chapter" data-level="5.9" data-path="dplyr3.html"><a href="dplyr3.html#case-when"><i class="fa fa-check"></i><b>5.9</b> Case When</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>6</b> Pipes</a><ul>
<li class="chapter" data-level="6.1" data-path="pipes.html"><a href="pipes.html#introduction-5"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="pipes.html"><a href="pipes.html#pipes-1"><i class="fa fa-check"></i><b>6.2</b> Pipes</a></li>
<li class="chapter" data-level="6.3" data-path="pipes.html"><a href="pipes.html#data-2"><i class="fa fa-check"></i><b>6.3</b> Data</a><ul>
<li class="chapter" data-level="6.3.1" data-path="pipes.html"><a href="pipes.html#data-dictionary-2"><i class="fa fa-check"></i><b>6.3.1</b> Data Dictionary</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="pipes.html"><a href="pipes.html#head"><i class="fa fa-check"></i><b>6.4</b> head()</a><ul>
<li class="chapter" data-level="6.4.1" data-path="pipes.html"><a href="pipes.html#using-pipe"><i class="fa fa-check"></i><b>6.4.1</b> Using Pipe</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="pipes.html"><a href="pipes.html#square-root"><i class="fa fa-check"></i><b>6.5</b> Square Root</a></li>
<li class="chapter" data-level="6.6" data-path="pipes.html"><a href="pipes.html#visualization"><i class="fa fa-check"></i><b>6.6</b> Visualization</a><ul>
<li class="chapter" data-level="6.6.1" data-path="pipes.html"><a href="pipes.html#using-pipe-1"><i class="fa fa-check"></i><b>6.6.1</b> Using pipe</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="pipes.html"><a href="pipes.html#correlation"><i class="fa fa-check"></i><b>6.7</b> Correlation</a></li>
<li class="chapter" data-level="6.8" data-path="pipes.html"><a href="pipes.html#regression"><i class="fa fa-check"></i><b>6.8</b> Regression</a><ul>
<li class="chapter" data-level="6.8.1" data-path="pipes.html"><a href="pipes.html#using-pipe-2"><i class="fa fa-check"></i><b>6.8.1</b> Using pipe</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="pipes.html"><a href="pipes.html#string-manipulation"><i class="fa fa-check"></i><b>6.9</b> String Manipulation</a></li>
<li class="chapter" data-level="6.10" data-path="pipes.html"><a href="pipes.html#data-extraction-1"><i class="fa fa-check"></i><b>6.10</b> Data Extraction</a><ul>
<li class="chapter" data-level="6.10.1" data-path="pipes.html"><a href="pipes.html#extract-column"><i class="fa fa-check"></i><b>6.10.1</b> Extract Column</a></li>
<li class="chapter" data-level="6.10.2" data-path="pipes.html"><a href="pipes.html#extract-list-element"><i class="fa fa-check"></i><b>6.10.2</b> Extract List Element</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="pipes.html"><a href="pipes.html#arithmetic-operations"><i class="fa fa-check"></i><b>6.11</b> Arithmetic Operations</a><ul>
<li class="chapter" data-level="6.11.1" data-path="pipes.html"><a href="pipes.html#addition"><i class="fa fa-check"></i><b>6.11.1</b> Addition</a></li>
<li class="chapter" data-level="6.11.2" data-path="pipes.html"><a href="pipes.html#multiplication"><i class="fa fa-check"></i><b>6.11.2</b> Multiplication</a></li>
<li class="chapter" data-level="6.11.3" data-path="pipes.html"><a href="pipes.html#division"><i class="fa fa-check"></i><b>6.11.3</b> Division</a></li>
<li class="chapter" data-level="6.11.4" data-path="pipes.html"><a href="pipes.html#power"><i class="fa fa-check"></i><b>6.11.4</b> Power</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="pipes.html"><a href="pipes.html#logical-operators"><i class="fa fa-check"></i><b>6.12</b> Logical Operators</a><ul>
<li class="chapter" data-level="6.12.1" data-path="pipes.html"><a href="pipes.html#greater-than"><i class="fa fa-check"></i><b>6.12.1</b> Greater Than</a></li>
<li class="chapter" data-level="6.12.2" data-path="pipes.html"><a href="pipes.html#weakly-greater-than"><i class="fa fa-check"></i><b>6.12.2</b> Weakly Greater Than</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>7</b> tibbles</a><ul>
<li class="chapter" data-level="7.1" data-path="tibbles.html"><a href="tibbles.html#introduction-6"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="tibbles.html"><a href="tibbles.html#creating-tibbles"><i class="fa fa-check"></i><b>7.2</b> Creating tibbles</a></li>
<li class="chapter" data-level="7.3" data-path="tibbles.html"><a href="tibbles.html#tibble-features"><i class="fa fa-check"></i><b>7.3</b> tibble features</a><ul>
<li class="chapter" data-level="7.3.1" data-path="tibbles.html"><a href="tibbles.html#never-changes-inputs-types"><i class="fa fa-check"></i><b>7.3.1</b> never changes input’s types</a></li>
<li class="chapter" data-level="7.3.2" data-path="tibbles.html"><a href="tibbles.html#never-adjusts-variable-names"><i class="fa fa-check"></i><b>7.3.2</b> never adjusts variable names</a></li>
<li class="chapter" data-level="7.3.3" data-path="tibbles.html"><a href="tibbles.html#never-prints-all-rows"><i class="fa fa-check"></i><b>7.3.3</b> never prints all rows</a></li>
<li class="chapter" data-level="7.3.4" data-path="tibbles.html"><a href="tibbles.html#never-recycles-vector-of-length-greater-than-1"><i class="fa fa-check"></i><b>7.3.4</b> never recycles vector of length greater than 1</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="tibbles.html"><a href="tibbles.html#membership-testing"><i class="fa fa-check"></i><b>7.4</b> Membership Testing</a></li>
<li class="chapter" data-level="7.5" data-path="tibbles.html"><a href="tibbles.html#tribble"><i class="fa fa-check"></i><b>7.5</b> Tribble</a></li>
<li class="chapter" data-level="7.6" data-path="tibbles.html"><a href="tibbles.html#column-names-1"><i class="fa fa-check"></i><b>7.6</b> Column Names</a></li>
<li class="chapter" data-level="7.7" data-path="tibbles.html"><a href="tibbles.html#add-rows"><i class="fa fa-check"></i><b>7.7</b> Add Rows</a></li>
<li class="chapter" data-level="7.8" data-path="tibbles.html"><a href="tibbles.html#add-columns"><i class="fa fa-check"></i><b>7.8</b> Add Columns</a></li>
<li class="chapter" data-level="7.9" data-path="tibbles.html"><a href="tibbles.html#rownames"><i class="fa fa-check"></i><b>7.9</b> Rownames</a><ul>
<li class="chapter" data-level="7.9.1" data-path="tibbles.html"><a href="tibbles.html#remove-rownames"><i class="fa fa-check"></i><b>7.9.1</b> Remove Rownames</a></li>
<li class="chapter" data-level="7.9.2" data-path="tibbles.html"><a href="tibbles.html#rownames-to-column"><i class="fa fa-check"></i><b>7.9.2</b> Rownames to Column</a></li>
<li class="chapter" data-level="7.9.3" data-path="tibbles.html"><a href="tibbles.html#column-to-rownames"><i class="fa fa-check"></i><b>7.9.3</b> Column to Rownames</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="tibbles.html"><a href="tibbles.html#glimpse"><i class="fa fa-check"></i><b>7.10</b> Glimpse</a></li>
<li class="chapter" data-level="7.11" data-path="tibbles.html"><a href="tibbles.html#check-column"><i class="fa fa-check"></i><b>7.11</b> Check Column</a></li>
<li class="chapter" data-level="7.12" data-path="tibbles.html"><a href="tibbles.html#summary-3"><i class="fa fa-check"></i><b>7.12</b> Summary</a><ul>
<li class="chapter" data-level="7.12.1" data-path="tibbles.html"><a href="tibbles.html#creating-tibbles-1"><i class="fa fa-check"></i><b>7.12.1</b> Creating tibbles</a></li>
<li class="chapter" data-level="7.12.2" data-path="tibbles.html"><a href="tibbles.html#modifying-tibbles"><i class="fa fa-check"></i><b>7.12.2</b> Modifying tibbles</a></li>
<li class="chapter" data-level="7.12.3" data-path="tibbles.html"><a href="tibbles.html#testing-tibbles"><i class="fa fa-check"></i><b>7.12.3</b> Testing tibbles</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="stringr.html"><a href="stringr.html"><i class="fa fa-check"></i><b>8</b> Handling String Data</a><ul>
<li class="chapter" data-level="8.1" data-path="stringr.html"><a href="stringr.html#introduction-7"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="stringr.html"><a href="stringr.html#case-study-9"><i class="fa fa-check"></i><b>8.2</b> Case Study</a><ul>
<li class="chapter" data-level="8.2.1" data-path="stringr.html"><a href="stringr.html#data-3"><i class="fa fa-check"></i><b>8.2.1</b> Data</a></li>
<li class="chapter" data-level="8.2.2" data-path="stringr.html"><a href="stringr.html#data-dictionary-3"><i class="fa fa-check"></i><b>8.2.2</b> Data Dictionary</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="stringr.html"><a href="stringr.html#overview"><i class="fa fa-check"></i><b>8.3</b> Overview</a></li>
<li class="chapter" data-level="8.4" data-path="stringr.html"><a href="stringr.html#extract-domain-name-from-email-ids"><i class="fa fa-check"></i><b>8.4</b> Extract domain name from email ids</a><ul>
<li class="chapter" data-level="8.4.1" data-path="stringr.html"><a href="stringr.html#steps"><i class="fa fa-check"></i><b>8.4.1</b> Steps</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="stringr.html"><a href="stringr.html#extract-domain-extension"><i class="fa fa-check"></i><b>8.5</b> Extract Domain Extension</a></li>
<li class="chapter" data-level="8.6" data-path="stringr.html"><a href="stringr.html#extract-image-type-from-url"><i class="fa fa-check"></i><b>8.6</b> Extract image type from URL</a><ul>
<li class="chapter" data-level="8.6.1" data-path="stringr.html"><a href="stringr.html#steps-1"><i class="fa fa-check"></i><b>8.6.1</b> Steps</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="stringr.html"><a href="stringr.html#extract-image-dimesion-from-url"><i class="fa fa-check"></i><b>8.7</b> Extract Image Dimesion from URL</a><ul>
<li class="chapter" data-level="8.7.1" data-path="stringr.html"><a href="stringr.html#steps-2"><i class="fa fa-check"></i><b>8.7.1</b> Steps</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="stringr.html"><a href="stringr.html#extract-http-protocol-from-url"><i class="fa fa-check"></i><b>8.8</b> Extract HTTP Protocol from URL</a><ul>
<li class="chapter" data-level="8.8.1" data-path="stringr.html"><a href="stringr.html#steps-3"><i class="fa fa-check"></i><b>8.8.1</b> Steps</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="stringr.html"><a href="stringr.html#extract-file-type"><i class="fa fa-check"></i><b>8.9</b> Extract file type</a><ul>
<li class="chapter" data-level="8.9.1" data-path="stringr.html"><a href="stringr.html#steps-4"><i class="fa fa-check"></i><b>8.9.1</b> Steps</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="lubridate.html"><a href="lubridate.html"><i class="fa fa-check"></i><b>9</b> Working with Date &amp; Time</a><ul>
<li class="chapter" data-level="9.1" data-path="lubridate.html"><a href="lubridate.html#introduction-8"><i class="fa fa-check"></i><b>9.1</b> Introduction</a><ul>
<li class="chapter" data-level="9.1.1" data-path="lubridate.html"><a href="lubridate.html#date"><i class="fa fa-check"></i><b>9.1.1</b> Date</a></li>
<li class="chapter" data-level="9.1.2" data-path="lubridate.html"><a href="lubridate.html#time"><i class="fa fa-check"></i><b>9.1.2</b> Time</a></li>
<li class="chapter" data-level="9.1.3" data-path="lubridate.html"><a href="lubridate.html#am-or-pm"><i class="fa fa-check"></i><b>9.1.3</b> AM or PM?</a></li>
<li class="chapter" data-level="9.1.4" data-path="lubridate.html"><a href="lubridate.html#leap-year"><i class="fa fa-check"></i><b>9.1.4</b> Leap Year</a></li>
<li class="chapter" data-level="9.1.5" data-path="lubridate.html"><a href="lubridate.html#summary-4"><i class="fa fa-check"></i><b>9.1.5</b> Summary</a></li>
<li class="chapter" data-level="9.1.6" data-path="lubridate.html"><a href="lubridate.html#your-turn-1"><i class="fa fa-check"></i><b>9.1.6</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="lubridate.html"><a href="lubridate.html#case-study-10"><i class="fa fa-check"></i><b>9.2</b> Case Study</a><ul>
<li class="chapter" data-level="9.2.1" data-path="lubridate.html"><a href="lubridate.html#data-4"><i class="fa fa-check"></i><b>9.2.1</b> Data</a></li>
<li class="chapter" data-level="9.2.2" data-path="lubridate.html"><a href="lubridate.html#data-dictionary-4"><i class="fa fa-check"></i><b>9.2.2</b> Data Dictionary</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="lubridate.html"><a href="lubridate.html#date-time-classes"><i class="fa fa-check"></i><b>9.3</b> Date &amp; Time Classes</a><ul>
<li class="chapter" data-level="9.3.1" data-path="lubridate.html"><a href="lubridate.html#introduction-9"><i class="fa fa-check"></i><b>9.3.1</b> Introduction</a></li>
<li class="chapter" data-level="9.3.2" data-path="lubridate.html"><a href="lubridate.html#date-1"><i class="fa fa-check"></i><b>9.3.2</b> Date</a></li>
<li class="chapter" data-level="9.3.3" data-path="lubridate.html"><a href="lubridate.html#iso-8601"><i class="fa fa-check"></i><b>9.3.3</b> ISO 8601</a></li>
<li class="chapter" data-level="9.3.4" data-path="lubridate.html"><a href="lubridate.html#posix"><i class="fa fa-check"></i><b>9.3.4</b> POSIX</a></li>
<li class="chapter" data-level="9.3.5" data-path="lubridate.html"><a href="lubridate.html#your-turn-2"><i class="fa fa-check"></i><b>9.3.5</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="lubridate.html"><a href="lubridate.html#date-arithmetic"><i class="fa fa-check"></i><b>9.4</b> Date Arithmetic</a><ul>
<li class="chapter" data-level="9.4.1" data-path="lubridate.html"><a href="lubridate.html#introduction-11"><i class="fa fa-check"></i><b>9.4.1</b> Introduction</a></li>
<li class="chapter" data-level="9.4.2" data-path="lubridate.html"><a href="lubridate.html#shift-date"><i class="fa fa-check"></i><b>9.4.2</b> Shift Date</a></li>
<li class="chapter" data-level="9.4.3" data-path="lubridate.html"><a href="lubridate.html#case-study-11"><i class="fa fa-check"></i><b>9.4.3</b> Case Study</a></li>
<li class="chapter" data-level="9.4.4" data-path="lubridate.html"><a href="lubridate.html#your-turn-3"><i class="fa fa-check"></i><b>9.4.4</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="lubridate.html"><a href="lubridate.html#time-zones"><i class="fa fa-check"></i><b>9.5</b> Time Zones</a><ul>
<li class="chapter" data-level="9.5.1" data-path="lubridate.html"><a href="lubridate.html#introduction-12"><i class="fa fa-check"></i><b>9.5.1</b> Introduction</a></li>
<li class="chapter" data-level="9.5.2" data-path="lubridate.html"><a href="lubridate.html#time-zones-1"><i class="fa fa-check"></i><b>9.5.2</b> Time Zones</a></li>
<li class="chapter" data-level="9.5.3" data-path="lubridate.html"><a href="lubridate.html#daylight-savings"><i class="fa fa-check"></i><b>9.5.3</b> Daylight Savings</a></li>
<li class="chapter" data-level="9.5.4" data-path="lubridate.html"><a href="lubridate.html#your-turn-4"><i class="fa fa-check"></i><b>9.5.4</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="lubridate.html"><a href="lubridate.html#date-time-formats"><i class="fa fa-check"></i><b>9.6</b> Date &amp; Time Formats</a><ul>
<li class="chapter" data-level="9.6.1" data-path="lubridate.html"><a href="lubridate.html#introduction-13"><i class="fa fa-check"></i><b>9.6.1</b> Introduction</a></li>
<li class="chapter" data-level="9.6.2" data-path="lubridate.html"><a href="lubridate.html#conversion-specifications"><i class="fa fa-check"></i><b>9.6.2</b> Conversion Specifications</a></li>
<li class="chapter" data-level="9.6.3" data-path="lubridate.html"><a href="lubridate.html#guess-format"><i class="fa fa-check"></i><b>9.6.3</b> Guess Format</a></li>
<li class="chapter" data-level="9.6.4" data-path="lubridate.html"><a href="lubridate.html#your-turn-5"><i class="fa fa-check"></i><b>9.6.4</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="lubridate.html"><a href="lubridate.html#parse-date-time"><i class="fa fa-check"></i><b>9.7</b> Parse Date &amp; Time</a><ul>
<li class="chapter" data-level="9.7.1" data-path="lubridate.html"><a href="lubridate.html#your-turn-6"><i class="fa fa-check"></i><b>9.7.1</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="lubridate.html"><a href="lubridate.html#date-time-components"><i class="fa fa-check"></i><b>9.8</b> Date &amp; Time Components</a><ul>
<li class="chapter" data-level="9.8.1" data-path="lubridate.html"><a href="lubridate.html#year"><i class="fa fa-check"></i><b>9.8.1</b> Year</a></li>
<li class="chapter" data-level="9.8.2" data-path="lubridate.html"><a href="lubridate.html#month"><i class="fa fa-check"></i><b>9.8.2</b> Month</a></li>
<li class="chapter" data-level="9.8.3" data-path="lubridate.html"><a href="lubridate.html#week"><i class="fa fa-check"></i><b>9.8.3</b> Week</a></li>
<li class="chapter" data-level="9.8.4" data-path="lubridate.html"><a href="lubridate.html#day"><i class="fa fa-check"></i><b>9.8.4</b> Day</a></li>
<li class="chapter" data-level="9.8.5" data-path="lubridate.html"><a href="lubridate.html#days-in-month"><i class="fa fa-check"></i><b>9.8.5</b> Days in Month</a></li>
<li class="chapter" data-level="9.8.6" data-path="lubridate.html"><a href="lubridate.html#hour-minute-seconds"><i class="fa fa-check"></i><b>9.8.6</b> Hour, Minute &amp; Seconds</a></li>
<li class="chapter" data-level="9.8.7" data-path="lubridate.html"><a href="lubridate.html#quarter-semester"><i class="fa fa-check"></i><b>9.8.7</b> Quarter &amp; Semester</a></li>
<li class="chapter" data-level="9.8.8" data-path="lubridate.html"><a href="lubridate.html#case-study-12"><i class="fa fa-check"></i><b>9.8.8</b> Case Study</a></li>
<li class="chapter" data-level="9.8.9" data-path="lubridate.html"><a href="lubridate.html#your-turn-7"><i class="fa fa-check"></i><b>9.8.9</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="lubridate.html"><a href="lubridate.html#create-update-verify"><i class="fa fa-check"></i><b>9.9</b> Create, Update &amp; Verify</a><ul>
<li class="chapter" data-level="9.9.1" data-path="lubridate.html"><a href="lubridate.html#create"><i class="fa fa-check"></i><b>9.9.1</b> Create</a></li>
<li class="chapter" data-level="9.9.2" data-path="lubridate.html"><a href="lubridate.html#update"><i class="fa fa-check"></i><b>9.9.2</b> Update</a></li>
<li class="chapter" data-level="9.9.3" data-path="lubridate.html"><a href="lubridate.html#date-sequence"><i class="fa fa-check"></i><b>9.9.3</b> Date Sequence</a></li>
<li class="chapter" data-level="9.9.4" data-path="lubridate.html"><a href="lubridate.html#verify-type"><i class="fa fa-check"></i><b>9.9.4</b> Verify Type</a></li>
<li class="chapter" data-level="9.9.5" data-path="lubridate.html"><a href="lubridate.html#your-turn-8"><i class="fa fa-check"></i><b>9.9.5</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="lubridate.html"><a href="lubridate.html#intervals-duration-period"><i class="fa fa-check"></i><b>9.10</b> Intervals, Duration &amp; Period</a><ul>
<li class="chapter" data-level="9.10.1" data-path="lubridate.html"><a href="lubridate.html#interval"><i class="fa fa-check"></i><b>9.10.1</b> Interval</a></li>
<li class="chapter" data-level="9.10.2" data-path="lubridate.html"><a href="lubridate.html#within"><i class="fa fa-check"></i><b>9.10.2</b> Within</a></li>
<li class="chapter" data-level="9.10.3" data-path="lubridate.html"><a href="lubridate.html#duration"><i class="fa fa-check"></i><b>9.10.3</b> Duration</a></li>
<li class="chapter" data-level="9.10.4" data-path="lubridate.html"><a href="lubridate.html#period"><i class="fa fa-check"></i><b>9.10.4</b> Period</a></li>
</ul></li>
<li class="chapter" data-level="9.11" data-path="lubridate.html"><a href="lubridate.html#others"><i class="fa fa-check"></i><b>9.11</b> Others</a><ul>
<li class="chapter" data-level="9.11.1" data-path="lubridate.html"><a href="lubridate.html#rounding-dates"><i class="fa fa-check"></i><b>9.11.1</b> Rounding Dates</a></li>
<li class="chapter" data-level="9.11.2" data-path="lubridate.html"><a href="lubridate.html#rollback"><i class="fa fa-check"></i><b>9.11.2</b> Rollback</a></li>
<li class="chapter" data-level="9.11.3" data-path="lubridate.html"><a href="lubridate.html#your-turn-9"><i class="fa fa-check"></i><b>9.11.3</b> Your Turn</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="forcats.html"><a href="forcats.html"><i class="fa fa-check"></i><b>10</b> Categorical Data Analysis</a><ul>
<li class="chapter" data-level="10.1" data-path="forcats.html"><a href="forcats.html#introduction-14"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="forcats.html"><a href="forcats.html#case-study-13"><i class="fa fa-check"></i><b>10.2</b> Case Study</a><ul>
<li class="chapter" data-level="10.2.1" data-path="forcats.html"><a href="forcats.html#data-5"><i class="fa fa-check"></i><b>10.2.1</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="forcats.html"><a href="forcats.html#tabulate-referrers"><i class="fa fa-check"></i><b>10.3</b> Tabulate Referrers</a></li>
<li class="chapter" data-level="10.4" data-path="forcats.html"><a href="forcats.html#reorder-referrers"><i class="fa fa-check"></i><b>10.4</b> Reorder Referrers</a></li>
<li class="chapter" data-level="10.5" data-path="forcats.html"><a href="forcats.html#plot-referrer-frequency-descending-order"><i class="fa fa-check"></i><b>10.5</b> Plot Referrer Frequency (Descending Order)</a></li>
<li class="chapter" data-level="10.6" data-path="forcats.html"><a href="forcats.html#plot-referrer-frequency-ascending-order"><i class="fa fa-check"></i><b>10.6</b> Plot Referrer Frequency (Ascending Order)</a></li>
<li class="chapter" data-level="10.7" data-path="forcats.html"><a href="forcats.html#case-study-2-1"><i class="fa fa-check"></i><b>10.7</b> Case Study 2</a><ul>
<li class="chapter" data-level="10.7.1" data-path="forcats.html"><a href="forcats.html#data-6"><i class="fa fa-check"></i><b>10.7.1</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="forcats.html"><a href="forcats.html#tabulate-referrer"><i class="fa fa-check"></i><b>10.8</b> Tabulate Referrer</a></li>
<li class="chapter" data-level="10.9" data-path="forcats.html"><a href="forcats.html#collapse-referrer-categories"><i class="fa fa-check"></i><b>10.9</b> Collapse Referrer Categories</a></li>
<li class="chapter" data-level="10.10" data-path="forcats.html"><a href="forcats.html#lump-infrequent-referrer-types"><i class="fa fa-check"></i><b>10.10</b> Lump Infrequent Referrer Types</a></li>
<li class="chapter" data-level="10.11" data-path="forcats.html"><a href="forcats.html#retain-top-3-referrers"><i class="fa fa-check"></i><b>10.11</b> Retain top 3 referrers</a></li>
<li class="chapter" data-level="10.12" data-path="forcats.html"><a href="forcats.html#lump-referrer-types-with-less-than-10-traffic"><i class="fa fa-check"></i><b>10.12</b> Lump Referrer Types with less than 10% traffic</a></li>
<li class="chapter" data-level="10.13" data-path="forcats.html"><a href="forcats.html#retain-3-referrer-types-with-lowest-traffic"><i class="fa fa-check"></i><b>10.13</b> Retain 3 Referrer Types with lowest traffic</a></li>
<li class="chapter" data-level="10.14" data-path="forcats.html"><a href="forcats.html#retain-3-referrer-types-with-less-than-10-traffic"><i class="fa fa-check"></i><b>10.14</b> Retain 3 Referrer Types with less than 10% traffic</a></li>
<li class="chapter" data-level="10.15" data-path="forcats.html"><a href="forcats.html#replace-levels"><i class="fa fa-check"></i><b>10.15</b> Replace Levels</a></li>
<li class="chapter" data-level="10.16" data-path="forcats.html"><a href="forcats.html#drop-levels"><i class="fa fa-check"></i><b>10.16</b> Drop Levels</a></li>
<li class="chapter" data-level="10.17" data-path="forcats.html"><a href="forcats.html#reorder-levels"><i class="fa fa-check"></i><b>10.17</b> Reorder Levels</a></li>
<li class="chapter" data-level="10.18" data-path="forcats.html"><a href="forcats.html#case-study-3-1"><i class="fa fa-check"></i><b>10.18</b> Case Study 3</a><ul>
<li class="chapter" data-level="10.18.1" data-path="forcats.html"><a href="forcats.html#data-7"><i class="fa fa-check"></i><b>10.18.1</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="10.19" data-path="forcats.html"><a href="forcats.html#shift-levels"><i class="fa fa-check"></i><b>10.19</b> Shift Levels</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Wrangling with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lubridate" class="section level1">
<h1><span class="header-section-number">Chapter 9</span> Working with Date &amp; Time</h1>
<div id="introduction-8" class="section level2">
<h2><span class="header-section-number">9.1</span> Introduction</h2>
<p>Let us begin by looking at the current date and time.</p>
<div id="date" class="section level3">
<h3><span class="header-section-number">9.1.1</span> Date</h3>
<p><code>Sys.Date()</code> and <code>today()</code> will return the current date.</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb406-1" title="1"><span class="kw">Sys.Date</span>()</a></code></pre></div>
<pre><code>## [1] &quot;2020-03-30&quot;</code></pre>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb408-1" title="1">lubridate<span class="op">::</span><span class="kw">today</span>()</a></code></pre></div>
<pre><code>## [1] &quot;2020-03-30&quot;</code></pre>
</div>
<div id="time" class="section level3">
<h3><span class="header-section-number">9.1.2</span> Time</h3>
<p><code>Sys.time()</code> and <code>now()</code> return the date, time and the timezone. In <code>now()</code>, we can specify the timezone using the <code>tzone</code> argument.</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb410-1" title="1"><span class="kw">Sys.time</span>()</a></code></pre></div>
<pre><code>## [1] &quot;2020-03-30 15:20:39 IST&quot;</code></pre>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb412-1" title="1">lubridate<span class="op">::</span><span class="kw">now</span>()</a></code></pre></div>
<pre><code>## [1] &quot;2020-03-30 15:20:39 IST&quot;</code></pre>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb414-1" title="1">lubridate<span class="op">::</span><span class="kw">now</span>(<span class="dt">tzone =</span> <span class="st">&quot;UTC&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2020-03-30 09:50:39 UTC&quot;</code></pre>
</div>
<div id="am-or-pm" class="section level3">
<h3><span class="header-section-number">9.1.3</span> AM or PM?</h3>
<p><code>am()</code> and <code>pm()</code> allow us to check whether date/time occur in the am or pm? They return a logical value i.e. <code>TRUE</code> or <code>FALSE</code></p>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb416-1" title="1">lubridate<span class="op">::</span><span class="kw">am</span>(<span class="kw">now</span>())</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb418-1" title="1">lubridate<span class="op">::</span><span class="kw">pm</span>(<span class="kw">now</span>())</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="leap-year" class="section level3">
<h3><span class="header-section-number">9.1.4</span> Leap Year</h3>
<p>We can also check if the current year is a leap year using <code>leap_year()</code>.</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb420-1" title="1">lubridate<span class="op">::</span><span class="kw">leap_year</span>(<span class="kw">Sys.Date</span>())</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="summary-4" class="section level3">
<h3><span class="header-section-number">9.1.5</span> Summary</h3>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>Sys.Date()</code>
</td>
<td style="text-align:left;">
Current Date
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>lubridate::today()</code>
</td>
<td style="text-align:left;">
Current Date
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>Sys.time()</code>
</td>
<td style="text-align:left;">
Current Time
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>lubridate::now()</code>
</td>
<td style="text-align:left;">
Current Time
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>lubridate::am()</code>
</td>
<td style="text-align:left;">
Whether time occurs in am?
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>lubridate::pm()</code>
</td>
<td style="text-align:left;">
Whether time occurs in pm?
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>lubridate::leap_year()</code>
</td>
<td style="text-align:left;">
Check if the year is a leap year?
</td>
</tr>
</tbody>
</table>
</div>
<div id="your-turn-1" class="section level3">
<h3><span class="header-section-number">9.1.6</span> Your Turn</h3>
<ul>
<li>get current date</li>
<li>get current time</li>
<li>check whether the time occurs in am or pm?</li>
<li>check whether the following years were leap years
<ul>
<li>2018</li>
<li>2016</li>
</ul></li>
</ul>
</div>
</div>
<div id="case-study-10" class="section level2">
<h2><span class="header-section-number">9.2</span> Case Study</h2>
<p>Throughout the tutorial, we will work on a case study related to transactions of a imaginary company. The data set includes information about
invoice and payment dates.</p>
<div id="data-4" class="section level3">
<h3><span class="header-section-number">9.2.1</span> Data</h3>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb422-1" title="1">transact &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/rsquaredacademy/datasets/master/transact.csv&#39;</span>)</a></code></pre></div>
<pre><code>## # A tibble: 2,466 x 3
##    Invoice    Due        Payment   
##    &lt;date&gt;     &lt;date&gt;     &lt;date&gt;    
##  1 2013-01-02 2013-02-01 2013-01-15
##  2 2013-01-26 2013-02-25 2013-03-03
##  3 2013-07-03 2013-08-02 2013-07-08
##  4 2013-02-10 2013-03-12 2013-03-17
##  5 2012-10-25 2012-11-24 2012-11-28
##  6 2012-01-27 2012-02-26 2012-02-22
##  7 2013-08-13 2013-09-12 2013-09-09
##  8 2012-12-16 2013-01-15 2013-01-12
##  9 2012-05-14 2012-06-13 2012-07-01
## 10 2013-07-01 2013-07-31 2013-07-26
## # ... with 2,456 more rows</code></pre>
</div>
<div id="data-dictionary-4" class="section level3">
<h3><span class="header-section-number">9.2.2</span> Data Dictionary</h3>
<p>The data set has 3 columns. All the dates are in the format (yyyy-mm-dd).</p>
<p><br>
<br></p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Column
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Invoice
</td>
<td style="text-align:left;">
Invoice Date
</td>
</tr>
<tr>
<td style="text-align:left;">
Due
</td>
<td style="text-align:left;">
Due Date
</td>
</tr>
<tr>
<td style="text-align:left;">
Payment
</td>
<td style="text-align:left;">
Payment Date
</td>
</tr>
</tbody>
</table>
<p>In the case study, we will try to answer a few questions we have about the <code>transact</code> data.</p>
<ul>
<li>extract date, month and year from Due</li>
<li>compute the number of days to settle invoice</li>
<li>compute days over due</li>
<li>check if due year is a leap year</li>
<li>check when due day in february is 29, whether it is a leap year</li>
<li>how many invoices were settled within due date</li>
<li>how many invoices are due in each quarter</li>
</ul>
</div>
</div>
<div id="date-time-classes" class="section level2">
<h2><span class="header-section-number">9.3</span> Date &amp; Time Classes</h2>
<div id="introduction-9" class="section level3">
<h3><span class="header-section-number">9.3.1</span> Introduction</h3>
<p>In this section, we will look at two things. First, how to create date/time
data in R, and second, how to convert other data types to date/time. Let us
begin by creating the latest R release date manually.</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb424-1" title="1">release_date &lt;-<span class="st"> </span><span class="dv">2019-12-12</span></a>
<a class="sourceLine" id="cb424-2" title="2">release_date</a></code></pre></div>
<pre><code>## [1] 1995</code></pre>
<p>Okay! Why do we see <code>1995</code> when we call the date? What is happening here? Let us
quickly check the data type of <code>release_date</code>.</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb426-1" title="1"><span class="kw">class</span>(release_date)</a></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>The data type is <code>numeric</code> i.e. R has subtracted <code>12</code> twice from <code>2019</code> to
return <code>1995</code>. Clearly, the above method is not the right way to store
date/time. Let us see if we can get some hints from the builtin R functions we
used in the previous section. If you observe the output, all of them returned
date/time wrapped in quotes. Hmmm… let us wrap our date in quotes and see what
happens.</p>
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb428-1" title="1">release_date &lt;-<span class="st"> &quot;2019-12-12&quot;</span></a>
<a class="sourceLine" id="cb428-2" title="2">release_date</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12&quot;</code></pre>
<p>Alright, now R does not do any arithmetic and returns the date as we specified.
Great! Is this the right format to store date/time? No. Why? What is the problem
if date/time is saved as character/string? The problem is the nature or type of
operations done on date or time is different when compared to string/character,
number or logical values.</p>
<ul>
<li>how do we add/subtract dates?</li>
<li>how do we extract components such as year, month, day etc.</li>
</ul>
<p>To answer the above questions, we will first check the data type of <code>Sys.Date()</code>
and <code>now()</code>.</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb430-1" title="1"><span class="kw">class</span>(<span class="kw">Sys.Date</span>())</a></code></pre></div>
<pre><code>## [1] &quot;Date&quot;</code></pre>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb432-1" title="1"><span class="kw">class</span>(lubridate<span class="op">::</span><span class="kw">now</span>())</a></code></pre></div>
<pre><code>## [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</code></pre>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb434-1" title="1"><span class="kw">class</span>(release_date)</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>As you can see from the above output, there are 3 different classes for storing
date/time in R</p>
<ul>
<li><code>Date</code></li>
<li><code>POSIXct</code></li>
<li><code>POSIXlt</code></li>
</ul>
<p>Let us explore each of the above classes one by one.</p>
</div>
<div id="date-1" class="section level3">
<h3><span class="header-section-number">9.3.2</span> Date</h3>
<div id="introduction-10" class="section level4">
<h4><span class="header-section-number">9.3.2.1</span> Introduction</h4>
<p>The <code>Date</code> class represents calendar dates. Let us go back to <code>Sys.Date()</code>. If
you check the class of <code>Sys.Date()</code>, it is <code>Date</code>. Internally, this date is a
number i.e. an integer. The <code>unclass()</code> function will show dates are stored
internally.</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb436-1" title="1"><span class="kw">unclass</span>(<span class="kw">Sys.Date</span>())</a></code></pre></div>
<pre><code>## [1] 18351</code></pre>
<p>What does this integer represent? Why has R stored the date as an integer?
Before we answer this question, we need to know something else. In R, dates are
represented as the number of days since <code>1970-01-01</code>. All the dates in R are
internally stored in this way. Before we explore this concept further, let us
learn to create <code>Date</code> objects in R. We will continue to use the latest R
release date, <code>2019-12-12</code>.</p>
<p>Until now, we have stored the above date as character/string but now we will use
<code>as.Date()</code> to save it as a <code>Date</code> object. <code>as.Date()</code> is the easiest and
simplest way to create dates in R.</p>
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb438-1" title="1">release_date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;2019-12-12&quot;</span>)</a>
<a class="sourceLine" id="cb438-2" title="2">release_date</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12&quot;</code></pre>
<p>The <code>as_date()</code> function from the lubridate package is similar to <code>as.Date()</code>.</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb440-1" title="1">release_date &lt;-<span class="st"> </span>lubridate<span class="op">::</span><span class="kw">as_date</span>(<span class="st">&quot;2019-12-12&quot;</span>)</a>
<a class="sourceLine" id="cb440-2" title="2">release_date</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12&quot;</code></pre>
<p>If you look at the difference between <code>release_date</code> and <code>1970-01-01</code>, it will
be the same as <code>unclass(release_date)</code>.</p>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb442-1" title="1">release_date <span class="op">-</span><span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;1970-01-01&quot;</span>)</a></code></pre></div>
<pre><code>## Time difference of 18242 days</code></pre>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb444-1" title="1"><span class="kw">unclass</span>(release_date)</a></code></pre></div>
<pre><code>## [1] 18242</code></pre>
<p>Let us come back to <code>1970-01-01</code> i.e. the origin for dates in R.</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb446-1" title="1">lubridate<span class="op">::</span>origin</a></code></pre></div>
<pre><code>## [1] &quot;1970-01-01 UTC&quot;</code></pre>
<p>From the previous examples, we know that dates are internally stored as number
of days since <code>1970-01-01</code>. How about dates older than the origin? How are they
stored? Let us look at that briefly.</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb448-1" title="1"><span class="kw">unclass</span>(<span class="kw">as.Date</span>(<span class="st">&quot;1963-08-28&quot;</span>))</a></code></pre></div>
<pre><code>## [1] -2318</code></pre>
<p>Dates older than the origin are stored as negative integers. For those who are
not aware, Martin Luther King, Jr. delivered his famous <strong>I Have a Dream</strong>
speech on <code>1963-08-28</code>. Let us move on and learn how to convert numbers into
dates.</p>
</div>
<div id="convert-numeric" class="section level4">
<h4><span class="header-section-number">9.3.2.2</span> Convert Numeric</h4>
<p>The <code>as.Date()</code> function can be used to convert any of the following to a <code>Date</code>
object</p>
<ul>
<li>character/string</li>
<li>number</li>
<li>factor (categorical/qualitative)</li>
</ul>
<p>We have explored how to convert strings to date. How about converting numbers to
date? Sure, we can create date from numbers by specifying the origin and number
of days since it.</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb450-1" title="1"><span class="kw">as.Date</span>(<span class="dv">18242</span>, <span class="dt">origin =</span> <span class="st">&quot;1970-01-01&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12&quot;</code></pre>
<p>The origin can be changed to another date (while changing the number as well.)</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb452-1" title="1"><span class="kw">as.Date</span>(<span class="dv">7285</span>, <span class="dt">origin =</span> <span class="st">&quot;2000-01-01&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12&quot;</code></pre>
</div>
</div>
<div id="iso-8601" class="section level3">
<h3><span class="header-section-number">9.3.3</span> ISO 8601</h3>
<p><img src="img/iso.png" style="display: block; margin: auto;" /></p>
<p>If you have carefully observed, the format in which we have been specifying the
dates as well as of those returned by functions such as <code>Sys.Date()</code> or
<code>Sys.time()</code> is the same i.e. <code>YYYY-MM-DD</code>. It includes</p>
<ul>
<li>the year including the century</li>
<li>the month</li>
<li>the date</li>
</ul>
<p>The month and date separated by <code>-</code>. This default format used in R is the ISO
8601 standard for date/time. ISO 8601 is the internationally accepted way to
represent dates and times and uses the 24 hour clock system. Let us create the
release date using another function <code>ISOdate()</code>.</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb454-1" title="1"><span class="kw">ISOdate</span>(<span class="dt">year  =</span> <span class="dv">2019</span>,</a>
<a class="sourceLine" id="cb454-2" title="2">        <span class="dt">month =</span> <span class="dv">12</span>,</a>
<a class="sourceLine" id="cb454-3" title="3">        <span class="dt">day   =</span> <span class="dv">12</span>,</a>
<a class="sourceLine" id="cb454-4" title="4">        <span class="dt">hour  =</span> <span class="dv">8</span>,</a>
<a class="sourceLine" id="cb454-5" title="5">        <span class="dt">min   =</span> <span class="dv">5</span>, </a>
<a class="sourceLine" id="cb454-6" title="6">        <span class="dt">sec   =</span> <span class="dv">3</span>,</a>
<a class="sourceLine" id="cb454-7" title="7">        <span class="dt">tz    =</span> <span class="st">&quot;UTC&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 08:05:03 UTC&quot;</code></pre>
<p>We will look at all the different weird ways in which date/time are specified in
the real world in the <a href="lubridate.html#date-time-formats">Date &amp; Time Formats</a> section. For the time being, let us
continue exploring date/time classes in R. The next class we are going to look
at is <code>POSIXct/POSIXlt</code>.</p>
</div>
<div id="posix" class="section level3">
<h3><span class="header-section-number">9.3.4</span> POSIX</h3>
<p>You might be wondering what is this POSIX thing? POSIX stands for <strong>P</strong>ortable
<strong>O</strong>perating <strong>S</strong>ystem <strong>I</strong>nterface. It is a family of standards specified f
or maintaining compatibility between different operating systems. Before we
learn to create POSIX objects, let us look at <code>now()</code> from lubridate.</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb456-1" title="1"><span class="kw">class</span>(lubridate<span class="op">::</span><span class="kw">now</span>())</a></code></pre></div>
<pre><code>## [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</code></pre>
<p><code>now()</code> returns current date/time as a POSIXct object. Let us look at its
internal representation using <code>unclass()</code></p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb458-1" title="1"><span class="kw">unclass</span>(lubridate<span class="op">::</span><span class="kw">now</span>())</a></code></pre></div>
<pre><code>## [1] 1585561845
## attr(,&quot;tzone&quot;)
## [1] &quot;&quot;</code></pre>
<p>The output you see is the number of seconds since January 1, 1970.</p>
<div id="posixct" class="section level4">
<h4><span class="header-section-number">9.3.4.1</span> POSIXct</h4>
<p><code>POSIXct</code> represents the number of seconds since the beginning of 1970 (UTC) and
<code>ct</code> stands for calendar time. To store date/time as <code>POSIXct</code> objects, use
<code>as.POSIXct()</code>. Let us now store the latest R release date as <code>POSIXct</code> as shown
below</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb460-1" title="1">release_date &lt;-<span class="st"> </span><span class="kw">as.POSIXct</span>(<span class="st">&quot;2019-12-12 08:05:03&quot;</span>)</a>
<a class="sourceLine" id="cb460-2" title="2"><span class="kw">class</span>(release_date)</a></code></pre></div>
<pre><code>## [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</code></pre>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb462-1" title="1"><span class="kw">unclass</span>(release_date) </a></code></pre></div>
<pre><code>## [1] 1576118103
## attr(,&quot;tzone&quot;)
## [1] &quot;&quot;</code></pre>
</div>
<div id="posixlt" class="section level4">
<h4><span class="header-section-number">9.3.4.2</span> POSIXlt</h4>
<p><code>POSIXlt</code> represents the following information in a list</p>
<ul>
<li>seconds</li>
<li>minutes</li>
<li>hour</li>
<li>day of the month</li>
<li>month</li>
<li>year</li>
<li>day of week</li>
<li>day of year</li>
<li>daylight saving time flag</li>
<li>time zone</li>
<li>offset in seconds from GMT</li>
</ul>
<p>The <code>lt</code> in <code>POSIXlt</code> stands for local time. Use <code>as.POSIXlt()</code> to store
date/time as <code>POSIXlt</code> objects. Let us store the release date as a <code>POSIXlt</code>
object as shown below</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb464-1" title="1">release_date &lt;-<span class="st"> </span><span class="kw">as.POSIXlt</span>(<span class="st">&quot;2019-12-12 08:05:03&quot;</span>)</a>
<a class="sourceLine" id="cb464-2" title="2">release_date</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 08:05:03 IST&quot;</code></pre>
<p>As we said earlier, <code>POSIXlt</code> stores date/time components in a list and these
can be extracted. Let us look at the date/time components returned by <code>POSIXlt</code>
using <code>unclass()</code>.</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb466-1" title="1">release_date &lt;-<span class="st"> </span><span class="kw">as.POSIXlt</span>(<span class="st">&quot;2019-12-12 08:05:03&quot;</span>)</a>
<a class="sourceLine" id="cb466-2" title="2"><span class="kw">unclass</span>(release_date)</a></code></pre></div>
<pre><code>## $sec
## [1] 3
## 
## $min
## [1] 5
## 
## $hour
## [1] 8
## 
## $mday
## [1] 12
## 
## $mon
## [1] 11
## 
## $year
## [1] 119
## 
## $wday
## [1] 4
## 
## $yday
## [1] 345
## 
## $isdst
## [1] 0
## 
## $zone
## [1] &quot;IST&quot;
## 
## $gmtoff
## [1] NA</code></pre>
<p>Use <code>unlist()</code> if you want the components returned as a <code>vector</code>.</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb468-1" title="1">release_date &lt;-<span class="st"> </span><span class="kw">as.POSIXlt</span>(<span class="st">&quot;2019-12-12 08:05:03&quot;</span>)</a>
<a class="sourceLine" id="cb468-2" title="2"><span class="kw">unlist</span>(release_date)</a></code></pre></div>
<pre><code>##    sec    min   hour   mday    mon   year   wday   yday  isdst   zone gmtoff 
##    &quot;3&quot;    &quot;5&quot;    &quot;8&quot;   &quot;12&quot;   &quot;11&quot;  &quot;119&quot;    &quot;4&quot;  &quot;345&quot;    &quot;0&quot;  &quot;IST&quot;     NA</code></pre>
<p>To extract specific components, use <code>$</code>.</p>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb470-1" title="1">release_date &lt;-<span class="st"> </span><span class="kw">as.POSIXlt</span>(<span class="st">&quot;2019-12-12 08:05:03&quot;</span>)</a>
<a class="sourceLine" id="cb470-2" title="2">release_date<span class="op">$</span>hour</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb472-1" title="1">release_date<span class="op">$</span>mon</a></code></pre></div>
<pre><code>## [1] 11</code></pre>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb474-1" title="1">release_date<span class="op">$</span>zone</a></code></pre></div>
<pre><code>## [1] &quot;IST&quot;</code></pre>
<p>Now, let us look at the components returned by <code>POSIXlt</code>. Some of them are
intuitive</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Component
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>sec</code>
</td>
<td style="text-align:left;">
Second
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>min</code>
</td>
<td style="text-align:left;">
Minute
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>hour</code>
</td>
<td style="text-align:left;">
Hour of the day
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>mon</code>
</td>
<td style="text-align:left;">
Month of the year (0-11
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>zone</code>
</td>
<td style="text-align:left;">
Timezone
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>wday</code>
</td>
<td style="text-align:left;">
Day of week
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>mday</code>
</td>
<td style="text-align:left;">
Day of month
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>year</code>
</td>
<td style="text-align:left;">
Years since 1900
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>yday</code>
</td>
<td style="text-align:left;">
Day of year
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>isdst</code>
</td>
<td style="text-align:left;">
Daylight saving flag
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>gmtoff</code>
</td>
<td style="text-align:left;">
Offset is seconds from GMT
</td>
</tr>
</tbody>
</table>
<p>Great! We will end this section with a few tips/suggestions on when to use
<code>Date</code> or <code>POSIXct/POSIXlt</code>.</p>
<ul>
<li>use <code>Date</code> when there is no time component</li>
<li>use <code>POSIX</code> when dealing with time and timezones</li>
<li>use <code>POSIXlt</code> when you want to access/extract the different components</li>
</ul>
</div>
</div>
<div id="your-turn-2" class="section level3">
<h3><span class="header-section-number">9.3.5</span> Your Turn</h3>
<p>R 1.0.0 was released on <code>2000-02-29 08:55:23 UTC</code>. Save it as</p>
<ul>
<li><code>Date</code> using character</li>
<li><code>Date</code> using origin and number</li>
<li><code>POSIXct</code></li>
<li><code>POSIXlt</code> and extract
<ul>
<li>month day</li>
<li>day of year</li>
<li>month</li>
<li>zone</li>
</ul></li>
<li>ISODate</li>
</ul>
</div>
</div>
<div id="date-arithmetic" class="section level2">
<h2><span class="header-section-number">9.4</span> Date Arithmetic</h2>
<div id="introduction-11" class="section level3">
<h3><span class="header-section-number">9.4.1</span> Introduction</h3>
<p>Time to do some arithmetic with the dates. Let us calculate the length of a
course you have enrolled for (Become a Rock Star Data Scientist in 10 Days) by subtracting the course start date from the course end date.</p>
<p><br></p>
<p><img src="img/course_duration.png" width="100%" style="display: block; margin: auto;" /></p>
<p><br></p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb476-1" title="1">course_start    &lt;-<span class="st"> </span><span class="kw">as_date</span>(<span class="st">&#39;2017-04-12&#39;</span>)</a>
<a class="sourceLine" id="cb476-2" title="2">course_end      &lt;-<span class="st"> </span><span class="kw">as_date</span>(<span class="st">&#39;2017-04-21&#39;</span>)</a>
<a class="sourceLine" id="cb476-3" title="3">course_duration &lt;-<span class="st"> </span>course_end <span class="op">-</span><span class="st"> </span>course_start</a>
<a class="sourceLine" id="cb476-4" title="4">course_duration</a>
<a class="sourceLine" id="cb476-5" title="5"><span class="co">## Time difference of 9 days</span></a></code></pre></div>
</div>
<div id="shift-date" class="section level3">
<h3><span class="header-section-number">9.4.2</span> Shift Date</h3>
<p>Time to shift the course dates. We can shift a date by days, weeks or months. Let us shift the course start date by:</p>
<ul>
<li>2 days</li>
<li>3 weeks</li>
<li>1 year</li>
</ul>
<p><br></p>
<p><img src="img/shift_dates.png" width="100%" style="display: block; margin: auto;" /></p>
<p><br></p>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb477-1" title="1">course_start <span class="op">+</span><span class="st"> </span><span class="kw">days</span>(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb477-2" title="2"><span class="co">## [1] &quot;2017-04-14&quot;</span></a>
<a class="sourceLine" id="cb477-3" title="3">course_start <span class="op">+</span><span class="st"> </span><span class="kw">weeks</span>(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb477-4" title="4"><span class="co">## [1] &quot;2017-05-03&quot;</span></a>
<a class="sourceLine" id="cb477-5" title="5">course_start <span class="op">+</span><span class="st"> </span><span class="kw">years</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb477-6" title="6"><span class="co">## [1] &quot;2018-04-12&quot;</span></a></code></pre></div>
</div>
<div id="case-study-11" class="section level3">
<h3><span class="header-section-number">9.4.3</span> Case Study</h3>
<div id="compute-days-to-settle-invoice" class="section level4">
<h4><span class="header-section-number">9.4.3.1</span> Compute days to settle invoice</h4>
<p>Let us estimate the number of days to settle the invoice by subtracting the
date of invoice from the date of payment.</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb478-1" title="1">transact <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb478-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb478-3" title="3">    <span class="dt">days_to_pay =</span> Payment <span class="op">-</span><span class="st"> </span>Invoice</a>
<a class="sourceLine" id="cb478-4" title="4">  )</a></code></pre></div>
<pre><code>## # A tibble: 2,466 x 4
##    Invoice    Due        Payment    days_to_pay
##    &lt;date&gt;     &lt;date&gt;     &lt;date&gt;     &lt;drtn&gt;     
##  1 2013-01-02 2013-02-01 2013-01-15 13 days    
##  2 2013-01-26 2013-02-25 2013-03-03 36 days    
##  3 2013-07-03 2013-08-02 2013-07-08  5 days    
##  4 2013-02-10 2013-03-12 2013-03-17 35 days    
##  5 2012-10-25 2012-11-24 2012-11-28 34 days    
##  6 2012-01-27 2012-02-26 2012-02-22 26 days    
##  7 2013-08-13 2013-09-12 2013-09-09 27 days    
##  8 2012-12-16 2013-01-15 2013-01-12 27 days    
##  9 2012-05-14 2012-06-13 2012-07-01 48 days    
## 10 2013-07-01 2013-07-31 2013-07-26 25 days    
## # ... with 2,456 more rows</code></pre>
</div>
<div id="compute-days-over-due" class="section level4">
<h4><span class="header-section-number">9.4.3.2</span> Compute days over due</h4>
<p>How many of the invoices were settled post the due date? We can find this by:</p>
<ul>
<li>subtracting the due date from the payment date</li>
<li>counting the number of rows where delay &lt; 0</li>
</ul>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb480-1" title="1">transact <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb480-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb480-3" title="3">    <span class="dt">delay =</span> Due <span class="op">-</span><span class="st"> </span>Payment</a>
<a class="sourceLine" id="cb480-4" title="4">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb480-5" title="5"><span class="st">  </span><span class="kw">filter</span>(delay <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb480-6" title="6"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb480-7" title="7">    <span class="dt">delay =</span> delay <span class="op">*</span><span class="st"> </span><span class="dv">-1</span></a>
<a class="sourceLine" id="cb480-8" title="8">  ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb480-9" title="9"><span class="st">  </span><span class="kw">count</span>(delay)</a></code></pre></div>
<pre><code>## # A tibble: 36 x 2
##    delay       n
##    &lt;drtn&gt;  &lt;int&gt;
##  1  1 days    61
##  2  2 days    65
##  3  3 days    51
##  4  4 days    62
##  5  5 days    69
##  6  6 days    56
##  7  7 days    55
##  8  8 days    49
##  9  9 days    38
## 10 10 days    33
## # ... with 26 more rows</code></pre>
</div>
</div>
<div id="your-turn-3" class="section level3">
<h3><span class="header-section-number">9.4.4</span> Your Turn</h3>
<ul>
<li>compute the length of a vacation which begins on <code>2020-04-19</code> and ends on <code>2020-04-25</code></li>
<li>recompute the length of the vacation after shifting the vacation start and end date by <code>10</code> days and <code>2</code> weeks</li>
<li>compute the days to settle invoice and days overdue from the <code>receivables.csv</code> data set</li>
<li>compute the length of employment (only for those employees who have been terminated) from the <code>hr-data.csv</code> data set (use date of hire and termination)</li>
</ul>
</div>
</div>
<div id="time-zones" class="section level2">
<h2><span class="header-section-number">9.5</span> Time Zones</h2>
<div id="introduction-12" class="section level3">
<h3><span class="header-section-number">9.5.1</span> Introduction</h3>
<p><img src="img/lub_timezones.jpg" width="200%" style="display: block; margin: auto;" /></p>
<p>In the previous section, <code>POSIXlt</code> stored date/time components as a list. Among
the different components it returned were</p>
<ul>
<li><code>gmtoff</code></li>
<li><code>zone</code></li>
</ul>
<p><code>gmtoff</code> is offset in seconds from GMT i.e. difference in hours and minutes from
UTC. Wait.. What do UTC and GMT stand for?</p>
<ul>
<li>Coordinated Universal Time (UTC)</li>
<li>Greenwich Meridian Time (GMT)</li>
</ul>
<p>Since we are talking about UTC, GMT etc., let us spend a little time on
understanding the basics of time zones and daylight savings.</p>
</div>
<div id="time-zones-1" class="section level3">
<h3><span class="header-section-number">9.5.2</span> Time Zones</h3>
<p>Timezones exist because different parts of the Earth receive sun light at
different times. If there was a single timezone, noon or morning would mean
different things in different parts of the world. The timezones are based on
Earth’s rotation. The Earth moves ~15 degrees every 60 minutes i.e. 360 degrees
in 24 hours. The planet is divided into 24 timezones each 15 degrees of
longitude width.</p>
<p>Now, you have heard of Greenwich Meridian Time (GMT) right? We just saw GMT off
set in <code>POSIXlt</code> and you would have come across it in other time formats as
well. For example, India timezone is given as GMT +5:30. Let us explore GMT in a
little more detail. Greenwich is a suburb of London and the time at Greenwich
is <strong>G</strong>reenwich <strong>M</strong>ean <strong>T</strong>ime. As you move West from Greenwich, every 15
degree section is one hour earlier than GMT and every 15 degree section to the
East is an hour later.</p>
<p>Alright! What is <strong>UTC</strong> then? <strong>C</strong>oordinated <strong>U</strong>niversal <strong>T</strong>ime (UTC) ,
on the other hand, is the time standard commonly used across the world. Even
though they share the same current time, <strong>GMT</strong> is a <strong>timezone</strong> while
<strong>UTC</strong> is a <strong>time standard</strong>.</p>
<p>So how do we check the timezone in R? When you run <code>Sys.timezone()</code>, you should
be able to see the timezone you are in.</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb482-1" title="1"><span class="kw">Sys.timezone</span>()</a></code></pre></div>
<pre><code>## [1] &quot;Asia/Calcutta&quot;</code></pre>
<p>If you do not see the timezone, use <code>Sys.getenv()</code> to get the value of the
<strong>TZ</strong> environment variable.</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb484-1" title="1"><span class="kw">Sys.getenv</span>(<span class="st">&quot;TZ&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;&quot;</code></pre>
<p>If nothing is returned, it means we have to set the timezone. Use <code>Sys.setenv()</code>
to set the timezone as shown below. The author resides in India and hence the
timezone is set to <code>Asia/Calcutta</code>. You need to set the timezone in which you
reside or work.</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb486-1" title="1"><span class="kw">Sys.setenv</span>(<span class="dt">TZ =</span> <span class="st">&quot;Asia/Calcutta&quot;</span>)</a></code></pre></div>
<p>Another way to get the timezone is through <code>tz()</code> from the lubridate package.</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb487-1" title="1">lubridate<span class="op">::</span><span class="kw">tz</span>(<span class="kw">Sys.time</span>())</a></code></pre></div>
<pre><code>## [1] &quot;Asia/Calcutta&quot;</code></pre>
<p>If you want to view the time in a different timezone, use <code>with_tz()</code>. Let us
look at the current time in <strong>UTC</strong> instead of <strong>Indian Standard Time</strong>.</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb489-1" title="1">lubridate<span class="op">::</span><span class="kw">with_tz</span>(<span class="kw">Sys.time</span>(), <span class="st">&quot;UTC&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2020-03-30 09:50:49 UTC&quot;</code></pre>
</div>
<div id="daylight-savings" class="section level3">
<h3><span class="header-section-number">9.5.3</span> Daylight Savings</h3>
<p><img src="img/lub_daylight_savings.png" width="200%" style="display: block; margin: auto;" /></p>
<p>Daylight savings also known as</p>
<ul>
<li>daylight saving time</li>
<li>daylight savings time</li>
<li>daylight time</li>
<li>summer time</li>
</ul>
<p>is the practice of advancing clocks during summer months so that darkness falls
later each day according to the clock. In other words</p>
<ul>
<li>advance clock by one hour in spring (spring forward)</li>
<li>retard clocks by one hour in autumn (fall back)</li>
</ul>
<p>In R, the <code>dst()</code> function is an indicator for daylight savings. It returns
<code>TRUE</code> if daylight saving is in force, <code>FALSE</code> if not and <code>NA</code> if unknown.</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb491-1" title="1"><span class="kw">dst</span>(<span class="kw">Sys.Date</span>()) </a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="your-turn-4" class="section level3">
<h3><span class="header-section-number">9.5.4</span> Your Turn</h3>
<ul>
<li>check the timezone you live in</li>
<li>check if daylight savings in on</li>
<li>check the current time in <strong>UTC</strong> or a different time zone</li>
</ul>
</div>
</div>
<div id="date-time-formats" class="section level2">
<h2><span class="header-section-number">9.6</span> Date &amp; Time Formats</h2>
<div id="introduction-13" class="section level3">
<h3><span class="header-section-number">9.6.1</span> Introduction</h3>
<p>After the timezones and daylight savings detour, let us get back on path and
explore another important aspect, date &amp; time formats. Although it is a good
practice to adher to ISO 8601 format, not all date/time data will comply with
it. In real world, date/time data may come in all types of weird formats. Below
is a sample</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Format
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
December 12, 2019
</td>
</tr>
<tr>
<td style="text-align:left;">
12th Dec, 2019
</td>
</tr>
<tr>
<td style="text-align:left;">
Dec 12th, 19
</td>
</tr>
<tr>
<td style="text-align:left;">
12-Dec-19
</td>
</tr>
<tr>
<td style="text-align:left;">
2019 December
</td>
</tr>
<tr>
<td style="text-align:left;">
12.12.19
</td>
</tr>
</tbody>
</table>
<p>When the data is not in the default ISO 8601 format, we need to explicitly
specify the format in R. We do this using conversion specifications. A
conversion specification is introduced by %, usually followed by a single
letter or O or E and then a single letter.</p>
</div>
<div id="conversion-specifications" class="section level3">
<h3><span class="header-section-number">9.6.2</span> Conversion Specifications</h3>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Specification
</th>
<th style="text-align:left;">
Description
</th>
<th style="text-align:left;">
Example
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>%d</code>
</td>
<td style="text-align:left;">
Day of the month (decimal number)
</td>
<td style="text-align:left;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%m</code>
</td>
<td style="text-align:left;">
Month (decimal number)
</td>
<td style="text-align:left;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%b</code>
</td>
<td style="text-align:left;">
Month (abbreviated)
</td>
<td style="text-align:left;">
Dec
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%B</code>
</td>
<td style="text-align:left;">
Month (full name)
</td>
<td style="text-align:left;">
December
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%y</code>
</td>
<td style="text-align:left;">
Year (2 digit)
</td>
<td style="text-align:left;">
19
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%Y</code>
</td>
<td style="text-align:left;">
Year (4 digit)
</td>
<td style="text-align:left;">
2019
</td>
</tr>
<tr>
<td style="text-align:left;">
%H
</td>
<td style="text-align:left;">
Hour
</td>
<td style="text-align:left;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
%M
</td>
<td style="text-align:left;">
Minute
</td>
<td style="text-align:left;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
%S
</td>
<td style="text-align:left;">
Second
</td>
<td style="text-align:left;">
3
</td>
</tr>
</tbody>
</table>
<p>Time to work through a few examples. Let us say you are dealing with dates in
the format <code>19/12/12</code>. In this format, the year comes first followed by month
and the date; each separated by a backslash (<code>/</code>). The year consists of only 2
digits i.e. it does not include the century. Let us now map each component of
the date to the format table shown at the beginning.</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Specification
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
19
</td>
<td style="text-align:left;">
<code>%y</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
12
</td>
<td style="text-align:left;">
<code>%m</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
12
</td>
<td style="text-align:left;">
<code>%d</code>
</td>
</tr>
</tbody>
</table>
<p>Using the format argument, we will specify the date format as a character vector
i.e. enclosed in quotes.</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb493-1" title="1"><span class="kw">as.Date</span>(<span class="st">&quot;19/12/12&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;%y/%m/%d&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12&quot;</code></pre>
<p>Another way in which the release data can be written is <code>2019-Dec-12</code>. We still
have the year followed by the month and the date but there are a few changes
here:</p>
<ul>
<li>the components are separated by a <code>-</code> instead of <code>/</code></li>
<li>year has 4 digits i.e. includes the century</li>
<li>the month is specified using abbreviation instead of digits</li>
</ul>
<p>Let us map the components to the format table:</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Specification
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2019
</td>
<td style="text-align:left;">
<code>%Y</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
Dec
</td>
<td style="text-align:left;">
<code>%b</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
12
</td>
<td style="text-align:left;">
<code>%d</code>
</td>
</tr>
</tbody>
</table>
<p>Let us specify the format for the date using the above mapping.</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb495-1" title="1"><span class="kw">as.Date</span>(<span class="st">&quot;2019-Dec-12&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;%Y-%b-%d&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12&quot;</code></pre>
<p>In both the above examples, we have not dealt with time components. Let us
include the time of the latest R release in the next one i.e. 
<code>19/12/12 08:05:03</code>.</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Specification
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
19
</td>
<td style="text-align:left;">
<code>%y</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
12
</td>
<td style="text-align:left;">
<code>%m</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
12
</td>
<td style="text-align:left;">
<code>%d</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
08
</td>
<td style="text-align:left;">
<code>%H</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
<code>%M</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
03
</td>
<td style="text-align:left;">
<code>%S</code>
</td>
</tr>
</tbody>
</table>
<p>Since we are dealing with time, we will use <code>as.POSIXct()</code> instead of
<code>as.Date()</code>.</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb497-1" title="1"><span class="kw">as.POSIXct</span>(<span class="st">&quot;19/12/12 08:05:03&quot;</span>, <span class="dt">tz =</span> <span class="st">&quot;UTC&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;%y/%m/%d %H:%M:%S&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 08:05:03 UTC&quot;</code></pre>
<p>In the below table, we look at some of the most widely used conversion
specifications. You can learn more about these specifications by running
<code>?strptime</code> or <code>help(strptime)</code>.</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Specification
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>%a</code>
</td>
<td style="text-align:left;">
Abbreviated weekday
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%A</code>
</td>
<td style="text-align:left;">
Full weekday
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%C</code>
</td>
<td style="text-align:left;">
Century (00-99)
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%D</code>
</td>
<td style="text-align:left;">
Same as <code>%m/%d/%y</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%e</code>
</td>
<td style="text-align:left;">
Day of month [1 - 31]
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%F</code>
</td>
<td style="text-align:left;">
Same as <code>%Y-%m-%d</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%h</code>
</td>
<td style="text-align:left;">
Same as <code>%b</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%I</code>
</td>
<td style="text-align:left;">
Hours as decimal [01 - 12]
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%j</code>
</td>
<td style="text-align:left;">
Day of year [001 - 366]
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%R</code>
</td>
<td style="text-align:left;">
Same as <code>%H:%M</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%t</code>
</td>
<td style="text-align:left;">
Tab
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%T</code>
</td>
<td style="text-align:left;">
Same as <code>%H:%M:%S</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%u</code>
</td>
<td style="text-align:left;">
Weekday <a href="Monday%20is%201">1 - 7</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%U</code>
</td>
<td style="text-align:left;">
Week of year [00 - 53]
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%V</code>
</td>
<td style="text-align:left;">
Week of year [01 - 53]
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%w</code>
</td>
<td style="text-align:left;">
Weekday <a href="sunday%20is%200">0 - 6</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>%W</code>
</td>
<td style="text-align:left;">
Week of year [00 - 53]
</td>
</tr>
</tbody>
</table>
<p>We have included a lot of practice questions for you to explore the different
date/time formats. The solutions are available in the Learning Management system
as well as in our GitHub repo. Try them and let us know if you have any doubts.</p>
</div>
<div id="guess-format" class="section level3">
<h3><span class="header-section-number">9.6.3</span> Guess Format</h3>
<p><code>guess_formats()</code> from lubridate is a very useful function. It will guess the
date/time format if you specify the order in which year, month, date, hour,
minute and second appear.</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb499-1" title="1">release_date_formats &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;December 12th 2019&quot;</span>,</a>
<a class="sourceLine" id="cb499-2" title="2">                        <span class="st">&quot;Dec 12th 19&quot;</span>,</a>
<a class="sourceLine" id="cb499-3" title="3">                        <span class="st">&quot;dec 12 2019&quot;</span>)</a>
<a class="sourceLine" id="cb499-4" title="4"></a>
<a class="sourceLine" id="cb499-5" title="5"><span class="kw">guess_formats</span>(release_date_formats, </a>
<a class="sourceLine" id="cb499-6" title="6">              <span class="dt">orders =</span> <span class="st">&quot;mdy&quot;</span>, </a>
<a class="sourceLine" id="cb499-7" title="7">              <span class="dt">print_matches =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>##                           Omdy          mdy         
## [1,] &quot;December 12th 2019&quot; &quot;%Om %dth %Y&quot; &quot;%B %dth %Y&quot;
## [2,] &quot;Dec 12th 19&quot;        &quot;%Om %dth %y&quot; &quot;%b %dth %y&quot;
## [3,] &quot;dec 12 2019&quot;        &quot;%Om %d %Y&quot;   &quot;%b %d %Y&quot;</code></pre>
<pre><code>##          Omdy          Omdy          Omdy           mdy           mdy 
## &quot;%Om %dth %Y&quot; &quot;%Om %dth %y&quot;   &quot;%Om %d %Y&quot;  &quot;%B %dth %Y&quot;  &quot;%b %dth %y&quot; 
##           mdy 
##    &quot;%b %d %Y&quot;</code></pre>
</div>
<div id="your-turn-5" class="section level3">
<h3><span class="header-section-number">9.6.4</span> Your Turn</h3>
<p>Below, we have specified <code>July 5th, 2019</code> in different ways. Create the date using <code>as.Date()</code> while specifying the correct format for each of them.</p>
<ul>
<li><code>July-05-19</code></li>
<li><code>JUL-05-19</code></li>
<li><code>05.07.19</code></li>
<li><code>5-July 2019</code></li>
<li><code>July 5th, 2019</code></li>
<li><code>July 05, 2019</code></li>
<li><code>2019-July- 05</code></li>
<li><code>05/07/2019</code></li>
<li><code>07/05/2019</code></li>
<li><code>7/5/2019</code></li>
<li><code>07/5/19</code></li>
<li><code>2019-07-05</code></li>
</ul>
</div>
</div>
<div id="parse-date-time" class="section level2">
<h2><span class="header-section-number">9.7</span> Parse Date &amp; Time</h2>
<p>While creating date-time objects, we specified different formats using the
conversion specification but most often you will not create date/time and
instead deal with data thay comes your way from a system or
colleague/collaborator. In such cases, we need to be able to parse date/time
from the data provided to us. In this section, we will focus on parsing
date/time from character data. Both base R and the lubridate package offer
functions to parse date and time and we will explore a few of them in this
section. We will initially use functions from base R and later on explore those
from lubridate which will give us an opportunity to compare and contrast. It
will also allow us to choose the functions based on the data we are dealing
with.</p>
<p><code>strptime()</code> will convert character data to <code>POSIXlt</code>. You will use this when
converting from character data to date/time. On the other hand, if you want to
convert date/time to character data, use any of the following:</p>
<ul>
<li><code>strftime()</code></li>
<li><code>format()</code></li>
<li><code>as.character()</code></li>
</ul>
<p>The above functions will convert <code>POSIXct/POSIXlt</code> to character. Let us start
with a simple example. The data we have been supplied has date/time as
character data and in the format <code>YYYYMMDD</code> i.e. nothing separates the year,
month and date from each other. We will use <code>strptime()</code> to convert this to an
object of class <code>POSIXlt</code>.</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb502-1" title="1">rel_date &lt;-<span class="st"> </span><span class="kw">strptime</span>(<span class="st">&quot;20191212&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;%Y%m%d&quot;</span>)</a>
<a class="sourceLine" id="cb502-2" title="2"><span class="kw">class</span>(rel_date)</a></code></pre></div>
<pre><code>## [1] &quot;POSIXlt&quot; &quot;POSIXt&quot;</code></pre>
<p>If you have a basic knowledge of conversion specifications, you can use
<code>strptime()</code> to convert character data to <code>POSIXlt</code>. Let us quickly explore the
functions to convert date/time to character data before moving on to the
functions from lubridate.</p>
<div class="sourceCode" id="cb504"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb504-1" title="1">rel_date_strf &lt;-<span class="st"> </span><span class="kw">strftime</span>(rel_date)</a>
<a class="sourceLine" id="cb504-2" title="2"><span class="kw">class</span>(rel_date_strf)</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb506"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb506-1" title="1">rel_date_format &lt;-<span class="st"> </span><span class="kw">format</span>(rel_date)</a>
<a class="sourceLine" id="cb506-2" title="2"><span class="kw">class</span>(rel_date_format)</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb508"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb508-1" title="1">rel_date_char &lt;-<span class="st"> </span><span class="kw">as.character</span>(rel_date)</a>
<a class="sourceLine" id="cb508-2" title="2"><span class="kw">class</span>(rel_date_char)</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>As you can see, all the 3 functions converted date/time to character. Time to
move on and explore the lubridate package. We will start with an example in
which the release date is formatted in 3 different ways but they have one thing
in common i.e. the order in which the components appear. In all the 3 formats,
the year is followed by the month and then the date.</p>
<p>To parse the release date, we will use <code>parse_date_time()</code> from lubridate which
parses the input into <code>POSIXct</code> objects.</p>
<div class="sourceCode" id="cb510"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb510-1" title="1">release_date &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;19-12-12&quot;</span>, <span class="st">&quot;20191212&quot;</span>, <span class="st">&quot;19-12 12&quot;</span>)</a>
<a class="sourceLine" id="cb510-2" title="2"><span class="kw">parse_date_time</span>(release_date, <span class="st">&quot;ymd&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 UTC&quot; &quot;2019-12-12 UTC&quot; &quot;2019-12-12 UTC&quot;</code></pre>
<div class="sourceCode" id="cb512"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb512-1" title="1"><span class="kw">parse_date_time</span>(release_date, <span class="st">&quot;y m d&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 UTC&quot; &quot;2019-12-12 UTC&quot; &quot;2019-12-12 UTC&quot;</code></pre>
<div class="sourceCode" id="cb514"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb514-1" title="1"><span class="kw">parse_date_time</span>(release_date, <span class="st">&quot;%y%m%d&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 UTC&quot; &quot;2019-12-12 UTC&quot; &quot;2019-12-12 UTC&quot;</code></pre>
<p>Try to use <code>strptime()</code> in the above example and see what happens. Now, let us
look at another data set.</p>
<div class="sourceCode" id="cb516"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb516-1" title="1">release_date &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;19-07-05&quot;</span>, <span class="st">&quot;2019-07-05&quot;</span>, <span class="st">&quot;05-07-2019&quot;</span>, <span class="st">&quot;07-05-2019&quot;</span>)</a></code></pre></div>
<p>What happens in the below case? The same date appears in multiple formats. How
do we parse them? <code>parse_date_time()</code> allows us to specify mutiple date-time
formats. Let us first map the dates to their formats.</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Specification
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
19-07-05
</td>
<td style="text-align:left;">
<code>ymd</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
2019-07-05
</td>
<td style="text-align:left;">
<code>ymd</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
05-07-2019
</td>
<td style="text-align:left;">
<code>dmy</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
07-05-2019
</td>
<td style="text-align:left;">
<code>mdy</code>
</td>
</tr>
</tbody>
</table>
<p>The above specifications can be supplied as a character vector.</p>
<div class="sourceCode" id="cb517"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb517-1" title="1"><span class="kw">parse_date_time</span>(release_date, <span class="kw">c</span>(<span class="st">&quot;ymd&quot;</span>, <span class="st">&quot;ymd&quot;</span>, <span class="st">&quot;dmy&quot;</span>, <span class="st">&quot;mdy&quot;</span>))</a></code></pre></div>
<pre><code>## [1] &quot;2019-07-05 UTC&quot; &quot;2019-07-05 UTC&quot; &quot;2019-07-05 UTC&quot; &quot;2019-05-07 UTC&quot;</code></pre>
<p>Great! We have used both <code>strptime()</code> and <code>parse_date_time()</code> now. Can you tell
what differentiates <code>parse_date_time()</code> when compared to <code>strptime()</code>? We
summarize it in the points below:</p>
<ul>
<li>no need to include <code>%</code> prefix or separator</li>
<li>specify several date/time formats</li>
</ul>
<p>There are other helper functions that can be used to</p>
<ul>
<li>parse dates with year, month, day components</li>
<li>parse dates with year, month, day, hour, minute, seconds components</li>
<li>parse period with hour, minute, second components</li>
</ul>
<p>and are explored in the below examples.</p>
<div class="sourceCode" id="cb519"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb519-1" title="1"><span class="co"># year/month/date</span></a>
<a class="sourceLine" id="cb519-2" title="2"><span class="kw">ymd</span>(<span class="st">&quot;2019-12-12&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12&quot;</code></pre>
<div class="sourceCode" id="cb521"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb521-1" title="1"><span class="co"># year/month/date</span></a>
<a class="sourceLine" id="cb521-2" title="2"><span class="kw">ymd</span>(<span class="st">&quot;19/12/12&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12&quot;</code></pre>
<div class="sourceCode" id="cb523"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb523-1" title="1"><span class="co"># date/month/year</span></a>
<a class="sourceLine" id="cb523-2" title="2"><span class="kw">dmy</span>(<span class="dv">121219</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12&quot;</code></pre>
<div class="sourceCode" id="cb525"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb525-1" title="1"><span class="co"># year/month/date/hour/minute/second</span></a>
<a class="sourceLine" id="cb525-2" title="2"><span class="kw">ymd_hms</span>(<span class="dv">191212080503</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 08:05:03 UTC&quot;</code></pre>
<div class="sourceCode" id="cb527"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb527-1" title="1"><span class="co"># hour/minute/second</span></a>
<a class="sourceLine" id="cb527-2" title="2"><span class="kw">hms</span>(<span class="st">&quot;8, 5, 3&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;8H 5M 3S&quot;</code></pre>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb529-1" title="1"><span class="co"># hour/minute/second</span></a>
<a class="sourceLine" id="cb529-2" title="2"><span class="kw">hms</span>(<span class="st">&quot;08:05:03&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;8H 5M 3S&quot;</code></pre>
<div class="sourceCode" id="cb531"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb531-1" title="1"><span class="co"># minute/second</span></a>
<a class="sourceLine" id="cb531-2" title="2"><span class="kw">ms</span>(<span class="st">&quot;5,3&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;5M 3S&quot;</code></pre>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb533-1" title="1"><span class="co"># hour/minute</span></a>
<a class="sourceLine" id="cb533-2" title="2"><span class="kw">hm</span>(<span class="st">&quot;8, 5&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;8H 5M 0S&quot;</code></pre>
<p>Note, in a couple of cases where the components are not separated by <code>/</code>, <code>-</code> or
space, we have not enclosed the values in quotes.</p>
<div id="your-turn-6" class="section level3">
<h3><span class="header-section-number">9.7.1</span> Your Turn</h3>
<p>Below, we have specified <code>July 5th, 2019</code> in different ways. Parse the dates using <code>strptime()</code> or <code>parse_date_time()</code> or any other helper function.</p>
<ul>
<li><code>July-05-19</code></li>
<li><code>JUL-05-19</code></li>
<li><code>05.07.19</code></li>
<li><code>5-July 2019</code></li>
<li><code>July 5th, 2019</code></li>
<li><code>July 05, 2019</code></li>
<li><code>2019-July- 05</code></li>
<li><code>05/07/2019</code></li>
<li><code>07/05/2019</code></li>
<li><code>7/5/2019</code></li>
<li><code>07/5/19</code></li>
<li><code>2019-07-05</code></li>
</ul>
</div>
</div>
<div id="date-time-components" class="section level2">
<h2><span class="header-section-number">9.8</span> Date &amp; Time Components</h2>
<p>In the second section, we discussed the downside of saving date/time as
character/string in R. One of the points we discussed was that we can’t extract
components such as year, month, day etc. In this section, we will learn to
extract date/time components such as</p>
<ul>
<li>year</li>
<li>month</li>
<li>date</li>
<li>week</li>
<li>day</li>
<li>quarter</li>
<li>semester</li>
<li>hour</li>
<li>minute</li>
<li>second</li>
<li>timezone</li>
</ul>
<p><img src="img/day_week_month.png" width="654" style="display: block; margin: auto;" /></p>
<p>The below table outlines the functions we will explore in the first part of this
section.</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>year()</code>
</td>
<td style="text-align:left;">
Get year
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>month()</code>
</td>
<td style="text-align:left;">
Get month (number)
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>month(label = TRUE)</code>
</td>
<td style="text-align:left;">
Get month (abbreviated name)
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>month(abbr = FALSE)</code>
</td>
<td style="text-align:left;">
Get month (full name)
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>months()</code>
</td>
<td style="text-align:left;">
Get month
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>week()</code>
</td>
<td style="text-align:left;">
Get week
</td>
</tr>
</tbody>
</table>
<div id="year" class="section level3">
<h3><span class="header-section-number">9.8.1</span> Year</h3>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb535-1" title="1">release_date &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2019-12-12 08:05:03&quot;</span>)</a>
<a class="sourceLine" id="cb535-2" title="2"><span class="kw">year</span>(release_date) </a></code></pre></div>
<pre><code>## [1] 2019</code></pre>
</div>
<div id="month" class="section level3">
<h3><span class="header-section-number">9.8.2</span> Month</h3>
<p><code>month()</code> will return the month as a number i.e. <code>07</code> for July.</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb537-1" title="1"><span class="kw">month</span>(release_date)</a></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>If you want the name of the month instead, use the <code>label</code> argument and set it
to <code>TRUE</code>. Now it returns <code>Jul</code> instead of <code>07</code>.</p>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb539-1" title="1"><span class="kw">month</span>(release_date, <span class="dt">label =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] Dec
## 12 Levels: Jan &lt; Feb &lt; Mar &lt; Apr &lt; May &lt; Jun &lt; Jul &lt; Aug &lt; Sep &lt; ... &lt; Dec</code></pre>
<p>But this is the abbreviated name and not the full name. How do we get the full
name of the month? Set the <code>abbr</code> argument to <code>FALSE</code>.</p>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb541-1" title="1"><span class="kw">month</span>(release_date, <span class="dt">label =</span> <span class="ot">TRUE</span>, <span class="dt">abbr  =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<pre><code>## [1] December
## 12 Levels: January &lt; February &lt; March &lt; April &lt; May &lt; June &lt; ... &lt; December</code></pre>
<p>Ah! now we can see the full name of the month. <code>months()</code> from base R will
return the full name of the month by default. If you want the abbreviated name,
use the <code>abbreviate</code> argument and set it to <code>TRUE</code>.</p>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb543-1" title="1"><span class="kw">months</span>(release_date)</a></code></pre></div>
<pre><code>## [1] &quot;December&quot;</code></pre>
</div>
<div id="week" class="section level3">
<h3><span class="header-section-number">9.8.3</span> Week</h3>
<p><code>week()</code> returns the number of complete 7 day periods between the date and 1st
January plus one.</p>
<div class="sourceCode" id="cb545"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb545-1" title="1"><span class="kw">week</span>(release_date)</a></code></pre></div>
<pre><code>## [1] 50</code></pre>
</div>
<div id="day" class="section level3">
<h3><span class="header-section-number">9.8.4</span> Day</h3>
<p>Use <code>day()</code> to extract the date component. There are other variations such as</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>day</code>
</td>
<td style="text-align:left;">
Get day
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>mday()</code>
</td>
<td style="text-align:left;">
Day of the month
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>wday()</code>
</td>
<td style="text-align:left;">
Day of the week
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>qday()</code>
</td>
<td style="text-align:left;">
Day of quarter
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>yday()</code>
</td>
<td style="text-align:left;">
Day of year
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>weekdays()</code>
</td>
<td style="text-align:left;">
Day of week
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>days_in_month()</code>
</td>
<td style="text-align:left;">
Days in the month
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb547-1" title="1"><span class="kw">day</span>(release_date)</a></code></pre></div>
<pre><code>## [1] 12</code></pre>
<div class="sourceCode" id="cb549"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb549-1" title="1"><span class="kw">mday</span>(release_date)                 </a></code></pre></div>
<pre><code>## [1] 12</code></pre>
<div class="sourceCode" id="cb551"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb551-1" title="1"><span class="kw">qday</span>(release_date)                 </a></code></pre></div>
<pre><code>## [1] 73</code></pre>
<div class="sourceCode" id="cb553"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb553-1" title="1"><span class="kw">yday</span>(release_date)                 </a></code></pre></div>
<pre><code>## [1] 346</code></pre>
<p><code>wday</code> can return</p>
<ul>
<li>a number</li>
<li>abbreviation of the weekday</li>
<li>full name of the weekday</li>
</ul>
<div class="sourceCode" id="cb555"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb555-1" title="1"><span class="kw">wday</span>(release_date)  </a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb557"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb557-1" title="1"><span class="kw">wday</span>(release_date, <span class="dt">label =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] Thu
## Levels: Sun &lt; Mon &lt; Tue &lt; Wed &lt; Thu &lt; Fri &lt; Sat</code></pre>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb559-1" title="1"><span class="kw">wday</span>(release_date, <span class="dt">label =</span> <span class="ot">TRUE</span>, <span class="dt">abbr  =</span> <span class="ot">FALSE</span>)  </a></code></pre></div>
<pre><code>## [1] Thursday
## 7 Levels: Sunday &lt; Monday &lt; Tuesday &lt; Wednesday &lt; Thursday &lt; ... &lt; Saturday</code></pre>
<p><code>weekdays()</code> from base R also returns the day of the week (the name and not
the number). If you want the abbreviated name, use the <code>abbreviate</code> argument.</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb561-1" title="1"><span class="kw">weekdays</span>(release_date)</a></code></pre></div>
<pre><code>## [1] &quot;Thursday&quot;</code></pre>
<div class="sourceCode" id="cb563"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb563-1" title="1"><span class="kw">weekdays</span>(release_date, <span class="dt">abbreviate =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] &quot;Thu&quot;</code></pre>
</div>
<div id="days-in-month" class="section level3">
<h3><span class="header-section-number">9.8.5</span> Days in Month</h3>
<p>If you want to know the number of days in the month, use <code>days_in_month()</code>.
In our example, the month is December and it has 31 days.</p>
<div class="sourceCode" id="cb565"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb565-1" title="1"><span class="kw">days_in_month</span>(release_date)</a></code></pre></div>
<pre><code>## Dec 
##  31</code></pre>
</div>
<div id="hour-minute-seconds" class="section level3">
<h3><span class="header-section-number">9.8.6</span> Hour, Minute &amp; Seconds</h3>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>hour()</code>
</td>
<td style="text-align:left;">
Get hour
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>minute()</code>
</td>
<td style="text-align:left;">
Get minute
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>second()</code>
</td>
<td style="text-align:left;">
Get second
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>seconds()</code>
</td>
<td style="text-align:left;">
Number of seconds since <code>1970-01-01</code>
</td>
</tr>
</tbody>
</table>
<p>So far we have been looking at date components. Now, let us look at time
components.</p>
<div class="sourceCode" id="cb567"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb567-1" title="1"><span class="kw">hour</span>(release_date)</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb569"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb569-1" title="1"><span class="kw">minute</span>(release_date)</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb571"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb571-1" title="1"><span class="kw">second</span>(release_date)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p><code>seconds()</code> returns the number of seconds since <code>1970-01-01</code>.</p>
<div class="sourceCode" id="cb573"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb573-1" title="1"><span class="kw">seconds</span>(release_date)</a></code></pre></div>
<pre><code>## [1] &quot;1576137903S&quot;</code></pre>
</div>
<div id="quarter-semester" class="section level3">
<h3><span class="header-section-number">9.8.7</span> Quarter &amp; Semester</h3>
<p><img src="img/quarter_semester.png" width="496" style="display: block; margin: auto;" /></p>
<p><code>quarter()</code> will return the quarter from the date. December is in the 4th
quarter and hence it returns 4.</p>
<div class="sourceCode" id="cb575"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb575-1" title="1"><span class="kw">quarter</span>(release_date)</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>If you want the year along with the quarter, set the <code>with_year</code> argument to
<code>TRUE</code>.</p>
<div class="sourceCode" id="cb577"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb577-1" title="1"><span class="kw">quarter</span>(release_date, <span class="dt">with_year =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 2019.4</code></pre>
<p>In India, the fiscal starts in April and December falls in the 3rd quarter. How
can we accommodate this change? The <code>fiscal_start</code> argument allows us to set the
month in which the fiscal begins. We will set it to 4 for April. Now it returns
3 instead of 4.</p>
<div class="sourceCode" id="cb579"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb579-1" title="1"><span class="kw">quarter</span>(release_date, <span class="dt">fiscal_start =</span> <span class="dv">4</span>)    </a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p><code>quarters()</code> from base R also returns the quarter.</p>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb581-1" title="1"><span class="kw">quarters</span>(release_date)</a></code></pre></div>
<pre><code>## [1] &quot;Q4&quot;</code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>quarter()</code>
</td>
<td style="text-align:left;">
Get quarter
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>quarter(with_year = TRUE)</code>
</td>
<td style="text-align:left;">
Quarter with year
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>quarter(fiscal_start = 4)</code>
</td>
<td style="text-align:left;">
Fiscal starts in April
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>quarters()</code>
</td>
<td style="text-align:left;">
Get quarter
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>semester()</code>
</td>
<td style="text-align:left;">
Get semester
</td>
</tr>
</tbody>
</table>
</div>
<div id="case-study-12" class="section level3">
<h3><span class="header-section-number">9.8.8</span> Case Study</h3>
<div id="extract-date-month-year-from-due-date" class="section level4">
<h4><span class="header-section-number">9.8.8.1</span> Extract Date, Month &amp; Year from Due Date</h4>
<p>Let us now extract the date, month and year from the <code>Due</code> column.</p>
<div class="sourceCode" id="cb583"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb583-1" title="1">transact <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb583-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb583-3" title="3">    <span class="dt">due_day   =</span> <span class="kw">day</span>(Due),</a>
<a class="sourceLine" id="cb583-4" title="4">    <span class="dt">due_month =</span> <span class="kw">month</span>(Due),</a>
<a class="sourceLine" id="cb583-5" title="5">    <span class="dt">due_year  =</span> <span class="kw">year</span>(Due)</a>
<a class="sourceLine" id="cb583-6" title="6">  )</a></code></pre></div>
<pre><code>## # A tibble: 2,466 x 6
##    Invoice    Due        Payment    due_day due_month due_year
##    &lt;date&gt;     &lt;date&gt;     &lt;date&gt;       &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;
##  1 2013-01-02 2013-02-01 2013-01-15       1         2     2013
##  2 2013-01-26 2013-02-25 2013-03-03      25         2     2013
##  3 2013-07-03 2013-08-02 2013-07-08       2         8     2013
##  4 2013-02-10 2013-03-12 2013-03-17      12         3     2013
##  5 2012-10-25 2012-11-24 2012-11-28      24        11     2012
##  6 2012-01-27 2012-02-26 2012-02-22      26         2     2012
##  7 2013-08-13 2013-09-12 2013-09-09      12         9     2013
##  8 2012-12-16 2013-01-15 2013-01-12      15         1     2013
##  9 2012-05-14 2012-06-13 2012-07-01      13         6     2012
## 10 2013-07-01 2013-07-31 2013-07-26      31         7     2013
## # ... with 2,456 more rows</code></pre>
</div>
<div id="data-sanitization-1" class="section level4">
<h4><span class="header-section-number">9.8.8.2</span> Data Sanitization</h4>
<p>Let us do some data sanitization. If the due day happens to be February 29,
let us ensure that the due year is a leap year. Below are the steps to check
if the due year is a leap year:</p>
<ul>
<li>we will extract the following from the due date:
<ul>
<li>day</li>
<li>month</li>
<li>year</li>
</ul></li>
<li>we will then create a new column <code>is_leap</code> which will have be set to <code>TRUE</code> if
the year is a leap year else it will be set to <code>FALSE</code></li>
<li>filter all the payments due on 29th Feb</li>
<li>select the following columns:
<ul>
<li><code>Due</code></li>
<li><code>is_leap</code></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb585-1" title="1">transact <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb585-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb585-3" title="3">    <span class="dt">due_day   =</span> <span class="kw">day</span>(Due),</a>
<a class="sourceLine" id="cb585-4" title="4">    <span class="dt">due_month =</span> <span class="kw">month</span>(Due),</a>
<a class="sourceLine" id="cb585-5" title="5">    <span class="dt">due_year  =</span> <span class="kw">year</span>(Due),</a>
<a class="sourceLine" id="cb585-6" title="6">    <span class="dt">is_leap   =</span> <span class="kw">leap_year</span>(due_year)</a>
<a class="sourceLine" id="cb585-7" title="7">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb585-8" title="8"><span class="st">  </span><span class="kw">filter</span>(due_month <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">&amp;</span><span class="st"> </span>due_day <span class="op">==</span><span class="st"> </span><span class="dv">29</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb585-9" title="9"><span class="st">  </span><span class="kw">select</span>(Due, is_leap) </a></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   Due        is_leap
##   &lt;date&gt;     &lt;lgl&gt;  
## 1 2012-02-29 TRUE   
## 2 2012-02-29 TRUE   
## 3 2012-02-29 TRUE   
## 4 2012-02-29 TRUE</code></pre>
</div>
<div id="invoices-distribution-by-quarter" class="section level4">
<h4><span class="header-section-number">9.8.8.3</span> Invoices Distribution by Quarter</h4>
<p>Let us count the invoices due for each quarter.</p>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb587-1" title="1">transact <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb587-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb587-3" title="3">    <span class="dt">quarter_due =</span> <span class="kw">quarter</span>(Due)</a>
<a class="sourceLine" id="cb587-4" title="4">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb587-5" title="5"><span class="st">  </span><span class="kw">count</span>(quarter_due)</a></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   quarter_due     n
##         &lt;int&gt; &lt;int&gt;
## 1           1   521
## 2           2   661
## 3           3   618
## 4           4   666</code></pre>
</div>
</div>
<div id="your-turn-7" class="section level3">
<h3><span class="header-section-number">9.8.9</span> Your Turn</h3>
<p>Get the R release dates using <code>r_versions()</code> from the <strong>rversions</strong> package and
tabulate the following</p>
<ul>
<li>year</li>
<li>month with label</li>
<li>weekday with label</li>
<li>hour</li>
<li>and quarter</li>
</ul>
</div>
</div>
<div id="create-update-verify" class="section level2">
<h2><span class="header-section-number">9.9</span> Create, Update &amp; Verify</h2>
<p>In the second section, we learnt to create date-time objects using <code>as.Date()</code>,
<code>as.POSIXct()</code> etc. In this section, we will explore a few other functions that
will allow us to do the same</p>
<ul>
<li><code>make_date()</code></li>
<li><code>make_datetime()</code></li>
</ul>
<div id="create" class="section level3">
<h3><span class="header-section-number">9.9.1</span> Create</h3>
<p>To create date without time components, use <code>make_date()</code> and specify the
following:</p>
<ul>
<li>year</li>
<li>month</li>
<li>date</li>
</ul>
<p>We need to specify all the components in numbers i.e. we cannot use <code>Jul</code> or
<code>July</code> for the month. It has to be <code>7</code>.</p>
<div class="sourceCode" id="cb589"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb589-1" title="1"><span class="kw">make_date</span>(<span class="dt">year  =</span> <span class="dv">2019</span>,</a>
<a class="sourceLine" id="cb589-2" title="2">          <span class="dt">month =</span> <span class="dv">12</span>,</a>
<a class="sourceLine" id="cb589-3" title="3">          <span class="dt">day   =</span> <span class="dv">12</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12&quot;</code></pre>
<p>When you need to include time components, use <code>make_datetime()</code>.</p>
<div class="sourceCode" id="cb591"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb591-1" title="1"><span class="kw">make_datetime</span>(<span class="dt">year  =</span> <span class="dv">2019</span>,</a>
<a class="sourceLine" id="cb591-2" title="2">              <span class="dt">month =</span> <span class="dv">12</span>,</a>
<a class="sourceLine" id="cb591-3" title="3">              <span class="dt">day   =</span> <span class="dv">12</span>,</a>
<a class="sourceLine" id="cb591-4" title="4">              <span class="dt">hour  =</span> <span class="dv">08</span>,</a>
<a class="sourceLine" id="cb591-5" title="5">              <span class="dt">min   =</span> <span class="dv">05</span>,</a>
<a class="sourceLine" id="cb591-6" title="6">              <span class="dt">sec   =</span> <span class="dv">03</span>,</a>
<a class="sourceLine" id="cb591-7" title="7">              <span class="dt">tz    =</span> <span class="st">&quot;UTC&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 08:05:03 UTC&quot;</code></pre>
</div>
<div id="update" class="section level3">
<h3><span class="header-section-number">9.9.2</span> Update</h3>
<p>Let us look at another scenario. You have a date-time object and want to change
one of its components i.e. any of the following</p>
<ul>
<li>year</li>
<li>month</li>
<li>date</li>
</ul>
<p>Instead of creating another date-time object, you can change any of the
components using <code>update()</code>. In the below example, we will start with the date
of release of R version 3.6.1 and using <code>update()</code>, we will change it to
<code>2019-12-12</code>.</p>
<div class="sourceCode" id="cb593"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb593-1" title="1">prev_release &lt;-<span class="st"> </span><span class="kw">ymd</span>(<span class="st">&quot;2019-07-05&quot;</span>)</a>
<a class="sourceLine" id="cb593-2" title="2">prev_release <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb593-3" title="3"><span class="st">  </span><span class="kw">update</span>(<span class="dt">year  =</span> <span class="dv">2019</span>,</a>
<a class="sourceLine" id="cb593-4" title="4">         <span class="dt">month =</span> <span class="dv">12</span>,</a>
<a class="sourceLine" id="cb593-5" title="5">         <span class="dt">mday  =</span> <span class="dv">12</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12&quot;</code></pre>
</div>
<div id="date-sequence" class="section level3">
<h3><span class="header-section-number">9.9.3</span> Date Sequence</h3>
<p>So far we have created a single date-time instance. How about creating a
sequence of dates? We can do that using <code>seq.Date()</code>. We need to specify the
from date as the bare minimum input. If the end date is not specified, it will
create the sequence uptil the current date.</p>
<p>The interval of the sequence can be specified in any of the following units:</p>
<ul>
<li>day</li>
<li>week</li>
<li>month</li>
<li>quarter</li>
<li>year</li>
</ul>
<p>We can add the following to the interval units</p>
<ul>
<li>integer</li>
<li><code>+</code> / <code>-</code> (increment or decrement)</li>
</ul>
<p>Using the integer, we can specify multiples of the units mentioned and using the
sign, we can specify whether to increment or decrement.</p>
<p>The below table displays the main arguments used in <code>seq.Date()</code>:</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>from</code>
</td>
<td style="text-align:left;">
Starting date of the sequence
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>by</code>
</td>
<td style="text-align:left;">
End date of the sequence
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>to</code>
</td>
<td style="text-align:left;">
Date increment of the sequence
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>length.out</code>
</td>
<td style="text-align:left;">
Length of the sequence
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>along.with</code>
</td>
<td style="text-align:left;">
Use length of this value as length of sequence
</td>
</tr>
</tbody>
</table>
<p>In the first example, we will create a sequence of dates from <code>2010-01-01</code> to
<code>2019-12-31</code>. The unit of increment should be a year i.e. the difference
between the dates in the sequence should be 1 year, specified using the <code>by</code>
argument.</p>
<div class="sourceCode" id="cb595"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb595-1" title="1"><span class="kw">seq.Date</span>(<span class="dt">from =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2010-01-01&quot;</span>), <span class="dt">to =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2019-12-31&quot;</span>), <span class="dt">by =</span> <span class="st">&quot;year&quot;</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;2010-01-01&quot; &quot;2011-01-01&quot; &quot;2012-01-01&quot; &quot;2013-01-01&quot; &quot;2014-01-01&quot;
##  [6] &quot;2015-01-01&quot; &quot;2016-01-01&quot; &quot;2017-01-01&quot; &quot;2018-01-01&quot; &quot;2019-01-01&quot;</code></pre>
<p>In the next example, we change the unit of increment to a quarter i.e. the
difference between the dates in the sequence should be a quarter or 3 months.</p>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb597-1" title="1"><span class="kw">seq.Date</span>(<span class="dt">from =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2009-12-12&quot;</span>), <span class="dt">to =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2019-12-12&quot;</span>), <span class="dt">by =</span> <span class="st">&quot;quarter&quot;</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;2009-12-12&quot; &quot;2010-03-12&quot; &quot;2010-06-12&quot; &quot;2010-09-12&quot; &quot;2010-12-12&quot;
##  [6] &quot;2011-03-12&quot; &quot;2011-06-12&quot; &quot;2011-09-12&quot; &quot;2011-12-12&quot; &quot;2012-03-12&quot;
## [11] &quot;2012-06-12&quot; &quot;2012-09-12&quot; &quot;2012-12-12&quot; &quot;2013-03-12&quot; &quot;2013-06-12&quot;
## [16] &quot;2013-09-12&quot; &quot;2013-12-12&quot; &quot;2014-03-12&quot; &quot;2014-06-12&quot; &quot;2014-09-12&quot;
## [21] &quot;2014-12-12&quot; &quot;2015-03-12&quot; &quot;2015-06-12&quot; &quot;2015-09-12&quot; &quot;2015-12-12&quot;
## [26] &quot;2016-03-12&quot; &quot;2016-06-12&quot; &quot;2016-09-12&quot; &quot;2016-12-12&quot; &quot;2017-03-12&quot;
## [31] &quot;2017-06-12&quot; &quot;2017-09-12&quot; &quot;2017-12-12&quot; &quot;2018-03-12&quot; &quot;2018-06-12&quot;
## [36] &quot;2018-09-12&quot; &quot;2018-12-12&quot; &quot;2019-03-12&quot; &quot;2019-06-12&quot; &quot;2019-09-12&quot;
## [41] &quot;2019-12-12&quot;</code></pre>
<p>We will now create a sequence of dates but instead of specifying the unit of
increment, we specify the number of dates in the sequence i.e. the length of the
sequence. We do this using the <code>length.out</code> argument which specifies the desired
length of the sequence. We want the sequence to have 10 dates including the
start and end date, and hence we supply the value <code>10</code> for the <code>length.out</code>
argument.</p>
<div class="sourceCode" id="cb599"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb599-1" title="1"><span class="kw">seq.Date</span>(<span class="dt">from =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2010-01-01&quot;</span>), <span class="dt">to =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2019-12-31&quot;</span>), <span class="dt">length.out =</span> <span class="dv">10</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;2010-01-01&quot; &quot;2011-02-10&quot; &quot;2012-03-22&quot; &quot;2013-05-02&quot; &quot;2014-06-11&quot;
##  [6] &quot;2015-07-22&quot; &quot;2016-08-31&quot; &quot;2017-10-10&quot; &quot;2018-11-20&quot; &quot;2019-12-31&quot;</code></pre>
<p>In all of the previous examples, we have specified both the start and the end
date. Let us look at a few examples where we create a sequence of dates where
we only specify the start date. In the below example, we want to create a
sequence of dates starting from <code>2010-01-01</code>. The unit of increment should be 1
year i.e. the difference between the dates in the sequence should be 1 year and
the length of the sequence should be <code>10</code> i.e. the number of dates including the
start date should be <code>10</code>.</p>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb601-1" title="1"><span class="kw">seq.Date</span>(<span class="dt">from =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2010-01-01&quot;</span>), <span class="dt">by =</span> <span class="st">&quot;year&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;2010-01-01&quot; &quot;2011-01-01&quot; &quot;2012-01-01&quot; &quot;2013-01-01&quot; &quot;2014-01-01&quot;
##  [6] &quot;2015-01-01&quot; &quot;2016-01-01&quot; &quot;2017-01-01&quot; &quot;2018-01-01&quot; &quot;2019-01-01&quot;</code></pre>
<p>The unit of increment can include multiples and <code>+/-</code> sign i.e. it can be an
unit of increment or decrement. In the next example, we can increment the dates
in the sequence by <code>2</code> i.e. the difference between the dates should be <code>2</code>
instead of <code>1</code>. This is achieved by specifying the unit of increment (multiple)
first followed by a space and then the unit. In our example, it is <code>2 year</code>. As
you can see, the sequence now goes all the way till <code>2028</code> and the gap between
the dates is 2 years.</p>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb603-1" title="1"><span class="kw">seq.Date</span>(<span class="dt">from =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2010-01-01&quot;</span>), <span class="dt">by =</span> <span class="st">&quot;2 year&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;2010-01-01&quot; &quot;2012-01-01&quot; &quot;2014-01-01&quot; &quot;2016-01-01&quot; &quot;2018-01-01&quot;
##  [6] &quot;2020-01-01&quot; &quot;2022-01-01&quot; &quot;2024-01-01&quot; &quot;2026-01-01&quot; &quot;2028-01-01&quot;</code></pre>
<p>Let us say instead of increment we want to decrement the dates i.e. the sequence
of dates will go backwards as shown in the next example. We achieve this by
using the <code>-</code> sign along with the unit of decrement. The sequence of dates in
next example starts from <code>2010</code> and goes back upto <code>1992</code> and the difference
between the dates in 2 years.</p>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb605-1" title="1"><span class="kw">seq.Date</span>(<span class="dt">from =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2010-01-01&quot;</span>), <span class="dt">by =</span> <span class="st">&quot;-2 year&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;2010-01-01&quot; &quot;2008-01-01&quot; &quot;2006-01-01&quot; &quot;2004-01-01&quot; &quot;2002-01-01&quot;
##  [6] &quot;2000-01-01&quot; &quot;1998-01-01&quot; &quot;1996-01-01&quot; &quot;1994-01-01&quot; &quot;1992-01-01&quot;</code></pre>
<p>In the last example, we will explore the <code>along.with</code> argument. Here we have
supplied a vector which is a sequence of numbers from 1 to 10. The length of
this vector is 10 and the same length is used as the length of the sequence i.e. 
the length of value supplied to <code>along.with</code> is also the length of the sequence.</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb607-1" title="1"><span class="kw">seq.Date</span>(<span class="dt">from =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2010-01-01&quot;</span>), <span class="dt">by =</span> <span class="st">&quot;-2 year&quot;</span>, <span class="dt">along.with =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;2010-01-01&quot; &quot;2008-01-01&quot; &quot;2006-01-01&quot; &quot;2004-01-01&quot; &quot;2002-01-01&quot;
##  [6] &quot;2000-01-01&quot; &quot;1998-01-01&quot; &quot;1996-01-01&quot; &quot;1994-01-01&quot; &quot;1992-01-01&quot;</code></pre>
</div>
<div id="verify-type" class="section level3">
<h3><span class="header-section-number">9.9.4</span> Verify Type</h3>
<p>How do you check if the data is a date-time object? You can do that using any
of the following from the lubridate package.</p>
<ul>
<li><code>is.Date()</code></li>
<li><code>is.POSIXct()</code></li>
<li><code>is.POSIXlt()</code></li>
</ul>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb609-1" title="1"><span class="kw">is.Date</span>(release_date)</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb611"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb611-1" title="1"><span class="kw">is.POSIXct</span>(release_date)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb613-1" title="1"><span class="kw">is.POSIXlt</span>(release_date)</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="your-turn-8" class="section level3">
<h3><span class="header-section-number">9.9.5</span> Your Turn</h3>
<ul>
<li><p>R 2.0.0 was released on <code>2004-10-04 14:24:38</code>. Create this date using both
<code>make_date()</code> and <code>make_datetime()</code></p></li>
<li><p>R 3.0.0 was released on <code>2013-04-03 07:12:36</code>. Update the date created in the
previous step to the above using <code>update()</code></p></li>
</ul>
</div>
</div>
<div id="intervals-duration-period" class="section level2">
<h2><span class="header-section-number">9.10</span> Intervals, Duration &amp; Period</h2>
<p>In this chapter, we will learn about</p>
<ul>
<li>intervals</li>
<li>duration</li>
<li>and period</li>
</ul>
<div id="interval" class="section level3">
<h3><span class="header-section-number">9.10.1</span> Interval</h3>
<p>An interval is a timespan defined by two date-times. Let us represent the length
of the course using <code>interval</code>.</p>
<p><br></p>
<p><img src="img/course_interval.png" width="100%" style="display: block; margin: auto;" /></p>
<p><br></p>
<div class="sourceCode" id="cb615"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb615-1" title="1">course_start    &lt;-<span class="st"> </span><span class="kw">as_date</span>(<span class="st">&#39;2017-04-12&#39;</span>)</a>
<a class="sourceLine" id="cb615-2" title="2">course_end      &lt;-<span class="st"> </span><span class="kw">as_date</span>(<span class="st">&#39;2017-04-21&#39;</span>)</a>
<a class="sourceLine" id="cb615-3" title="3"><span class="kw">interval</span>(course_start, course_end)</a></code></pre></div>
<pre><code>## [1] 2017-04-12 UTC--2017-04-21 UTC</code></pre>
<p>If you observe carefully, the interval is represented by the course start and
end dates. We will learn how to use intervals in the case study.</p>
<div id="overlapping-intervals" class="section level4">
<h4><span class="header-section-number">9.10.1.1</span> Overlapping Intervals</h4>
<p>Let us say you are planning a vacation and want to check if the vacation
dates overlap with the course dates. You can do this by:</p>
<ul>
<li>creating vacation and course intervals</li>
<li>use <code>int_overlaps()</code> to check if two intervals overlap. It returns <code>TRUE</code>
if the intervals overlap else <code>FALSE</code>.</li>
</ul>
<p>Let us use the vacation start and end dates to create <code>vacation_interval</code>
and then check if it overlaps with <code>course_interval</code>.</p>
<p><br></p>
<p><img src="img/interval_overlap.png" width="100%" style="display: block; margin: auto;" /></p>
<p><br></p>
<div class="sourceCode" id="cb617"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb617-1" title="1">vacation_start    &lt;-<span class="st"> </span><span class="kw">as_date</span>(<span class="st">&#39;2017-04-19&#39;</span>)</a>
<a class="sourceLine" id="cb617-2" title="2">vacation_end      &lt;-<span class="st"> </span><span class="kw">as_date</span>(<span class="st">&#39;2017-04-25&#39;</span>)</a>
<a class="sourceLine" id="cb617-3" title="3">course_interval   &lt;-<span class="st"> </span><span class="kw">interval</span>(course_start, course_end)</a>
<a class="sourceLine" id="cb617-4" title="4">vacation_interval &lt;-<span class="st"> </span><span class="kw">interval</span>(vacation_start, vacation_end)</a>
<a class="sourceLine" id="cb617-5" title="5"><span class="kw">int_overlaps</span>(course_interval, vacation_interval)</a>
<a class="sourceLine" id="cb617-6" title="6"><span class="co">## [1] TRUE</span></a></code></pre></div>
</div>
<div id="how-many-invoices-were-settled-within-due-date" class="section level4">
<h4><span class="header-section-number">9.10.1.2</span> How many invoices were settled within due date?</h4>
<p>Let us use intervals to count the number of invoices that were settled within
the due date. To do this, we will:</p>
<ul>
<li>create an interval for the invoice and due date</li>
<li>create a new column <code>due_next</code> by incrementing the due date by 1 day</li>
<li>another interval for <code>due_next</code> and the payment date</li>
<li>if the intervals overlap, the payment was made within the due date</li>
</ul>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb618-1" title="1">transact <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb618-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb618-3" title="3">    <span class="dt">inv_due_interval =</span> <span class="kw">interval</span>(Invoice, Due),</a>
<a class="sourceLine" id="cb618-4" title="4">    <span class="dt">due_next         =</span> Due <span class="op">+</span><span class="st"> </span><span class="kw">days</span>(<span class="dv">1</span>),</a>
<a class="sourceLine" id="cb618-5" title="5">    <span class="dt">due_pay_interval =</span> <span class="kw">interval</span>(due_next, Payment),</a>
<a class="sourceLine" id="cb618-6" title="6">    <span class="dt">overlaps         =</span> <span class="kw">int_overlaps</span>(inv_due_interval, due_pay_interval)</a>
<a class="sourceLine" id="cb618-7" title="7">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb618-8" title="8"><span class="st">  </span><span class="kw">select</span>(Invoice, Due, Payment, overlaps)</a></code></pre></div>
<pre><code>## # A tibble: 2,466 x 4
##    Invoice    Due        Payment    overlaps
##    &lt;date&gt;     &lt;date&gt;     &lt;date&gt;     &lt;lgl&gt;   
##  1 2013-01-02 2013-02-01 2013-01-15 TRUE    
##  2 2013-01-26 2013-02-25 2013-03-03 FALSE   
##  3 2013-07-03 2013-08-02 2013-07-08 TRUE    
##  4 2013-02-10 2013-03-12 2013-03-17 FALSE   
##  5 2012-10-25 2012-11-24 2012-11-28 FALSE   
##  6 2012-01-27 2012-02-26 2012-02-22 TRUE    
##  7 2013-08-13 2013-09-12 2013-09-09 TRUE    
##  8 2012-12-16 2013-01-15 2013-01-12 TRUE    
##  9 2012-05-14 2012-06-13 2012-07-01 FALSE   
## 10 2013-07-01 2013-07-31 2013-07-26 TRUE    
## # ... with 2,456 more rows</code></pre>
<p>Below we show another method to count the number of invoices paid within the
due date. Instead of using <code>days</code> to change the due date, we use <code>int_shift</code>
to shift it by 1 day.</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb620-1" title="1">transact <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb620-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb620-3" title="3">    <span class="dt">inv_due_interval =</span> <span class="kw">interval</span>(Invoice, Due),</a>
<a class="sourceLine" id="cb620-4" title="4">    <span class="dt">due_pay_interval =</span> <span class="kw">interval</span>(Due, Payment),  </a>
<a class="sourceLine" id="cb620-5" title="5">    <span class="dt">due_pay_next     =</span> <span class="kw">int_shift</span>(due_pay_interval, <span class="dt">by =</span> <span class="kw">days</span>(<span class="dv">1</span>)),</a>
<a class="sourceLine" id="cb620-6" title="6">    <span class="dt">overlaps         =</span> <span class="kw">int_overlaps</span>(inv_due_interval, due_pay_next)</a>
<a class="sourceLine" id="cb620-7" title="7">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb620-8" title="8"><span class="st">  </span><span class="kw">select</span>(Invoice, Due, Payment, overlaps)</a></code></pre></div>
<pre><code>## # A tibble: 2,466 x 4
##    Invoice    Due        Payment    overlaps
##    &lt;date&gt;     &lt;date&gt;     &lt;date&gt;     &lt;lgl&gt;   
##  1 2013-01-02 2013-02-01 2013-01-15 TRUE    
##  2 2013-01-26 2013-02-25 2013-03-03 FALSE   
##  3 2013-07-03 2013-08-02 2013-07-08 TRUE    
##  4 2013-02-10 2013-03-12 2013-03-17 FALSE   
##  5 2012-10-25 2012-11-24 2012-11-28 FALSE   
##  6 2012-01-27 2012-02-26 2012-02-22 TRUE    
##  7 2013-08-13 2013-09-12 2013-09-09 TRUE    
##  8 2012-12-16 2013-01-15 2013-01-12 TRUE    
##  9 2012-05-14 2012-06-13 2012-07-01 FALSE   
## 10 2013-07-01 2013-07-31 2013-07-26 TRUE    
## # ... with 2,456 more rows</code></pre>
<p>You might be thinking why we incremented the due date by a day before creating
the interval between the due day and the payment day. If we do not increment,
both the intervals will share a common date i.e. the due date and they will
always overlap as shown below:</p>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb622-1" title="1">transact <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb622-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb622-3" title="3">    <span class="dt">inv_due_interval =</span> <span class="kw">interval</span>(Invoice, Due),</a>
<a class="sourceLine" id="cb622-4" title="4">    <span class="dt">due_pay_interval =</span> <span class="kw">interval</span>(Due, Payment),</a>
<a class="sourceLine" id="cb622-5" title="5">    <span class="dt">overlaps         =</span> <span class="kw">int_overlaps</span>(inv_due_interval, due_pay_interval)</a>
<a class="sourceLine" id="cb622-6" title="6">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb622-7" title="7"><span class="st">  </span><span class="kw">select</span>(Invoice, Due, Payment, overlaps)</a></code></pre></div>
<pre><code>## # A tibble: 2,466 x 4
##    Invoice    Due        Payment    overlaps
##    &lt;date&gt;     &lt;date&gt;     &lt;date&gt;     &lt;lgl&gt;   
##  1 2013-01-02 2013-02-01 2013-01-15 TRUE    
##  2 2013-01-26 2013-02-25 2013-03-03 TRUE    
##  3 2013-07-03 2013-08-02 2013-07-08 TRUE    
##  4 2013-02-10 2013-03-12 2013-03-17 TRUE    
##  5 2012-10-25 2012-11-24 2012-11-28 TRUE    
##  6 2012-01-27 2012-02-26 2012-02-22 TRUE    
##  7 2013-08-13 2013-09-12 2013-09-09 TRUE    
##  8 2012-12-16 2013-01-15 2013-01-12 TRUE    
##  9 2012-05-14 2012-06-13 2012-07-01 TRUE    
## 10 2013-07-01 2013-07-31 2013-07-26 TRUE    
## # ... with 2,456 more rows</code></pre>
</div>
<div id="shift-interval" class="section level4">
<h4><span class="header-section-number">9.10.1.3</span> Shift Interval</h4>
<p>Intervals can be shifted too. In the below example, we shift the course
interval by:</p>
<ul>
<li>1 day</li>
<li>3 weeks</li>
<li>1 year</li>
</ul>
<p><br></p>
<p><img src="img/shift_interval.png" width="100%" style="display: block; margin: auto;" /></p>
<p><br></p>
<div class="sourceCode" id="cb624"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb624-1" title="1">course_interval &lt;-<span class="st"> </span><span class="kw">interval</span>(course_start, course_end)</a>
<a class="sourceLine" id="cb624-2" title="2"></a>
<a class="sourceLine" id="cb624-3" title="3"><span class="co"># shift course_interval by 1 day </span></a>
<a class="sourceLine" id="cb624-4" title="4"><span class="kw">int_shift</span>(course_interval, <span class="dt">by =</span> <span class="kw">days</span>(<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb624-5" title="5"><span class="co">## [1] 2017-04-13 UTC--2017-04-22 UTC</span></a>
<a class="sourceLine" id="cb624-6" title="6"></a>
<a class="sourceLine" id="cb624-7" title="7"><span class="co"># shift course_interval by 3 weeks</span></a>
<a class="sourceLine" id="cb624-8" title="8"><span class="kw">int_shift</span>(course_interval, <span class="dt">by =</span> <span class="kw">weeks</span>(<span class="dv">3</span>))</a>
<a class="sourceLine" id="cb624-9" title="9"><span class="co">## [1] 2017-05-03 UTC--2017-05-12 UTC</span></a>
<a class="sourceLine" id="cb624-10" title="10"></a>
<a class="sourceLine" id="cb624-11" title="11"><span class="co"># shift course_interval by 1 year</span></a>
<a class="sourceLine" id="cb624-12" title="12"><span class="kw">int_shift</span>(course_interval, <span class="dt">by =</span> <span class="kw">years</span>(<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb624-13" title="13"><span class="co">## [1] 2018-04-12 UTC--2018-04-21 UTC</span></a></code></pre></div>
</div>
</div>
<div id="within" class="section level3">
<h3><span class="header-section-number">9.10.2</span> Within</h3>
<p>Let us assume that we have to attend a conference in April 2017. Does it occur
during the course duration? We can answer this using <code>%within%</code> which will
return <code>TRUE</code> if a date falls within an interval.</p>
<p><br></p>
<p><img src="img/within.png" width="100%" style="display: block; margin: auto;" /></p>
<p><br></p>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb625-1" title="1">conference &lt;-<span class="st"> </span><span class="kw">as_date</span>(<span class="st">&#39;2017-04-15&#39;</span>)</a>
<a class="sourceLine" id="cb625-2" title="2">conference <span class="op">%within%</span><span class="st"> </span>course_interval</a>
<a class="sourceLine" id="cb625-3" title="3"><span class="co">## [1] TRUE</span></a></code></pre></div>
<div id="how-many-invoices-were-settled-within-due-date-1" class="section level4">
<h4><span class="header-section-number">9.10.2.1</span> How many invoices were settled within due date?</h4>
<p>Let us use <code>%within%</code> to count the number of invoices that were settled within
the due date. We will do this by:</p>
<ul>
<li>creating an interval for the invoice and due date</li>
<li>check if the payment date falls within the above interval</li>
</ul>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb626-1" title="1">transact <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb626-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb626-3" title="3">    <span class="dt">inv_due_interval =</span> <span class="kw">interval</span>(Invoice, Due),</a>
<a class="sourceLine" id="cb626-4" title="4">    <span class="dt">overlaps         =</span> Payment <span class="op">%within%</span><span class="st"> </span>inv_due_interval</a>
<a class="sourceLine" id="cb626-5" title="5">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb626-6" title="6"><span class="st">  </span><span class="kw">select</span>(Due, Payment, overlaps)</a></code></pre></div>
<pre><code>## # A tibble: 2,466 x 3
##    Due        Payment    overlaps
##    &lt;date&gt;     &lt;date&gt;     &lt;lgl&gt;   
##  1 2013-02-01 2013-01-15 TRUE    
##  2 2013-02-25 2013-03-03 FALSE   
##  3 2013-08-02 2013-07-08 TRUE    
##  4 2013-03-12 2013-03-17 FALSE   
##  5 2012-11-24 2012-11-28 FALSE   
##  6 2012-02-26 2012-02-22 TRUE    
##  7 2013-09-12 2013-09-09 TRUE    
##  8 2013-01-15 2013-01-12 TRUE    
##  9 2012-06-13 2012-07-01 FALSE   
## 10 2013-07-31 2013-07-26 TRUE    
## # ... with 2,456 more rows</code></pre>
</div>
</div>
<div id="duration" class="section level3">
<h3><span class="header-section-number">9.10.3</span> Duration</h3>
<p>Duration is timespan measured in seconds. To create a duration object, use
<code>duration()</code>. The timespan can be anything from seconds to years but it will be
represented as seconds. Let us begin by creating a duration object where the timespan is in seconds.</p>
<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb628-1" title="1"><span class="kw">duration</span>(<span class="dv">50</span>, <span class="st">&quot;seconds&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;50s&quot;</code></pre>
<p>Another way to specify the above timespan is shown below:</p>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb630-1" title="1"><span class="kw">duration</span>(<span class="dt">second =</span> <span class="dv">50</span>)</a></code></pre></div>
<pre><code>## [1] &quot;50s&quot;</code></pre>
<p>As you can see, the output is same in both the cases. Let us increase the timespan to 60 seconds and see what happens.</p>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb632-1" title="1"><span class="kw">duration</span>(<span class="dt">second =</span> <span class="dv">60</span>)</a></code></pre></div>
<pre><code>## [1] &quot;60s (~1 minutes)&quot;</code></pre>
<p>Although the timespan is primarily measured in seconds, it also shows <code>~1 minutes</code> in the brackets. As the length of the timespan increases i.e. the number becomes large, it is represented using larger units such as hours and days. In the below examples, as the number of seconds increases, you can observe larger units being used to represent the timespan.</p>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb634-1" title="1"><span class="co"># minutes</span></a>
<a class="sourceLine" id="cb634-2" title="2"><span class="kw">duration</span>(<span class="dt">minute =</span> <span class="dv">50</span>)</a></code></pre></div>
<pre><code>## [1] &quot;3000s (~50 minutes)&quot;</code></pre>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb636-1" title="1"><span class="kw">duration</span>(<span class="dt">minute =</span> <span class="dv">60</span>)</a></code></pre></div>
<pre><code>## [1] &quot;3600s (~1 hours)&quot;</code></pre>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb638-1" title="1"><span class="co"># hours</span></a>
<a class="sourceLine" id="cb638-2" title="2"><span class="kw">duration</span>(<span class="dt">hour =</span> <span class="dv">23</span>)</a></code></pre></div>
<pre><code>## [1] &quot;82800s (~23 hours)&quot;</code></pre>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb640-1" title="1"><span class="kw">duration</span>(<span class="dt">hour =</span> <span class="dv">24</span>)</a></code></pre></div>
<pre><code>## [1] &quot;86400s (~1 days)&quot;</code></pre>
<p>The following helper functions can be used to create duration objects as well.</p>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb642-1" title="1"><span class="co"># default</span></a>
<a class="sourceLine" id="cb642-2" title="2"><span class="kw">dseconds</span>()</a></code></pre></div>
<pre><code>## [1] &quot;1s&quot;</code></pre>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb644-1" title="1"><span class="kw">dminutes</span>()</a></code></pre></div>
<pre><code>## [1] &quot;60s (~1 minutes)&quot;</code></pre>
<div class="sourceCode" id="cb646"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb646-1" title="1"><span class="co"># seconds</span></a>
<a class="sourceLine" id="cb646-2" title="2"><span class="kw">duration</span>(<span class="dt">second =</span> <span class="dv">59</span>)</a></code></pre></div>
<pre><code>## [1] &quot;59s&quot;</code></pre>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb648-1" title="1"><span class="kw">dseconds</span>(<span class="dv">59</span>)</a></code></pre></div>
<pre><code>## [1] &quot;59s&quot;</code></pre>
<div class="sourceCode" id="cb650"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb650-1" title="1"><span class="co"># minutes</span></a>
<a class="sourceLine" id="cb650-2" title="2"><span class="kw">duration</span>(<span class="dt">minute =</span> <span class="dv">50</span>)</a></code></pre></div>
<pre><code>## [1] &quot;3000s (~50 minutes)&quot;</code></pre>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb652-1" title="1"><span class="kw">dminutes</span>(<span class="dv">50</span>)</a></code></pre></div>
<pre><code>## [1] &quot;3000s (~50 minutes)&quot;</code></pre>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb654-1" title="1"><span class="co"># hours</span></a>
<a class="sourceLine" id="cb654-2" title="2"><span class="kw">duration</span>(<span class="dt">hour =</span> <span class="dv">36</span>)</a></code></pre></div>
<pre><code>## [1] &quot;129600s (~1.5 days)&quot;</code></pre>
<div class="sourceCode" id="cb656"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb656-1" title="1"><span class="kw">dhours</span>(<span class="dv">36</span>)</a></code></pre></div>
<pre><code>## [1] &quot;129600s (~1.5 days)&quot;</code></pre>
<div class="sourceCode" id="cb658"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb658-1" title="1"><span class="co"># weeks</span></a>
<a class="sourceLine" id="cb658-2" title="2"><span class="kw">duration</span>(<span class="dt">week =</span> <span class="dv">56</span>)</a></code></pre></div>
<pre><code>## [1] &quot;33868800s (~1.07 years)&quot;</code></pre>
<div class="sourceCode" id="cb660"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb660-1" title="1"><span class="kw">dweeks</span>(<span class="dv">56</span>)</a></code></pre></div>
<pre><code>## [1] &quot;33868800s (~1.07 years)&quot;</code></pre>
<p>Let us use the above helper functions to get the course length in different units.</p>
<p><img src="img/convert.png" width="100%" style="display: block; margin: auto;" /></p>
<p><br></p>
<div class="sourceCode" id="cb662"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb662-1" title="1"><span class="co"># course length in seconds </span></a>
<a class="sourceLine" id="cb662-2" title="2">course_interval <span class="op">/</span><span class="st"> </span><span class="kw">dseconds</span>()</a>
<a class="sourceLine" id="cb662-3" title="3"><span class="co">## [1] 777600</span></a>
<a class="sourceLine" id="cb662-4" title="4"></a>
<a class="sourceLine" id="cb662-5" title="5"><span class="co"># course length in minutes</span></a>
<a class="sourceLine" id="cb662-6" title="6">course_interval <span class="op">/</span><span class="st"> </span><span class="kw">dminutes</span>()</a>
<a class="sourceLine" id="cb662-7" title="7"><span class="co">## [1] 12960</span></a>
<a class="sourceLine" id="cb662-8" title="8"></a>
<a class="sourceLine" id="cb662-9" title="9"><span class="co"># course length in hours</span></a>
<a class="sourceLine" id="cb662-10" title="10">course_interval <span class="op">/</span><span class="st"> </span><span class="kw">dhours</span>()</a>
<a class="sourceLine" id="cb662-11" title="11"><span class="co">## [1] 216</span></a>
<a class="sourceLine" id="cb662-12" title="12"></a>
<a class="sourceLine" id="cb662-13" title="13"><span class="co"># course length in weeks</span></a>
<a class="sourceLine" id="cb662-14" title="14">course_interval <span class="op">/</span><span class="st"> </span><span class="kw">dweeks</span>()</a>
<a class="sourceLine" id="cb662-15" title="15"><span class="co">## [1] 1.285714</span></a>
<a class="sourceLine" id="cb662-16" title="16"></a>
<a class="sourceLine" id="cb662-17" title="17"><span class="co"># course length in years</span></a>
<a class="sourceLine" id="cb662-18" title="18">course_interval <span class="op">/</span><span class="st"> </span><span class="kw">dyears</span>()</a>
<a class="sourceLine" id="cb662-19" title="19"><span class="co">## [1] 0.02465753</span></a></code></pre></div>
</div>
<div id="period" class="section level3">
<h3><span class="header-section-number">9.10.4</span> Period</h3>
<p>A <code>period</code> is a timespan defined in units such as years, months, and days. In
the below examples, we use <code>period()</code> to represent timespan using different
units.</p>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb663-1" title="1"><span class="co"># second</span></a>
<a class="sourceLine" id="cb663-2" title="2"><span class="kw">period</span>(<span class="dv">5</span>, <span class="st">&quot;second&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;5S&quot;</code></pre>
<div class="sourceCode" id="cb665"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb665-1" title="1"><span class="kw">period</span>(<span class="dt">second =</span> <span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] &quot;5S&quot;</code></pre>
<div class="sourceCode" id="cb667"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb667-1" title="1"><span class="co"># minute &amp; second</span></a>
<a class="sourceLine" id="cb667-2" title="2"><span class="kw">period</span>(<span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>), <span class="kw">c</span>(<span class="st">&quot;minute&quot;</span>, <span class="st">&quot;second&quot;</span>))</a></code></pre></div>
<pre><code>## [1] &quot;3M 5S&quot;</code></pre>
<div class="sourceCode" id="cb669"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb669-1" title="1"><span class="kw">period</span>(<span class="dt">minute =</span> <span class="dv">3</span>, <span class="dt">second =</span> <span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] &quot;3M 5S&quot;</code></pre>
<div class="sourceCode" id="cb671"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb671-1" title="1"><span class="co"># hour, minte &amp; second</span></a>
<a class="sourceLine" id="cb671-2" title="2"><span class="kw">period</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>), <span class="kw">c</span>(<span class="st">&quot;hour&quot;</span>, <span class="st">&quot;minute&quot;</span>, <span class="st">&quot;second&quot;</span>))</a></code></pre></div>
<pre><code>## [1] &quot;1H 3M 5S&quot;</code></pre>
<div class="sourceCode" id="cb673"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb673-1" title="1"><span class="kw">period</span>(<span class="dt">hour =</span> <span class="dv">1</span>, <span class="dt">minute =</span> <span class="dv">3</span>, <span class="dt">second =</span> <span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] &quot;1H 3M 5S&quot;</code></pre>
<div class="sourceCode" id="cb675"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb675-1" title="1"><span class="co"># day, hour, minute &amp; second</span></a>
<a class="sourceLine" id="cb675-2" title="2"><span class="kw">period</span>(<span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>), <span class="kw">c</span>(<span class="st">&quot;day&quot;</span>, <span class="st">&quot;hour&quot;</span>, <span class="st">&quot;minute&quot;</span>, <span class="st">&quot;second&quot;</span>))</a></code></pre></div>
<pre><code>## [1] &quot;3d 1H 3M 5S&quot;</code></pre>
<div class="sourceCode" id="cb677"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb677-1" title="1"><span class="kw">period</span>(<span class="dt">day =</span> <span class="dv">3</span>, <span class="dt">hour =</span> <span class="dv">1</span>, <span class="dt">minute =</span> <span class="dv">3</span>, <span class="dt">second =</span> <span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] &quot;3d 1H 3M 5S&quot;</code></pre>
<p><br></p>
<p><img src="img/as_period.png" width="100%" style="display: block; margin: auto;" /></p>
<p><br></p>
<p>Let us get the course length in different units using <code>as.period()</code>.</p>
<div class="sourceCode" id="cb679"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb679-1" title="1"><span class="co"># course length in second</span></a>
<a class="sourceLine" id="cb679-2" title="2"><span class="kw">as.period</span>(course_interval, <span class="dt">unit =</span> <span class="st">&quot;seconds&quot;</span>)</a>
<a class="sourceLine" id="cb679-3" title="3"><span class="co">## [1] &quot;777600S&quot;</span></a>
<a class="sourceLine" id="cb679-4" title="4"></a>
<a class="sourceLine" id="cb679-5" title="5"><span class="co"># course length in hours and minutes</span></a>
<a class="sourceLine" id="cb679-6" title="6"><span class="kw">as.period</span>(course_interval, <span class="dt">unit =</span> <span class="st">&quot;minutes&quot;</span>)</a>
<a class="sourceLine" id="cb679-7" title="7"><span class="co">## [1] &quot;12960M 0S&quot;</span></a>
<a class="sourceLine" id="cb679-8" title="8"></a>
<a class="sourceLine" id="cb679-9" title="9"><span class="co"># course length in hours, minutes and seconds</span></a>
<a class="sourceLine" id="cb679-10" title="10"><span class="kw">as.period</span>(course_interval, <span class="dt">unit =</span> <span class="st">&quot;hours&quot;</span>)</a>
<a class="sourceLine" id="cb679-11" title="11"><span class="co">## [1] &quot;216H 0M 0S&quot;</span></a></code></pre></div>
<p><code>time_length()</code> computes the exact length of a timespan i.e. <code>duration</code>, <code>interval</code> or <code>period</code>. Let us use <code>time_length()</code> to compute the length of the
course in different units.</p>
<p><br></p>
<p><img src="img/time_length.png" width="100%" style="display: block; margin: auto;" /></p>
<p><br></p>
<div class="sourceCode" id="cb680"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb680-1" title="1"><span class="co"># course length in seconds</span></a>
<a class="sourceLine" id="cb680-2" title="2"><span class="kw">time_length</span>(course_interval, <span class="dt">unit =</span> <span class="st">&quot;seconds&quot;</span>)</a>
<a class="sourceLine" id="cb680-3" title="3"><span class="co">## [1] 777600</span></a>
<a class="sourceLine" id="cb680-4" title="4"></a>
<a class="sourceLine" id="cb680-5" title="5"><span class="co"># course length in minutes</span></a>
<a class="sourceLine" id="cb680-6" title="6"><span class="kw">time_length</span>(course_interval, <span class="dt">unit =</span> <span class="st">&quot;minutes&quot;</span>)</a>
<a class="sourceLine" id="cb680-7" title="7"><span class="co">## [1] 12960</span></a>
<a class="sourceLine" id="cb680-8" title="8"></a>
<a class="sourceLine" id="cb680-9" title="9"><span class="co"># course length in hours</span></a>
<a class="sourceLine" id="cb680-10" title="10"><span class="kw">time_length</span>(course_interval, <span class="dt">unit =</span> <span class="st">&quot;hours&quot;</span>)</a>
<a class="sourceLine" id="cb680-11" title="11"><span class="co">## [1] 216</span></a></code></pre></div>
</div>
</div>
<div id="others" class="section level2">
<h2><span class="header-section-number">9.11</span> Others</h2>
<p>In this section, we will learn to round date/time to the nearest unit and roll
back dates.</p>
<div id="rounding-dates" class="section level3">
<h3><span class="header-section-number">9.11.1</span> Rounding Dates</h3>
<p>We will explore functions for rounding dates</p>
<ul>
<li>to the nearest value using <code>round_dates()</code></li>
<li>down using <code>floor_date()</code></li>
<li>up using <code>ceiling_date()</code></li>
</ul>
<p>The unit for rounding can be any of the following:</p>
<ul>
<li>second</li>
<li>minute</li>
<li>hour</li>
<li>day</li>
<li>week</li>
<li>month</li>
<li>bimonth</li>
<li>quarter</li>
<li>season</li>
<li>halfyear</li>
<li>and year</li>
</ul>
<p>We will look at a few examples using <code>round_date()</code> and you will then practice
using the other two functions.</p>
<div class="sourceCode" id="cb681"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb681-1" title="1"><span class="co"># minute</span></a>
<a class="sourceLine" id="cb681-2" title="2"><span class="kw">round_date</span>(release_date, <span class="dt">unit =</span> <span class="st">&quot;minute&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 08:05:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb683-1" title="1"><span class="kw">round_date</span>(release_date, <span class="dt">unit =</span> <span class="st">&quot;mins&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 08:05:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb685"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb685-1" title="1"><span class="kw">round_date</span>(release_date, <span class="dt">unit =</span> <span class="st">&quot;5 mins&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 08:05:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb687-1" title="1"><span class="co"># hour</span></a>
<a class="sourceLine" id="cb687-2" title="2"><span class="kw">round_date</span>(release_date, <span class="dt">unit =</span> <span class="st">&quot;hour&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 08:00:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb689"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb689-1" title="1"><span class="co"># day</span></a>
<a class="sourceLine" id="cb689-2" title="2"><span class="kw">round_date</span>(release_date, <span class="dt">unit =</span> <span class="st">&quot;day&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-12 UTC&quot;</code></pre>
</div>
<div id="rollback" class="section level3">
<h3><span class="header-section-number">9.11.2</span> Rollback</h3>
<p>Use <code>rollback()</code> if you want to change the date to the last day of the previous
month or the first day of the month.</p>
<div class="sourceCode" id="cb691"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb691-1" title="1"><span class="kw">rollback</span>(release_date)</a></code></pre></div>
<pre><code>## [1] &quot;2019-11-30 08:05:03 UTC&quot;</code></pre>
<p>To change the date to the first day of the month, use the <code>roll_to_first</code>
argument and set it to <code>TRUE</code>.</p>
<div class="sourceCode" id="cb693"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb693-1" title="1"><span class="kw">rollback</span>(release_date, <span class="dt">roll_to_first =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] &quot;2019-12-01 08:05:03 UTC&quot;</code></pre>
</div>
<div id="your-turn-9" class="section level3">
<h3><span class="header-section-number">9.11.3</span> Your Turn</h3>
<ul>
<li>round up R release dates to hours</li>
<li>round down R release dates to minutes</li>
<li>rollback R release dates to the beginning of the month</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="stringr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="forcats.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
