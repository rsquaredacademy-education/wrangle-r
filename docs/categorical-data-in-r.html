<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Categorical Data | Data Wrangling with R</title>
  <meta name="description" content="Learn to wrangle data with R." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Categorical Data | Data Wrangling with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Learn to wrangle data with R." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Categorical Data | Data Wrangling with R" />
  
  <meta name="twitter:description" content="Learn to wrangle data with R." />
  

<meta name="author" content="Aravind Hebbali" />


<meta name="date" content="2021-07-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="date-and-time-in-r.html"/>

<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-57270671-37"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-57270671-37');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://github.com/rsquaredacademy-education/wrangle-r/">Data Wrangling with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#structure-of-the-book"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-information"><i class="fa fa-check"></i>Software information</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html"><i class="fa fa-check"></i><b>1</b> Import Data - Basics</a>
<ul>
<li class="chapter" data-level="1.1" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#delimiters"><i class="fa fa-check"></i><b>1.2</b> Delimiters</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#comma-separated-values"><i class="fa fa-check"></i><b>1.2.1</b> Comma Separated Values</a></li>
<li class="chapter" data-level="1.2.2" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#semi-colon-separated-values"><i class="fa fa-check"></i><b>1.2.2</b> Semi Colon Separated Values</a></li>
<li class="chapter" data-level="1.2.3" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#space-separated-values"><i class="fa fa-check"></i><b>1.2.3</b> Space Separated Values</a></li>
<li class="chapter" data-level="1.2.4" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#tab-separated-values"><i class="fa fa-check"></i><b>1.2.4</b> Tab Separated Values</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#read-data"><i class="fa fa-check"></i><b>1.3</b> Read Data</a></li>
<li class="chapter" data-level="1.4" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#column-names"><i class="fa fa-check"></i><b>1.4</b> Column Names</a></li>
<li class="chapter" data-level="1.5" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#skip-lines"><i class="fa fa-check"></i><b>1.5</b> Skip Lines</a></li>
<li class="chapter" data-level="1.6" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#maximum-lines"><i class="fa fa-check"></i><b>1.6</b> Maximum Lines</a></li>
<li class="chapter" data-level="1.7" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#column-types"><i class="fa fa-check"></i><b>1.7</b> Column Types</a></li>
<li class="chapter" data-level="1.8" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#select-columns"><i class="fa fa-check"></i><b>1.8</b> Select Columns</a></li>
<li class="chapter" data-level="1.9" data-path="import-data-in-r-basics.html"><a href="import-data-in-r-basics.html#summary"><i class="fa fa-check"></i><b>1.9</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html"><i class="fa fa-check"></i><b>2</b> Import Data - Advanced</a>
<ul>
<li class="chapter" data-level="2.1" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#introduction-1"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#list-sheets"><i class="fa fa-check"></i><b>2.2</b> List Sheets</a></li>
<li class="chapter" data-level="2.3" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#read-sheet"><i class="fa fa-check"></i><b>2.3</b> Read Sheet</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#case-1-specify-the-sheet-number"><i class="fa fa-check"></i><b>2.3.1</b> Case 1: Specify the sheet number</a></li>
<li class="chapter" data-level="2.3.2" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#case-2-specify-the-sheet-name"><i class="fa fa-check"></i><b>2.3.2</b> Case 2: Specify the sheet name</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#read-specific-cells"><i class="fa fa-check"></i><b>2.4</b> Read Specific Cells</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#method-1"><i class="fa fa-check"></i><b>2.4.1</b> Method 1</a></li>
<li class="chapter" data-level="2.4.2" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#method-2"><i class="fa fa-check"></i><b>2.4.2</b> Method 2</a></li>
<li class="chapter" data-level="2.4.3" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#method-3"><i class="fa fa-check"></i><b>2.4.3</b> Method 3</a></li>
<li class="chapter" data-level="2.4.4" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#method-1-1"><i class="fa fa-check"></i><b>2.4.4</b> Method 1</a></li>
<li class="chapter" data-level="2.4.5" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#method-2-1"><i class="fa fa-check"></i><b>2.4.5</b> Method 2</a></li>
<li class="chapter" data-level="2.4.6" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#method-3-1"><i class="fa fa-check"></i><b>2.4.6</b> Method 3</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#read-specific-rows"><i class="fa fa-check"></i><b>2.5</b> Read Specific Rows</a></li>
<li class="chapter" data-level="2.6" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#read-single-column"><i class="fa fa-check"></i><b>2.6</b> Read Single Column</a></li>
<li class="chapter" data-level="2.7" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#read-multiple-columns"><i class="fa fa-check"></i><b>2.7</b> Read Multiple Columns</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#summary-1"><i class="fa fa-check"></i><b>2.7.1</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#statistical-softwares"><i class="fa fa-check"></i><b>2.8</b> Statistical Softwares</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#stata"><i class="fa fa-check"></i><b>2.8.1</b> STATA</a></li>
<li class="chapter" data-level="2.8.2" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#spss"><i class="fa fa-check"></i><b>2.8.2</b> SPSS</a></li>
<li class="chapter" data-level="2.8.3" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#sas"><i class="fa fa-check"></i><b>2.8.3</b> SAS</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="import-data-in-r-advanced.html"><a href="import-data-in-r-advanced.html#summary-2"><i class="fa fa-check"></i><b>2.9</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dplyr-basics.html"><a href="dplyr-basics.html"><i class="fa fa-check"></i><b>3</b> dplyr Basics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="dplyr-basics.html"><a href="dplyr-basics.html#introduction-2"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="dplyr-basics.html"><a href="dplyr-basics.html#dplyr-verbs"><i class="fa fa-check"></i><b>3.2</b> dplyr Verbs</a></li>
<li class="chapter" data-level="3.3" data-path="dplyr-basics.html"><a href="dplyr-basics.html#data"><i class="fa fa-check"></i><b>3.3</b> Data</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="dplyr-basics.html"><a href="dplyr-basics.html#data-dictionary"><i class="fa fa-check"></i><b>3.3.1</b> Data Dictionary</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="dplyr-basics.html"><a href="dplyr-basics.html#case-study"><i class="fa fa-check"></i><b>3.4</b> Case Study</a></li>
<li class="chapter" data-level="3.5" data-path="dplyr-basics.html"><a href="dplyr-basics.html#average-order-value"><i class="fa fa-check"></i><b>3.5</b> Average Order Value</a></li>
<li class="chapter" data-level="3.6" data-path="dplyr-basics.html"><a href="dplyr-basics.html#aov-by-devices"><i class="fa fa-check"></i><b>3.6</b> AOV by Devices</a></li>
<li class="chapter" data-level="3.7" data-path="dplyr-basics.html"><a href="dplyr-basics.html#syntax"><i class="fa fa-check"></i><b>3.7</b> Syntax</a></li>
<li class="chapter" data-level="3.8" data-path="dplyr-basics.html"><a href="dplyr-basics.html#filter-rows"><i class="fa fa-check"></i><b>3.8</b> Filter Rows</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="dplyr-basics.html"><a href="dplyr-basics.html#case-study-1"><i class="fa fa-check"></i><b>3.8.1</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="dplyr-basics.html"><a href="dplyr-basics.html#select-columns-1"><i class="fa fa-check"></i><b>3.9</b> Select Columns</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="dplyr-basics.html"><a href="dplyr-basics.html#case-study-2"><i class="fa fa-check"></i><b>3.9.1</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="dplyr-basics.html"><a href="dplyr-basics.html#grouping-data"><i class="fa fa-check"></i><b>3.10</b> Grouping Data</a>
<ul>
<li class="chapter" data-level="3.10.1" data-path="dplyr-basics.html"><a href="dplyr-basics.html#case-study-3"><i class="fa fa-check"></i><b>3.10.1</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="dplyr-basics.html"><a href="dplyr-basics.html#summarise-data"><i class="fa fa-check"></i><b>3.11</b> Summarise Data</a>
<ul>
<li class="chapter" data-level="3.11.1" data-path="dplyr-basics.html"><a href="dplyr-basics.html#case-study-4"><i class="fa fa-check"></i><b>3.11.1</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="3.12" data-path="dplyr-basics.html"><a href="dplyr-basics.html#create-columns"><i class="fa fa-check"></i><b>3.12</b> Create Columns</a>
<ul>
<li class="chapter" data-level="3.12.1" data-path="dplyr-basics.html"><a href="dplyr-basics.html#case-study-5"><i class="fa fa-check"></i><b>3.12.1</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="3.13" data-path="dplyr-basics.html"><a href="dplyr-basics.html#arrange-data"><i class="fa fa-check"></i><b>3.13</b> Arrange Data</a>
<ul>
<li class="chapter" data-level="3.13.1" data-path="dplyr-basics.html"><a href="dplyr-basics.html#case-study-6"><i class="fa fa-check"></i><b>3.13.1</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="3.14" data-path="dplyr-basics.html"><a href="dplyr-basics.html#aov-by-devices-1"><i class="fa fa-check"></i><b>3.14</b> AOV by Devices</a></li>
<li class="chapter" data-level="3.15" data-path="dplyr-basics.html"><a href="dplyr-basics.html#your-turn"><i class="fa fa-check"></i><b>3.15</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html"><i class="fa fa-check"></i><b>4</b> Joining Tables using dplyr</a>
<ul>
<li class="chapter" data-level="4.1" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#introduction-3"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#case-study-7"><i class="fa fa-check"></i><b>4.2</b> Case Study</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#data-orders"><i class="fa fa-check"></i><b>4.2.1</b> Data: Orders</a></li>
<li class="chapter" data-level="4.2.2" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#data-customers"><i class="fa fa-check"></i><b>4.2.2</b> Data: Customers</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#example-data"><i class="fa fa-check"></i><b>4.3</b> Example Data</a></li>
<li class="chapter" data-level="4.4" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#inner-join"><i class="fa fa-check"></i><b>4.4</b> Inner Join</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#case-study-details-of-customers-who-have-placed-orders-and-their-order-details"><i class="fa fa-check"></i><b>4.4.1</b> Case Study: Details of customers who have placed orders and their order details</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#left-join"><i class="fa fa-check"></i><b>4.5</b> Left Join</a></li>
<li class="chapter" data-level="4.6" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#case-study-details-of-customers-and-their-orders-irrespective-of-whether-a-customer-has"><i class="fa fa-check"></i><b>4.6</b> Case Study: Details of customers and their orders irrespective of whether a customer has</a></li>
<li class="chapter" data-level="4.7" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#right-join"><i class="fa fa-check"></i><b>4.7</b> Right Join</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#case-study-customer-details-for-each-order"><i class="fa fa-check"></i><b>4.7.1</b> Case Study: Customer details for each order</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#semi-join"><i class="fa fa-check"></i><b>4.8</b> Semi Join</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#case-study-details-of-customers-who-have-placed-orders"><i class="fa fa-check"></i><b>4.8.1</b> Case Study: Details of customers who have placed orders</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#anti-join"><i class="fa fa-check"></i><b>4.9</b> Anti Join</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#case-study-details-of-customers-who-have-not-placed-orders"><i class="fa fa-check"></i><b>4.9.1</b> Case Study: Details of customers who have not placed orders</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#full-join"><i class="fa fa-check"></i><b>4.10</b> Full Join</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="joining-tables-in-r-dplyr.html"><a href="joining-tables-in-r-dplyr.html#case-study-details-of-all-customers-and-all-orders"><i class="fa fa-check"></i><b>4.10.1</b> Case Study: Details of all customers and all orders</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html"><i class="fa fa-check"></i><b>5</b> dplyr Helpers</a>
<ul>
<li class="chapter" data-level="5.1" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html#introduction-4"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html#case-study-8"><i class="fa fa-check"></i><b>5.2</b> Case Study</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html#data-1"><i class="fa fa-check"></i><b>5.2.1</b> Data</a></li>
<li class="chapter" data-level="5.2.2" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html#data-dictionary-1"><i class="fa fa-check"></i><b>5.2.2</b> Data Dictionary</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html#data-sanitization"><i class="fa fa-check"></i><b>5.3</b> Data Sanitization</a></li>
<li class="chapter" data-level="5.4" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html#rename-columns"><i class="fa fa-check"></i><b>5.4</b> Rename Columns</a></li>
<li class="chapter" data-level="5.5" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html#data-tabulation"><i class="fa fa-check"></i><b>5.5</b> Data Tabulation</a></li>
<li class="chapter" data-level="5.6" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html#sampling-data"><i class="fa fa-check"></i><b>5.6</b> Sampling Data</a></li>
<li class="chapter" data-level="5.7" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html#data-extraction"><i class="fa fa-check"></i><b>5.7</b> Data Extraction</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html#sample-data"><i class="fa fa-check"></i><b>5.7.1</b> Sample Data</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html#between"><i class="fa fa-check"></i><b>5.8</b> Between</a></li>
<li class="chapter" data-level="5.9" data-path="dplyr-helper-functions.html"><a href="dplyr-helper-functions.html#case-when"><i class="fa fa-check"></i><b>5.9</b> Case When</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html"><i class="fa fa-check"></i><b>6</b> Pipe Operator</a>
<ul>
<li class="chapter" data-level="6.1" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#introduction-5"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#pipes"><i class="fa fa-check"></i><b>6.2</b> Pipes</a></li>
<li class="chapter" data-level="6.3" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#data-2"><i class="fa fa-check"></i><b>6.3</b> Data</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#data-dictionary-2"><i class="fa fa-check"></i><b>6.3.1</b> Data Dictionary</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#head"><i class="fa fa-check"></i><b>6.4</b> head()</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#using-pipe"><i class="fa fa-check"></i><b>6.4.1</b> Using Pipe</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#square-root"><i class="fa fa-check"></i><b>6.5</b> Square Root</a></li>
<li class="chapter" data-level="6.6" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#visualization"><i class="fa fa-check"></i><b>6.6</b> Visualization</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#using-pipe-1"><i class="fa fa-check"></i><b>6.6.1</b> Using pipe</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#correlation"><i class="fa fa-check"></i><b>6.7</b> Correlation</a></li>
<li class="chapter" data-level="6.8" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#regression"><i class="fa fa-check"></i><b>6.8</b> Regression</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#using-pipe-2"><i class="fa fa-check"></i><b>6.8.1</b> Using pipe</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#string-manipulation"><i class="fa fa-check"></i><b>6.9</b> String Manipulation</a></li>
<li class="chapter" data-level="6.10" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#data-extraction-1"><i class="fa fa-check"></i><b>6.10</b> Data Extraction</a>
<ul>
<li class="chapter" data-level="6.10.1" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#extract-column"><i class="fa fa-check"></i><b>6.10.1</b> Extract Column</a></li>
<li class="chapter" data-level="6.10.2" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#extract-list-element"><i class="fa fa-check"></i><b>6.10.2</b> Extract List Element</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#arithmetic-operations"><i class="fa fa-check"></i><b>6.11</b> Arithmetic Operations</a>
<ul>
<li class="chapter" data-level="6.11.1" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#addition"><i class="fa fa-check"></i><b>6.11.1</b> Addition</a></li>
<li class="chapter" data-level="6.11.2" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#multiplication"><i class="fa fa-check"></i><b>6.11.2</b> Multiplication</a></li>
<li class="chapter" data-level="6.11.3" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#division"><i class="fa fa-check"></i><b>6.11.3</b> Division</a></li>
<li class="chapter" data-level="6.11.4" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#power"><i class="fa fa-check"></i><b>6.11.4</b> Power</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#logical-operators"><i class="fa fa-check"></i><b>6.12</b> Logical Operators</a>
<ul>
<li class="chapter" data-level="6.12.1" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#greater-than"><i class="fa fa-check"></i><b>6.12.1</b> Greater Than</a></li>
<li class="chapter" data-level="6.12.2" data-path="r-pipe-magrittr.html"><a href="r-pipe-magrittr.html#weakly-greater-than"><i class="fa fa-check"></i><b>6.12.2</b> Weakly Greater Than</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html"><i class="fa fa-check"></i><b>7</b> tibbles</a>
<ul>
<li class="chapter" data-level="7.1" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#introduction-6"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#creating-tibbles"><i class="fa fa-check"></i><b>7.2</b> Creating tibbles</a></li>
<li class="chapter" data-level="7.3" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#tibble-features"><i class="fa fa-check"></i><b>7.3</b> tibble features</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#never-changes-inputs-types"><i class="fa fa-check"></i><b>7.3.1</b> never changes input’s types</a></li>
<li class="chapter" data-level="7.3.2" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#never-adjusts-variable-names"><i class="fa fa-check"></i><b>7.3.2</b> never adjusts variable names</a></li>
<li class="chapter" data-level="7.3.3" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#never-prints-all-rows"><i class="fa fa-check"></i><b>7.3.3</b> never prints all rows</a></li>
<li class="chapter" data-level="7.3.4" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#never-recycles-vector-of-length-greater-than-1"><i class="fa fa-check"></i><b>7.3.4</b> never recycles vector of length greater than 1</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#membership-testing"><i class="fa fa-check"></i><b>7.4</b> Membership Testing</a></li>
<li class="chapter" data-level="7.5" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#tribble"><i class="fa fa-check"></i><b>7.5</b> Tribble</a></li>
<li class="chapter" data-level="7.6" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#column-names-1"><i class="fa fa-check"></i><b>7.6</b> Column Names</a></li>
<li class="chapter" data-level="7.7" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#add-rows"><i class="fa fa-check"></i><b>7.7</b> Add Rows</a></li>
<li class="chapter" data-level="7.8" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#add-columns"><i class="fa fa-check"></i><b>7.8</b> Add Columns</a></li>
<li class="chapter" data-level="7.9" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#rownames"><i class="fa fa-check"></i><b>7.9</b> Rownames</a>
<ul>
<li class="chapter" data-level="7.9.1" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#remove-rownames"><i class="fa fa-check"></i><b>7.9.1</b> Remove Rownames</a></li>
<li class="chapter" data-level="7.9.2" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#rownames-to-column"><i class="fa fa-check"></i><b>7.9.2</b> Rownames to Column</a></li>
<li class="chapter" data-level="7.9.3" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#column-to-rownames"><i class="fa fa-check"></i><b>7.9.3</b> Column to Rownames</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#glimpse"><i class="fa fa-check"></i><b>7.10</b> Glimpse</a></li>
<li class="chapter" data-level="7.11" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#check-column"><i class="fa fa-check"></i><b>7.11</b> Check Column</a></li>
<li class="chapter" data-level="7.12" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#summary-3"><i class="fa fa-check"></i><b>7.12</b> Summary</a>
<ul>
<li class="chapter" data-level="7.12.1" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#creating-tibbles-1"><i class="fa fa-check"></i><b>7.12.1</b> Creating tibbles</a></li>
<li class="chapter" data-level="7.12.2" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#modifying-tibbles"><i class="fa fa-check"></i><b>7.12.2</b> Modifying tibbles</a></li>
<li class="chapter" data-level="7.12.3" data-path="tibbles-in-r.html"><a href="tibbles-in-r.html#testing-tibbles"><i class="fa fa-check"></i><b>7.12.3</b> Testing tibbles</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="strings-in-r.html"><a href="strings-in-r.html"><i class="fa fa-check"></i><b>8</b> Hacking Strings</a>
<ul>
<li class="chapter" data-level="8.1" data-path="strings-in-r.html"><a href="strings-in-r.html#introduction-7"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="strings-in-r.html"><a href="strings-in-r.html#case-study-9"><i class="fa fa-check"></i><b>8.2</b> Case Study</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="strings-in-r.html"><a href="strings-in-r.html#data-3"><i class="fa fa-check"></i><b>8.2.1</b> Data</a></li>
<li class="chapter" data-level="8.2.2" data-path="strings-in-r.html"><a href="strings-in-r.html#data-dictionary-3"><i class="fa fa-check"></i><b>8.2.2</b> Data Dictionary</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="strings-in-r.html"><a href="strings-in-r.html#overview"><i class="fa fa-check"></i><b>8.3</b> Overview</a></li>
<li class="chapter" data-level="8.4" data-path="strings-in-r.html"><a href="strings-in-r.html#extract-domain-name-from-email-ids"><i class="fa fa-check"></i><b>8.4</b> Extract domain name from email ids</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="strings-in-r.html"><a href="strings-in-r.html#steps"><i class="fa fa-check"></i><b>8.4.1</b> Steps</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="strings-in-r.html"><a href="strings-in-r.html#extract-domain-extension"><i class="fa fa-check"></i><b>8.5</b> Extract Domain Extension</a></li>
<li class="chapter" data-level="8.6" data-path="strings-in-r.html"><a href="strings-in-r.html#extract-image-type-from-url"><i class="fa fa-check"></i><b>8.6</b> Extract image type from URL</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="strings-in-r.html"><a href="strings-in-r.html#steps-1"><i class="fa fa-check"></i><b>8.6.1</b> Steps</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="strings-in-r.html"><a href="strings-in-r.html#extract-image-dimesion-from-url"><i class="fa fa-check"></i><b>8.7</b> Extract Image Dimesion from URL</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="strings-in-r.html"><a href="strings-in-r.html#steps-2"><i class="fa fa-check"></i><b>8.7.1</b> Steps</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="strings-in-r.html"><a href="strings-in-r.html#extract-http-protocol-from-url"><i class="fa fa-check"></i><b>8.8</b> Extract HTTP Protocol from URL</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="strings-in-r.html"><a href="strings-in-r.html#steps-3"><i class="fa fa-check"></i><b>8.8.1</b> Steps</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="strings-in-r.html"><a href="strings-in-r.html#extract-file-type"><i class="fa fa-check"></i><b>8.9</b> Extract file type</a>
<ul>
<li class="chapter" data-level="8.9.1" data-path="strings-in-r.html"><a href="strings-in-r.html#steps-4"><i class="fa fa-check"></i><b>8.9.1</b> Steps</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html"><i class="fa fa-check"></i><b>9</b> Date &amp; Time</a>
<ul>
<li class="chapter" data-level="9.1" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#introduction-8"><i class="fa fa-check"></i><b>9.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#date"><i class="fa fa-check"></i><b>9.1.1</b> Date</a></li>
<li class="chapter" data-level="9.1.2" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#time"><i class="fa fa-check"></i><b>9.1.2</b> Time</a></li>
<li class="chapter" data-level="9.1.3" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#am-or-pm"><i class="fa fa-check"></i><b>9.1.3</b> AM or PM?</a></li>
<li class="chapter" data-level="9.1.4" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#leap-year"><i class="fa fa-check"></i><b>9.1.4</b> Leap Year</a></li>
<li class="chapter" data-level="9.1.5" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#summary-4"><i class="fa fa-check"></i><b>9.1.5</b> Summary</a></li>
<li class="chapter" data-level="9.1.6" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#your-turn-1"><i class="fa fa-check"></i><b>9.1.6</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#case-study-10"><i class="fa fa-check"></i><b>9.2</b> Case Study</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#data-4"><i class="fa fa-check"></i><b>9.2.1</b> Data</a></li>
<li class="chapter" data-level="9.2.2" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#data-dictionary-4"><i class="fa fa-check"></i><b>9.2.2</b> Data Dictionary</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#date-time-classes"><i class="fa fa-check"></i><b>9.3</b> Date &amp; Time Classes</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#introduction-9"><i class="fa fa-check"></i><b>9.3.1</b> Introduction</a></li>
<li class="chapter" data-level="9.3.2" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#date-1"><i class="fa fa-check"></i><b>9.3.2</b> Date</a></li>
<li class="chapter" data-level="9.3.3" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#iso-8601"><i class="fa fa-check"></i><b>9.3.3</b> ISO 8601</a></li>
<li class="chapter" data-level="9.3.4" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#posix"><i class="fa fa-check"></i><b>9.3.4</b> POSIX</a></li>
<li class="chapter" data-level="9.3.5" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#your-turn-2"><i class="fa fa-check"></i><b>9.3.5</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#date-arithmetic"><i class="fa fa-check"></i><b>9.4</b> Date Arithmetic</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#introduction-11"><i class="fa fa-check"></i><b>9.4.1</b> Introduction</a></li>
<li class="chapter" data-level="9.4.2" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#shift-date"><i class="fa fa-check"></i><b>9.4.2</b> Shift Date</a></li>
<li class="chapter" data-level="9.4.3" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#case-study-11"><i class="fa fa-check"></i><b>9.4.3</b> Case Study</a></li>
<li class="chapter" data-level="9.4.4" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#your-turn-3"><i class="fa fa-check"></i><b>9.4.4</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#time-zones"><i class="fa fa-check"></i><b>9.5</b> Time Zones</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#introduction-12"><i class="fa fa-check"></i><b>9.5.1</b> Introduction</a></li>
<li class="chapter" data-level="9.5.2" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#time-zones-1"><i class="fa fa-check"></i><b>9.5.2</b> Time Zones</a></li>
<li class="chapter" data-level="9.5.3" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#daylight-savings"><i class="fa fa-check"></i><b>9.5.3</b> Daylight Savings</a></li>
<li class="chapter" data-level="9.5.4" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#your-turn-4"><i class="fa fa-check"></i><b>9.5.4</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#date-time-formats"><i class="fa fa-check"></i><b>9.6</b> Date &amp; Time Formats</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#introduction-13"><i class="fa fa-check"></i><b>9.6.1</b> Introduction</a></li>
<li class="chapter" data-level="9.6.2" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#conversion-specifications"><i class="fa fa-check"></i><b>9.6.2</b> Conversion Specifications</a></li>
<li class="chapter" data-level="9.6.3" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#guess-format"><i class="fa fa-check"></i><b>9.6.3</b> Guess Format</a></li>
<li class="chapter" data-level="9.6.4" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#your-turn-5"><i class="fa fa-check"></i><b>9.6.4</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#parse-date-time"><i class="fa fa-check"></i><b>9.7</b> Parse Date &amp; Time</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#your-turn-6"><i class="fa fa-check"></i><b>9.7.1</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#date-time-components"><i class="fa fa-check"></i><b>9.8</b> Date &amp; Time Components</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#year"><i class="fa fa-check"></i><b>9.8.1</b> Year</a></li>
<li class="chapter" data-level="9.8.2" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#month"><i class="fa fa-check"></i><b>9.8.2</b> Month</a></li>
<li class="chapter" data-level="9.8.3" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#week"><i class="fa fa-check"></i><b>9.8.3</b> Week</a></li>
<li class="chapter" data-level="9.8.4" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#day"><i class="fa fa-check"></i><b>9.8.4</b> Day</a></li>
<li class="chapter" data-level="9.8.5" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#days-in-month"><i class="fa fa-check"></i><b>9.8.5</b> Days in Month</a></li>
<li class="chapter" data-level="9.8.6" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#hour-minute-seconds"><i class="fa fa-check"></i><b>9.8.6</b> Hour, Minute &amp; Seconds</a></li>
<li class="chapter" data-level="9.8.7" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#quarter-semester"><i class="fa fa-check"></i><b>9.8.7</b> Quarter &amp; Semester</a></li>
<li class="chapter" data-level="9.8.8" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#case-study-12"><i class="fa fa-check"></i><b>9.8.8</b> Case Study</a></li>
<li class="chapter" data-level="9.8.9" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#your-turn-7"><i class="fa fa-check"></i><b>9.8.9</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#create-update-verify"><i class="fa fa-check"></i><b>9.9</b> Create, Update &amp; Verify</a>
<ul>
<li class="chapter" data-level="9.9.1" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#create"><i class="fa fa-check"></i><b>9.9.1</b> Create</a></li>
<li class="chapter" data-level="9.9.2" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#update"><i class="fa fa-check"></i><b>9.9.2</b> Update</a></li>
<li class="chapter" data-level="9.9.3" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#date-sequence"><i class="fa fa-check"></i><b>9.9.3</b> Date Sequence</a></li>
<li class="chapter" data-level="9.9.4" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#verify-type"><i class="fa fa-check"></i><b>9.9.4</b> Verify Type</a></li>
<li class="chapter" data-level="9.9.5" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#your-turn-8"><i class="fa fa-check"></i><b>9.9.5</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#intervals-duration-period"><i class="fa fa-check"></i><b>9.10</b> Intervals, Duration &amp; Period</a>
<ul>
<li class="chapter" data-level="9.10.1" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#interval"><i class="fa fa-check"></i><b>9.10.1</b> Interval</a></li>
<li class="chapter" data-level="9.10.2" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#within"><i class="fa fa-check"></i><b>9.10.2</b> Within</a></li>
<li class="chapter" data-level="9.10.3" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#duration"><i class="fa fa-check"></i><b>9.10.3</b> Duration</a></li>
<li class="chapter" data-level="9.10.4" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#period"><i class="fa fa-check"></i><b>9.10.4</b> Period</a></li>
</ul></li>
<li class="chapter" data-level="9.11" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#others"><i class="fa fa-check"></i><b>9.11</b> Others</a>
<ul>
<li class="chapter" data-level="9.11.1" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#rounding-dates"><i class="fa fa-check"></i><b>9.11.1</b> Rounding Dates</a></li>
<li class="chapter" data-level="9.11.2" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#rollback"><i class="fa fa-check"></i><b>9.11.2</b> Rollback</a></li>
<li class="chapter" data-level="9.11.3" data-path="date-and-time-in-r.html"><a href="date-and-time-in-r.html#your-turn-9"><i class="fa fa-check"></i><b>9.11.3</b> Your Turn</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html"><i class="fa fa-check"></i><b>10</b> Categorical Data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#intro"><i class="fa fa-check"></i><b>10.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#data-types"><i class="fa fa-check"></i><b>10.1.1</b> Data Types</a></li>
<li class="chapter" data-level="10.1.2" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#categorical-data"><i class="fa fa-check"></i><b>10.1.2</b> Categorical Data</a></li>
<li class="chapter" data-level="10.1.3" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#dichotomous"><i class="fa fa-check"></i><b>10.1.3</b> Dichotomous</a></li>
<li class="chapter" data-level="10.1.4" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#polychotomous"><i class="fa fa-check"></i><b>10.1.4</b> Polychotomous</a></li>
<li class="chapter" data-level="10.1.5" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#ordinal"><i class="fa fa-check"></i><b>10.1.5</b> Ordinal</a></li>
<li class="chapter" data-level="10.1.6" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#nominal"><i class="fa fa-check"></i><b>10.1.6</b> Nominal</a></li>
<li class="chapter" data-level="10.1.7" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#summary-5"><i class="fa fa-check"></i><b>10.1.7</b> Summary</a></li>
<li class="chapter" data-level="10.1.8" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#your-turn-10"><i class="fa fa-check"></i><b>10.1.8</b> Your Turn…</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#casestudy"><i class="fa fa-check"></i><b>10.2</b> Case Study</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#data-5"><i class="fa fa-check"></i><b>10.2.1</b> Data</a></li>
<li class="chapter" data-level="10.2.2" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#data-dictionary-5"><i class="fa fa-check"></i><b>10.2.2</b> Data Dictionary</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#factors"><i class="fa fa-check"></i><b>10.3</b> Factors</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#introduction-14"><i class="fa fa-check"></i><b>10.3.1</b> Introduction</a></li>
<li class="chapter" data-level="10.3.2" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#membership-testing-1"><i class="fa fa-check"></i><b>10.3.2</b> Membership Testing</a></li>
<li class="chapter" data-level="10.3.3" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#coercion"><i class="fa fa-check"></i><b>10.3.3</b> Coercion</a></li>
<li class="chapter" data-level="10.3.4" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#factor-function"><i class="fa fa-check"></i><b>10.3.4</b> Factor Function</a></li>
<li class="chapter" data-level="10.3.5" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#modify-labels"><i class="fa fa-check"></i><b>10.3.5</b> Modify Labels</a></li>
<li class="chapter" data-level="10.3.6" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#missing-values"><i class="fa fa-check"></i><b>10.3.6</b> Missing Values</a></li>
<li class="chapter" data-level="10.3.7" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#ordered-factors"><i class="fa fa-check"></i><b>10.3.7</b> Ordered Factors</a></li>
<li class="chapter" data-level="10.3.8" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#modify-order-of-levels"><i class="fa fa-check"></i><b>10.3.8</b> Modify Order of Levels</a></li>
<li class="chapter" data-level="10.3.9" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#key-functions"><i class="fa fa-check"></i><b>10.3.9</b> Key Functions</a></li>
<li class="chapter" data-level="10.3.10" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#summary-6"><i class="fa fa-check"></i><b>10.3.10</b> Summary</a></li>
<li class="chapter" data-level="10.3.11" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#your-turn-11"><i class="fa fa-check"></i><b>10.3.11</b> Your Turn…</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#operations"><i class="fa fa-check"></i><b>10.4</b> Summarize</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#introduction-15"><i class="fa fa-check"></i><b>10.4.1</b> Introduction</a></li>
<li class="chapter" data-level="10.4.2" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#number-of-categories"><i class="fa fa-check"></i><b>10.4.2</b> Number of Categories</a></li>
<li class="chapter" data-level="10.4.3" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#category-names"><i class="fa fa-check"></i><b>10.4.3</b> Category Names</a></li>
<li class="chapter" data-level="10.4.4" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#names-counts"><i class="fa fa-check"></i><b>10.4.4</b> Names &amp; Counts</a></li>
<li class="chapter" data-level="10.4.5" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#tables"><i class="fa fa-check"></i><b>10.4.5</b> Tables</a></li>
<li class="chapter" data-level="10.4.6" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#contingency-table"><i class="fa fa-check"></i><b>10.4.6</b> Contingency Table</a></li>
<li class="chapter" data-level="10.4.7" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#key-functions-1"><i class="fa fa-check"></i><b>10.4.7</b> Key Functions</a></li>
<li class="chapter" data-level="10.4.8" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#your-turn-12"><i class="fa fa-check"></i><b>10.4.8</b> Your Turn…</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#manipulate"><i class="fa fa-check"></i><b>10.5</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#introduction-16"><i class="fa fa-check"></i><b>10.5.1</b> Introduction</a></li>
<li class="chapter" data-level="10.5.2" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#your-turn-13"><i class="fa fa-check"></i><b>10.5.2</b> Your Turn…</a></li>
<li class="chapter" data-level="10.5.3" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#change-value-of-levels"><i class="fa fa-check"></i><b>10.5.3</b> Change Value of Levels</a></li>
<li class="chapter" data-level="10.5.4" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#combine-both-paid-organic-search-into-a-single-level-search"><i class="fa fa-check"></i><b>10.5.4</b> Combine both Paid &amp; Organic Search into a single level, Search</a></li>
<li class="chapter" data-level="10.5.5" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#key-functions-2"><i class="fa fa-check"></i><b>10.5.5</b> Key Functions</a></li>
<li class="chapter" data-level="10.5.6" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#your-turn.."><i class="fa fa-check"></i><b>10.5.6</b> Your Turn..</a></li>
<li class="chapter" data-level="10.5.7" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#add-remove-levels"><i class="fa fa-check"></i><b>10.5.7</b> Add / Remove Levels</a></li>
<li class="chapter" data-level="10.5.8" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#add-a-new-level-blog"><i class="fa fa-check"></i><b>10.5.8</b> Add a new level, Blog</a></li>
<li class="chapter" data-level="10.5.9" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#key-functions-3"><i class="fa fa-check"></i><b>10.5.9</b> Key Functions</a></li>
<li class="chapter" data-level="10.5.10" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#change-order-of-levels"><i class="fa fa-check"></i><b>10.5.10</b> Change Order of Levels</a></li>
<li class="chapter" data-level="10.5.11" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#key-functions-4"><i class="fa fa-check"></i><b>10.5.11</b> Key Functions</a></li>
<li class="chapter" data-level="10.5.12" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#your-turn-14"><i class="fa fa-check"></i><b>10.5.12</b> Your Turn…</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#dataviz"><i class="fa fa-check"></i><b>10.6</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#introduction-17"><i class="fa fa-check"></i><b>10.6.1</b> Introduction</a></li>
<li class="chapter" data-level="10.6.2" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#bar-plot"><i class="fa fa-check"></i><b>10.6.2</b> Bar Plot</a></li>
<li class="chapter" data-level="10.6.3" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#grouped-bar-plot"><i class="fa fa-check"></i><b>10.6.3</b> Grouped Bar Plot</a></li>
<li class="chapter" data-level="10.6.4" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#stacked-bar-plot"><i class="fa fa-check"></i><b>10.6.4</b> Stacked Bar Plot</a></li>
<li class="chapter" data-level="10.6.5" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#proportional-bar-plot"><i class="fa fa-check"></i><b>10.6.5</b> Proportional Bar Plot</a></li>
<li class="chapter" data-level="10.6.6" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#mosaic-plot"><i class="fa fa-check"></i><b>10.6.6</b> Mosaic Plot</a></li>
<li class="chapter" data-level="10.6.7" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#pie-chart"><i class="fa fa-check"></i><b>10.6.7</b> Pie Chart</a></li>
<li class="chapter" data-level="10.6.8" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#donut-chart"><i class="fa fa-check"></i><b>10.6.8</b> Donut Chart</a></li>
<li class="chapter" data-level="10.6.9" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#summary-7"><i class="fa fa-check"></i><b>10.6.9</b> Summary</a></li>
<li class="chapter" data-level="10.6.10" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#your-turn-15"><i class="fa fa-check"></i><b>10.6.10</b> Your Turn…</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#conclusion"><i class="fa fa-check"></i><b>10.7</b> Useful R Packages</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#summarize-variables"><i class="fa fa-check"></i><b>10.7.1</b> Summarize Variables</a></li>
<li class="chapter" data-level="10.7.2" data-path="categorical-data-in-r.html"><a href="categorical-data-in-r.html#summarize-data-set"><i class="fa fa-check"></i><b>10.7.2</b> Summarize Data Set</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Wrangling with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="categorical-data-in-r" class="section level1" number="10">
<h1><span class="header-section-number">Chapter 10</span> Categorical Data</h1>
<div id="intro" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Introduction</h2>
<p>Handling categorical/qualitative data is integral to data analysis. Almost every data science project involves working with categorical data and students should know how to store, summarize, visualize &amp; manipulate such data. Working with categorical data is different from working with numbers or text. In this chapter, we will understand categorical data and explore the rich set of functions (built-in &amp; through packages) provided by R for working with such data. The word categorical is used interchangeably with qualitative.</p>
<div id="data-types" class="section level3" number="10.1.1">
<h3><span class="header-section-number">10.1.1</span> Data Types</h3>
<p>Before we begin our deep dive on categorical data, let us get a quick overview of different data types.</p>
<p><img src="img/fct_data_types.png" width="80%" style="display: block; margin: auto;" /></p>
<p>In the chart above, we can see that data can be primarily classified into <strong>qualitative</strong> or <strong>quantitative</strong>. Qualitative data consists of labels or names. Quantitative data, on the other hand, consists of numbers and indicate how much or how many. This brings us to the next level of classification:</p>
<ul>
<li>discrete</li>
<li>continuous</li>
</ul>
<p>In the chart, we can observe that qualitative data is always <strong>discrete</strong> where as quantitative data may be <strong>discrete</strong> or <strong>continuous</strong>. Qualitative data is further classified into</p>
<ul>
<li>nominal</li>
<li>ordinal</li>
</ul>
<p>First, we will understand discrete and continuous data, and then proceed to explore nominal and ordinal data.</p>
<p><strong>Discrete Data</strong></p>
<p><img src="img/fct_discrete.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Discrete data arises in situations where counting is involved. It can take on only a finite number of values and cannot be divided into smaller parts. For example, let us consider the number of students in a class. We can have 5 0r 10 students but not 5.5 students (we can’t have half a student).</p>
<p><strong>Continuous Data</strong></p>
<p><img src="img/fct_measure.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Continuous data arises in situations where measuring is involved. It can take any numeric value in a specified range and can be divided into smaller parts and still have meaning. Examples include money, temperature, length, volume etc.</p>
</div>
<div id="categorical-data" class="section level3" number="10.1.2">
<h3><span class="header-section-number">10.1.2</span> Categorical Data</h3>
<p>Since our interest is in categorical data, we will spend more time understanding the different types of categorical data through various examples. Let us begin by formally defining categorical data:</p>
<ul>
<li>it is always discrete</li>
<li>it may be divided into groups</li>
<li>consists of names or labels</li>
<li>takes on limited &amp; fixed number of possible values</li>
<li>arises in situation when counting is involved</li>
<li>analysis generally involves the use of data tables</li>
</ul>
</div>
<div id="dichotomous" class="section level3" number="10.1.3">
<h3><span class="header-section-number">10.1.3</span> Dichotomous</h3>
<p>A categorical variable that can take on exactly two values is termed as <strong>binary</strong> or <strong>dichotomous</strong> variable.</p>
<p><img src="img/fct_yes_no.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="polychotomous" class="section level3" number="10.1.4">
<h3><span class="header-section-number">10.1.4</span> Polychotomous</h3>
<p>Categorical variables with more than two possible values are called <strong>polychotomous</strong> variables.</p>
<p><img src="img/fct_yes_no_maybe.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="ordinal" class="section level3" number="10.1.5">
<h3><span class="header-section-number">10.1.5</span> Ordinal</h3>
<p><img src="img/fct_satisfaction_rating.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p>In ordinal data, the categories can be ordered or ranked. Examples include</p>
<ul>
<li>socio-economic status</li>
<li>education level</li>
<li>income level</li>
<li>satisfaction rating</li>
</ul>
<p>While we can rank the categories, we cannot assign a value to them. For example, in satisfaction ranking, we cannot say that like is twice as positive as dislike i.e. we are unable to say how much they differ from each other.
While the order or rank of data is meaningful, the difference between two pieces of data cannot be measured/determined or are meaningless. Ordinal data provide information about relative comparisons, but not the magnitude of the differences.</p>
</div>
<div id="nominal" class="section level3" number="10.1.6">
<h3><span class="header-section-number">10.1.6</span> Nominal</h3>
<p><img src="img/fct_transportation_mode.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Nominal data do not have an intrinsic order and cannot be ordered or measured. Examples include</p>
<ul>
<li>blood group</li>
<li>gender</li>
<li>religion</li>
<li>color</li>
</ul>
<p>Categorical data are sometimes coded with numbers, with those numbers replacing names. Although such numbers might appear to be quantitative, they are actually categorical data. When they do take numerical values, those numbers do not have any mathematical meaning. Examples include months expressed in numbers.</p>
</div>
<div id="summary-5" class="section level3" number="10.1.7">
<h3><span class="header-section-number">10.1.7</span> Summary</h3>
<ul>
<li>Data can be qualitative or quantitative.</li>
<li>Qualitative data is always discrete.</li>
<li>Dichotomous data consists of only 2 groups/levels.</li>
<li>Polychotomous data consists of more than 2 groups/levels.</li>
<li>Nominal data do not have an intrinsic order.</li>
<li>In ordinal data
<ul>
<li>categories can be ordered or ranked</li>
<li>the difference between the categories cannot be determined</li>
</ul></li>
</ul>
</div>
<div id="your-turn-10" class="section level3" number="10.1.8">
<h3><span class="header-section-number">10.1.8</span> Your Turn…</h3>
<ol style="list-style-type: decimal">
<li>State whether the following are quantitative or qualitative</li>
</ol>
<ul>
<li>Age</li>
<li>Gender</li>
<li>Annual Sales</li>
<li>Weight</li>
<li>Education Level</li>
<li>Vehicle Type</li>
<li>Height</li>
<li>Ice Cream Flavor</li>
<li>Job/Work Experience</li>
<li>Blood Group</li>
<li>Color</li>
<li>Mode of Payment</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>State whether the following are dichotomous or polychotomous</li>
</ol>
<ul>
<li>Heads / Tails</li>
<li>Blood Group</li>
<li>Transportation Mode</li>
<li>Rich / Poor</li>
<li>Democrat / Republican</li>
<li>Education Level</li>
<li>Gender</li>
<li>Pass / Fail</li>
<li>Yes / No</li>
<li>Positive / Negative</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>State whether the following are nominal or ordinal</li>
</ol>
<ul>
<li>STD Codes</li>
<li>Prepaid / Postpaid</li>
<li>Hotel Ratings</li>
<li>Smart Phone Brands</li>
<li>Student Grades</li>
<li>Cellular Operator</li>
<li>ISPs (Internet Service Providers)</li>
<li>Occupation</li>
<li>Bank Account Number</li>
<li>Class of Travel</li>
<li>Military Rank</li>
</ul>
</div>
</div>
<div id="casestudy" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> Case Study</h2>
<p>As is the practice, throughout this chapter, we will work on a case study related to an e-commerce firm. As most of you would already be aware, a lot of data is captured when you go on the internet by the websites you browse as well as by third party cookies. Data collected is then used to display ads as well as to feed to recommendation algorithms.</p>
<p>The data used in the case study represents the basic information that is captured when users visit any
website. It closely resembles real world data for an e-commerce store. We will try to generate insights
about the visitors to be used by an imaginary marketing team for better targeting and promotion. The case study data set can be imported using the RStudio IDE or R code.</p>
<p><img src="img/fct_web_analytics.png" width="80%" style="display: block; margin: auto;" /></p>
<div id="data-5" class="section level3" number="10.2.1">
<h3><span class="header-section-number">10.2.1</span> Data</h3>
<p>The data set is available in both <strong>CSV</strong> &amp; <strong>RDS</strong> formats.</p>
<p><strong>CSV</strong></p>
<p>If you want to specify the data types while reading the data, use the <a href="https://readr.tidyverse.org/">readr</a> package. We have explored how to import data into R in a previous <a href="#import1">chapter</a>. We will read a subset of columns from the data set (it has 20 columns) which will cover both nominal and ordinal data types. To import the data, we will use the <code>read_csv()</code> function. The first input is the name of the data set,
<code>analytics.csv</code>. Ensure that the name is enclosed in single/double quotes.</p>
<div class="sourceCode" id="cb701"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb701-1"><a href="categorical-data-in-r.html#cb701-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;analytics_raw.csv&quot;</span>, </span>
<span id="cb701-2"><a href="categorical-data-in-r.html#cb701-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col_types =</span> <span class="fu">cols_only</span>(<span class="at">device =</span> <span class="fu">col_factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Desktop&quot;</span>, <span class="st">&quot;Tablet&quot;</span>, <span class="st">&quot;Mobile&quot;</span>)), </span>
<span id="cb701-3"><a href="categorical-data-in-r.html#cb701-3" aria-hidden="true" tabindex="-1"></a>                               <span class="at">gender =</span> <span class="fu">col_factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;female&quot;</span>, <span class="st">&quot;male&quot;</span>, <span class="st">&quot;NA&quot;</span>)), </span>
<span id="cb701-4"><a href="categorical-data-in-r.html#cb701-4" aria-hidden="true" tabindex="-1"></a>                               <span class="at">user_rating =</span> <span class="fu">col_factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;4&quot;</span>, <span class="st">&quot;5&quot;</span>),</span>
<span id="cb701-5"><a href="categorical-data-in-r.html#cb701-5" aria-hidden="true" tabindex="-1"></a>                                                        <span class="at">ordered =</span> <span class="cn">TRUE</span>)))</span></code></pre></div>
<pre><code>## Warning: Missing column names filled in: &#39;X1&#39; [1]</code></pre>
<pre><code>## # A tibble: 244,398 x 3
##    device  gender user_rating
##    &lt;fct&gt;   &lt;fct&gt;  &lt;ord&gt;      
##  1 Desktop female 4          
##  2 Mobile  &lt;NA&gt;   5          
##  3 Desktop &lt;NA&gt;   4          
##  4 Desktop &lt;NA&gt;   5          
##  5 Desktop &lt;NA&gt;   4          
##  6 Mobile  &lt;NA&gt;   4          
##  7 Desktop &lt;NA&gt;   4          
##  8 Desktop &lt;NA&gt;   4          
##  9 Desktop female 5          
## 10 Desktop &lt;NA&gt;   4          
## # ... with 244,388 more rows</code></pre>
<p>Since we are specifying the column data types while importing the data, we will use the <code>col_types</code>
argument to list out the data types. As we are reading in a subset of the columns and not all of them,
we will use the <code>cols_only()</code> function indicating that only the columns specified must be read in and not
all of them.</p>
<p>Categorical data and the levels/groups are specified using the <code>col_factor()</code> function. Use the
<code>levels</code> argument to specify the levels/groups and the <code>ordered</code> argument to indicate if the data is ordinal. By default, it is set to <code>FALSE</code>, change this to <code>TRUE</code> if the column is ordinal.</p>
<p><strong>RDS</strong></p>
<p>The <code>.rds</code> file can be read using <code>readRDS()</code>.</p>
<div class="sourceCode" id="cb704"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb704-1"><a href="categorical-data-in-r.html#cb704-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&#39;analytics.rds&#39;</span>)</span>
<span id="cb704-2"><a href="categorical-data-in-r.html#cb704-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 19
##   device  os        browser user_type         channel        gender frequency
##   &lt;fct&gt;   &lt;fct&gt;     &lt;fct&gt;   &lt;fct&gt;             &lt;fct&gt;          &lt;fct&gt;      &lt;dbl&gt;
## 1 Desktop Windows   Chrome  New Visitor       Organic Search female         1
## 2 Mobile  iOS       Safari  Returning Visitor Organic Search &lt;NA&gt;           3
## 3 Desktop Chrome OS Chrome  New Visitor       Direct         &lt;NA&gt;           1
## 4 Desktop Macintosh Chrome  Returning Visitor Organic Search &lt;NA&gt;           2
## 5 Desktop Macintosh Chrome  Returning Visitor Referral       &lt;NA&gt;           5
## 6 Mobile  Android   Chrome  New Visitor       Organic Search &lt;NA&gt;           1
##   recency page_depth hour_of_day   age duration landing_page  exit_page    
##     &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt; &lt;fct&gt;         &lt;fct&gt;        
## 1       0          1 02             64        0 Home          Home         
## 2       1          1 20             NA        0 Accessories   Accessories  
## 3       0          5 05             NA      238 Sign In       Shop by Brand
## 4       0          1 17             NA        0 Apparel       Apparel      
## 5       8          1 04             NA        0 Shop by Brand Shop by Brand
## 6       0          5 00             NA      110 Apparel       Lifestyle    
##   country        quantity revenue purchase_flag user_rating
##   &lt;fct&gt;             &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;               &lt;dbl&gt;
## 1 France                0       0 FALSE                   4
## 2 Norway                0       0 FALSE                   5
## 3 India                 0       0 FALSE                   4
## 4 Ukraine               0       0 FALSE                   5
## 5 Chile                 0       0 FALSE                   4
## 6 United Kingdom        0       0 FALSE                   4</code></pre>
</div>
<div id="data-dictionary-5" class="section level3" number="10.2.2">
<h3><span class="header-section-number">10.2.2</span> Data Dictionary</h3>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Column
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
device
</td>
<td style="text-align:left;">
Device used to browse the website
</td>
</tr>
<tr>
<td style="text-align:left;">
os
</td>
<td style="text-align:left;">
Operating system of the device
</td>
</tr>
<tr>
<td style="text-align:left;">
browser
</td>
<td style="text-align:left;">
Browser used to visit the website
</td>
</tr>
<tr>
<td style="text-align:left;">
user_type
</td>
<td style="text-align:left;">
New or returning visitor
</td>
</tr>
<tr>
<td style="text-align:left;">
channel
</td>
<td style="text-align:left;">
Source of traffic
</td>
</tr>
<tr>
<td style="text-align:left;">
gender
</td>
<td style="text-align:left;">
Gender of the visitor
</td>
</tr>
<tr>
<td style="text-align:left;">
frequency
</td>
<td style="text-align:left;">
Count of visits to the website
</td>
</tr>
<tr>
<td style="text-align:left;">
recency
</td>
<td style="text-align:left;">
Number of days since last visit
</td>
</tr>
<tr>
<td style="text-align:left;">
page_depth
</td>
<td style="text-align:left;">
Number of website pages browsed
</td>
</tr>
<tr>
<td style="text-align:left;">
hour_of_day
</td>
<td style="text-align:left;">
Hour of day
</td>
</tr>
<tr>
<td style="text-align:left;">
age
</td>
<td style="text-align:left;">
Age of the visitor
</td>
</tr>
<tr>
<td style="text-align:left;">
duration
</td>
<td style="text-align:left;">
Time spent on the website (in seconds)
</td>
</tr>
<tr>
<td style="text-align:left;">
landing_page
</td>
<td style="text-align:left;">
Page on which visitor landed
</td>
</tr>
<tr>
<td style="text-align:left;">
exit_page
</td>
<td style="text-align:left;">
Page on which visitor exited
</td>
</tr>
<tr>
<td style="text-align:left;">
country
</td>
<td style="text-align:left;">
Country of origin
</td>
</tr>
<tr>
<td style="text-align:left;">
city
</td>
<td style="text-align:left;">
City of the visitor
</td>
</tr>
<tr>
<td style="text-align:left;">
quantity
</td>
<td style="text-align:left;">
Number of units purchased
</td>
</tr>
<tr>
<td style="text-align:left;">
revenue
</td>
<td style="text-align:left;">
Total revenue
</td>
</tr>
<tr>
<td style="text-align:left;">
purchase_flag
</td>
<td style="text-align:left;">
Whether the visitor checked out?
</td>
</tr>
<tr>
<td style="text-align:left;">
user_rating
</td>
<td style="text-align:left;">
Website UI rating given by visitor
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="factors" class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> Factors</h2>
<p>In this very important section, we will learn how R</p>
<ul>
<li>stores categorical data</li>
<li>checks if given data is categorical</li>
<li>converts other data types to factor</li>
<li>handles missing values in categorical data</li>
<li>specifies the orders of the categories/levels</li>
<li>stores ordinal data</li>
</ul>
<div id="introduction-14" class="section level3" number="10.3.1">
<h3><span class="header-section-number">10.3.1</span> Introduction</h3>
<p>In R, categorical data is stored as <code>factor</code>. Before we explore the <code>factor</code> family of functions, let us generate the sample data we will use in this module. We will generate the <code>device</code> column from the case study data set using the <code>sample()</code> function. We provide the following inputs to generate the data:</p>
<ul>
<li>values from which the data must be generated</li>
<li>the size of the sample</li>
<li>indicate if the values must be repeated (TRUE/FALSE)</li>
</ul>
<div class="sourceCode" id="cb706"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb706-1"><a href="categorical-data-in-r.html#cb706-1" aria-hidden="true" tabindex="-1"></a>device <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;Desktop&quot;</span>, <span class="st">&quot;Mobile&quot;</span>, <span class="st">&quot;Tablet&quot;</span>), <span class="at">size =</span> <span class="dv">25</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb706-2"><a href="categorical-data-in-r.html#cb706-2" aria-hidden="true" tabindex="-1"></a>device</span></code></pre></div>
<pre><code>##  [1] &quot;Desktop&quot; &quot;Desktop&quot; &quot;Tablet&quot;  &quot;Tablet&quot;  &quot;Desktop&quot; &quot;Tablet&quot;  &quot;Mobile&quot; 
##  [8] &quot;Mobile&quot;  &quot;Mobile&quot;  &quot;Desktop&quot; &quot;Tablet&quot;  &quot;Desktop&quot; &quot;Mobile&quot;  &quot;Tablet&quot; 
## [15] &quot;Desktop&quot; &quot;Desktop&quot; &quot;Mobile&quot;  &quot;Desktop&quot; &quot;Desktop&quot; &quot;Desktop&quot; &quot;Tablet&quot; 
## [22] &quot;Desktop&quot; &quot;Tablet&quot;  &quot;Tablet&quot;  &quot;Desktop&quot;</code></pre>
</div>
<div id="membership-testing-1" class="section level3" number="10.3.2">
<h3><span class="header-section-number">10.3.2</span> Membership Testing</h3>
<p>Great! We have successfully generated the sample data and along the way learnt a new R function for sampling. First, let us check if the sample is a <code>factor</code> using the membership function <code>is.factor()</code>.</p>
<div class="sourceCode" id="cb708"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb708-1"><a href="categorical-data-in-r.html#cb708-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.factor</span>(device)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Membership testing functions always have the prefix <code>is_</code> and return only logical values. If the object is a member of the specified class, they return <code>TRUE</code> else <code>FALSE</code>. Since our sample data is not stored as a factor, R has returned <code>FALSE</code>.</p>
</div>
<div id="coercion" class="section level3" number="10.3.3">
<h3><span class="header-section-number">10.3.3</span> Coercion</h3>
<p>Let us try to coerce it into <code>factor</code> using the coercion function <code>as.factor()</code>.</p>
<div class="sourceCode" id="cb710"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb710-1"><a href="categorical-data-in-r.html#cb710-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.factor</span>(device)</span></code></pre></div>
<pre><code>##  [1] Desktop Desktop Tablet  Tablet  Desktop Tablet  Mobile  Mobile  Mobile 
## [10] Desktop Tablet  Desktop Mobile  Tablet  Desktop Desktop Mobile  Desktop
## [19] Desktop Desktop Tablet  Desktop Tablet  Tablet  Desktop
## Levels: Desktop Mobile Tablet</code></pre>
<p>Do you spot any difference in the output? In the last line, it displays the levels or categories of the variable. Don’t worry if you didn’t spot it. We are just getting started and you will pick it up by the end of this section. Another function that can be used to coerce data into factor is <code>as_factor()</code> from the <a href="https://forcats.tidyverse.org/">forcats</a> package.</p>
<div class="sourceCode" id="cb712"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb712-1"><a href="categorical-data-in-r.html#cb712-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as_factor</span>(device)</span></code></pre></div>
<pre><code>##  [1] Desktop Desktop Tablet  Tablet  Desktop Tablet  Mobile  Mobile  Mobile 
## [10] Desktop Tablet  Desktop Mobile  Tablet  Desktop Desktop Mobile  Desktop
## [19] Desktop Desktop Tablet  Desktop Tablet  Tablet  Desktop
## Levels: Desktop Tablet Mobile</code></pre>
<p>Did you notice any difference between these two functions? Focus on the last line of the output where the
levels are displayed. Now observe the order of the levels. <code>as.factor()</code> displays levels in the alphabetical order whereas <code>as_factor()</code> displays them in order of appearance in the data. <strong>Mobile</strong>, followed by <strong>Tablet</strong>, and then <strong>Desktop</strong>. If you look at the data, they appear in the same order.</p>
</div>
<div id="factor-function" class="section level3" number="10.3.4">
<h3><span class="header-section-number">10.3.4</span> Factor Function</h3>
<p>If you want finer control while creating factors, use the <code>factor()</code> function. <code>as.factor()</code> should suffice in most cases but use <code>factor()</code> when you want to:</p>
<ul>
<li>specify levels</li>
<li>modify labels</li>
<li>include <code>NA</code> as a level/category</li>
<li>create ordered factors</li>
<li>specify order of levels</li>
</ul>
<p>The first input is a vector, usually a numeric or character vector with a small number of unique values. In our example, it is a character vector of length 25 (i.e. 25 values) but 3 unique values.</p>
<div class="sourceCode" id="cb714"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb714-1"><a href="categorical-data-in-r.html#cb714-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(device)</span></code></pre></div>
<pre><code>##  [1] Desktop Desktop Tablet  Tablet  Desktop Tablet  Mobile  Mobile  Mobile 
## [10] Desktop Tablet  Desktop Mobile  Tablet  Desktop Desktop Mobile  Desktop
## [19] Desktop Desktop Tablet  Desktop Tablet  Tablet  Desktop
## Levels: Desktop Mobile Tablet</code></pre>
<p>If you want to specify the levels or categories, use the <code>levels</code> argument.</p>
<div class="sourceCode" id="cb716"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb716-1"><a href="categorical-data-in-r.html#cb716-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(device, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Desktop&quot;</span>, <span class="st">&quot;Mobile&quot;</span>, <span class="st">&quot;Tablet&quot;</span>))</span></code></pre></div>
<pre><code>##  [1] Desktop Desktop Tablet  Tablet  Desktop Tablet  Mobile  Mobile  Mobile 
## [10] Desktop Tablet  Desktop Mobile  Tablet  Desktop Desktop Mobile  Desktop
## [19] Desktop Desktop Tablet  Desktop Tablet  Tablet  Desktop
## Levels: Desktop Mobile Tablet</code></pre>
<p>Levels not specified will be replaced by <code>NA</code>. Let us specify only <strong>Desktop</strong> and <strong>Mobile</strong> as the levels in the device column and see what happens.</p>
<div class="sourceCode" id="cb718"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb718-1"><a href="categorical-data-in-r.html#cb718-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(device, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Desktop&quot;</span>, <span class="st">&quot;Mobile&quot;</span>))</span></code></pre></div>
<pre><code>##  [1] Desktop Desktop &lt;NA&gt;    &lt;NA&gt;    Desktop &lt;NA&gt;    Mobile  Mobile  Mobile 
## [10] Desktop &lt;NA&gt;    Desktop Mobile  &lt;NA&gt;    Desktop Desktop Mobile  Desktop
## [19] Desktop Desktop &lt;NA&gt;    Desktop &lt;NA&gt;    &lt;NA&gt;    Desktop
## Levels: Desktop Mobile</code></pre>
<p>As you can see, <strong>Tablet</strong> has been replaced by <code>NA</code>.</p>
</div>
<div id="modify-labels" class="section level3" number="10.3.5">
<h3><span class="header-section-number">10.3.5</span> Modify Labels</h3>
<p>You can change the labels of the levels using the <code>labels</code> argument. The labels must be in the same order as the levels. We will modify the labels to <strong>Desk</strong>, <strong>Mob</strong> &amp; <strong>Tab</strong> for <strong>Desktop</strong>, <strong>Mobile</strong> &amp; <strong>Tablet</strong> respectively.</p>
<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb720-1"><a href="categorical-data-in-r.html#cb720-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(device, </span>
<span id="cb720-2"><a href="categorical-data-in-r.html#cb720-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Desktop&quot;</span>, <span class="st">&quot;Mobile&quot;</span>, <span class="st">&quot;Tablet&quot;</span>),</span>
<span id="cb720-3"><a href="categorical-data-in-r.html#cb720-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Desk&quot;</span>, <span class="st">&quot;Mob&quot;</span>, <span class="st">&quot;Tab&quot;</span>))</span></code></pre></div>
<pre><code>##  [1] Desk Desk Tab  Tab  Desk Tab  Mob  Mob  Mob  Desk Tab  Desk Mob  Tab  Desk
## [16] Desk Mob  Desk Desk Desk Tab  Desk Tab  Tab  Desk
## Levels: Desk Mob Tab</code></pre>
<p>You can see that not only the values but the levels are also modified.</p>
</div>
<div id="missing-values" class="section level3" number="10.3.6">
<h3><span class="header-section-number">10.3.6</span> Missing Values</h3>
<p>Let us regenerate the device column but include some missing values (<code>NA</code>) deliberately to see how <code>factor()</code> handles them.</p>
<div class="sourceCode" id="cb722"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb722-1"><a href="categorical-data-in-r.html#cb722-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sample with missing values</span></span>
<span id="cb722-2"><a href="categorical-data-in-r.html#cb722-2" aria-hidden="true" tabindex="-1"></a>device <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;Desktop&quot;</span>, <span class="st">&quot;Mobile&quot;</span>, <span class="st">&quot;Tablet&quot;</span>, <span class="cn">NA</span>), <span class="at">size =</span> <span class="dv">25</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb722-3"><a href="categorical-data-in-r.html#cb722-3" aria-hidden="true" tabindex="-1"></a>device</span></code></pre></div>
<pre><code>##  [1] &quot;Desktop&quot; &quot;Desktop&quot; NA        &quot;Mobile&quot;  &quot;Desktop&quot; &quot;Tablet&quot;  NA       
##  [8] &quot;Mobile&quot;  &quot;Tablet&quot;  NA        &quot;Mobile&quot;  NA        &quot;Mobile&quot;  &quot;Tablet&quot; 
## [15] &quot;Mobile&quot;  &quot;Mobile&quot;  NA        &quot;Tablet&quot;  &quot;Desktop&quot; &quot;Tablet&quot;  NA       
## [22] NA        &quot;Tablet&quot;  &quot;Tablet&quot;  &quot;Tablet&quot;</code></pre>
<div class="sourceCode" id="cb724"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb724-1"><a href="categorical-data-in-r.html#cb724-1" aria-hidden="true" tabindex="-1"></a><span class="co"># store as categorical data</span></span>
<span id="cb724-2"><a href="categorical-data-in-r.html#cb724-2" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(device)</span></code></pre></div>
<pre><code>##  [1] Desktop Desktop &lt;NA&gt;    Mobile  Desktop Tablet  &lt;NA&gt;    Mobile  Tablet 
## [10] &lt;NA&gt;    Mobile  &lt;NA&gt;    Mobile  Tablet  Mobile  Mobile  &lt;NA&gt;    Tablet 
## [19] Desktop Tablet  &lt;NA&gt;    &lt;NA&gt;    Tablet  Tablet  Tablet 
## Levels: Desktop Mobile Tablet</code></pre>
<p><code>NA</code> is not shown as one of the levels. Why does this happen? By default, it will ignore them. If you look
at the arguments of the <code>factor()</code> function, the <code>exclude</code> argument is set to <code>NA</code> by default i.e. <code>NA</code> is excluded automatically. What should we do to ensure that <code>NA</code> is also treated as a level? In order to treat <code>NA</code> as a level, set the <code>exclude</code> argument to <code>NULL</code>.</p>
<div class="sourceCode" id="cb726"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb726-1"><a href="categorical-data-in-r.html#cb726-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(device, <span class="at">exclude =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<pre><code>##  [1] Desktop Desktop &lt;NA&gt;    Mobile  Desktop Tablet  &lt;NA&gt;    Mobile  Tablet 
## [10] &lt;NA&gt;    Mobile  &lt;NA&gt;    Mobile  Tablet  Mobile  Mobile  &lt;NA&gt;    Tablet 
## [19] Desktop Tablet  &lt;NA&gt;    &lt;NA&gt;    Tablet  Tablet  Tablet 
## Levels: Desktop Mobile Tablet &lt;NA&gt;</code></pre>
<p>As you can see, <code>NA</code> is displayed as one of the levels in the data.</p>
</div>
<div id="ordered-factors" class="section level3" number="10.3.7">
<h3><span class="header-section-number">10.3.7</span> Ordered Factors</h3>
<p>So far, we have been looking at nominal data. Let us now explore how R handles ordered data. We will generate a new data set of satisfaction ratings to use in this section. Satisfaction ratings are
widely used to measure a customer’s satisfaction with an organization, service or a product.</p>
<div class="sourceCode" id="cb728"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb728-1"><a href="categorical-data-in-r.html#cb728-1" aria-hidden="true" tabindex="-1"></a>rating <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;Dislike&quot;</span>, <span class="st">&quot;Neutral&quot;</span>, <span class="st">&quot;Like&quot;</span>), <span class="at">size =</span> <span class="dv">25</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb728-2"><a href="categorical-data-in-r.html#cb728-2" aria-hidden="true" tabindex="-1"></a>rating</span></code></pre></div>
<pre><code>##  [1] &quot;Like&quot;    &quot;Like&quot;    &quot;Dislike&quot; &quot;Neutral&quot; &quot;Dislike&quot; &quot;Like&quot;    &quot;Neutral&quot;
##  [8] &quot;Dislike&quot; &quot;Like&quot;    &quot;Neutral&quot; &quot;Like&quot;    &quot;Like&quot;    &quot;Like&quot;    &quot;Dislike&quot;
## [15] &quot;Dislike&quot; &quot;Neutral&quot; &quot;Neutral&quot; &quot;Like&quot;    &quot;Neutral&quot; &quot;Neutral&quot; &quot;Dislike&quot;
## [22] &quot;Neutral&quot; &quot;Neutral&quot; &quot;Dislike&quot; &quot;Like&quot;</code></pre>
<p>It consists of three values Dislike, Neutral &amp; Like in that order. You can see that there is an intrinsic order here. Like is better than neutral which in turn is better than dislike. While we can order them, we can’t quantify the difference between them. We can’t say neutral is so many times better than dislike.</p>
<p><strong>Membership Testing</strong></p>
<p>As we did earlier, let us check if the data is ordered using the membership function <code>is.ordered()</code>.</p>
<div class="sourceCode" id="cb730"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb730-1"><a href="categorical-data-in-r.html#cb730-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.ordered</span>(rating)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>R returns <code>FALSE</code> as the variable <code>rating</code> is not ordered. Let us use <code>as.ordered()</code> to coerce it into an ordered factor.</p>
<div class="sourceCode" id="cb732"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb732-1"><a href="categorical-data-in-r.html#cb732-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.ordered</span>(rating)</span></code></pre></div>
<pre><code>##  [1] Like    Like    Dislike Neutral Dislike Like    Neutral Dislike Like   
## [10] Neutral Like    Like    Like    Dislike Dislike Neutral Neutral Like   
## [19] Neutral Neutral Dislike Neutral Neutral Dislike Like   
## Levels: Dislike &lt; Like &lt; Neutral</code></pre>
<p>Look at the last line where the levels are displayed. In case of ordered factors, you will see a <code>&lt;</code> between the labels. This is used to indicate the order of the levels. Now <code>rating</code> is both an ordered but the order of the levels is not correct. It should be <code>Dislike &lt; Neutral &lt; Like</code> but is displayed in order of appearance in the data. Let us use the <code>factor()</code> function since we need more control over how the levels are ranked and set the <code>ordered</code> argument to <code>TRUE</code>.</p>
<div class="sourceCode" id="cb734"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb734-1"><a href="categorical-data-in-r.html#cb734-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(rating, <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##  [1] Like    Like    Dislike Neutral Dislike Like    Neutral Dislike Like   
## [10] Neutral Like    Like    Like    Dislike Dislike Neutral Neutral Like   
## [19] Neutral Neutral Dislike Neutral Neutral Dislike Like   
## Levels: Dislike &lt; Like &lt; Neutral</code></pre>
<p>The ranking of the levels has not changed and is still the same. Why is this happening? If you observe carefully, the ranking follows the alphabetical order (<strong>D</strong>esktop, <strong>M</strong>obile, <strong>T</strong>able). The <code>factor()</code> function uses the same order for the levels.</p>
</div>
<div id="modify-order-of-levels" class="section level3" number="10.3.8">
<h3><span class="header-section-number">10.3.8</span> Modify Order of Levels</h3>
<p>To change the order/ranking of the levels, we need to specify it using the <code>levels</code> argument. Let us do that in the next example.</p>
<div class="sourceCode" id="cb736"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb736-1"><a href="categorical-data-in-r.html#cb736-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(rating, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Dislike&quot;</span>, <span class="st">&quot;Neutral&quot;</span>, <span class="st">&quot;Like&quot;</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##  [1] Like    Like    Dislike Neutral Dislike Like    Neutral Dislike Like   
## [10] Neutral Like    Like    Like    Dislike Dislike Neutral Neutral Like   
## [19] Neutral Neutral Dislike Neutral Neutral Dislike Like   
## Levels: Dislike &lt; Neutral &lt; Like</code></pre>
<p>Now, you can see that the levels are ranked correctly. The <code>ordered()</code> function can also be used to create ordered factors. Let us recreate the previous example using the <code>ordered()</code> function.</p>
<div class="sourceCode" id="cb738"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb738-1"><a href="categorical-data-in-r.html#cb738-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ordered</span>(rating, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Dislike&quot;</span>, <span class="st">&quot;Neutral&quot;</span>, <span class="st">&quot;Like&quot;</span>))</span></code></pre></div>
<pre><code>##  [1] Like    Like    Dislike Neutral Dislike Like    Neutral Dislike Like   
## [10] Neutral Like    Like    Like    Dislike Dislike Neutral Neutral Like   
## [19] Neutral Neutral Dislike Neutral Neutral Dislike Like   
## Levels: Dislike &lt; Neutral &lt; Like</code></pre>
<p>You can specify levels, modify labels and handle missing values using the <code>ordered()</code> function as well.</p>
</div>
<div id="key-functions" class="section level3" number="10.3.9">
<h3><span class="header-section-number">10.3.9</span> Key Functions</h3>
<p><img src="img/fct_module_3_functions.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="summary-6" class="section level3" number="10.3.10">
<h3><span class="header-section-number">10.3.10</span> Summary</h3>
<ul>
<li>R uses <strong>factor</strong> to handle categorical data.</li>
<li>Use <code>as.factor()</code> or <code>as_factor()</code> to coerce other data types to <strong>factor</strong>.</li>
<li>Use <code>is.factor()</code> or <code>is.ordered()</code> to identify factor &amp; ordered factor respectively.</li>
<li>Use <code>factor()</code> to
<ul>
<li>specify labels</li>
<li>modify labels</li>
<li>handle missing data</li>
<li>create ordered factors</li>
<li>specify order of levels</li>
</ul></li>
<li>Use <code>ordered()</code> to create ordered factors.</li>
</ul>
</div>
<div id="your-turn-11" class="section level3" number="10.3.11">
<h3><span class="header-section-number">10.3.11</span> Your Turn…</h3>
<p>Use <code>analytics_raw.rds</code> data set to answer the below questions.</p>
<ol style="list-style-type: decimal">
<li><p>Check whether the below variables are factor</p>
<ul>
<li><code>device</code></li>
<li><code>page_depth</code></li>
<li><code>landing_page</code></li>
</ul></li>
<li><p>Coerce the following variables to type factor</p>
<ul>
<li><code>device</code></li>
<li><code>os</code></li>
<li><code>browser</code></li>
<li><code>user_type</code></li>
<li><code>channel</code></li>
<li><code>gender</code></li>
<li><code>landing_page</code></li>
<li><code>exit_page</code></li>
<li><code>city</code></li>
<li><code>country</code></li>
<li><code>user_type</code></li>
</ul></li>
<li><p>Use only the following levels in the <code>gender</code> column:</p>
<ul>
<li><code>male</code></li>
<li><code>female</code></li>
</ul></li>
<li><p>Include <code>NA</code> as a level in the gender column.</p></li>
<li><p>Change label of <code>NA</code> to <code>missing</code> in the <code>gender</code> column.</p></li>
<li><p>Change the labels of the levels in <code>user_type</code> column to</p>
<ul>
<li><code>New</code></li>
<li><code>Returning</code></li>
</ul></li>
<li><p>Check if the <code>user_rating</code> column is ordered. If not, coerce it to type ordered factor.</p></li>
</ol>
</div>
</div>
<div id="operations" class="section level2" number="10.4">
<h2><span class="header-section-number">10.4</span> Summarize</h2>
<div id="introduction-15" class="section level3" number="10.4.1">
<h3><span class="header-section-number">10.4.1</span> Introduction</h3>
<p>Categorical data cannot be summarized in the same way as numeric data. It does not make sense to look at range, standard deviation etc. since data consists of a few distinct values only. So how do we summarize such data? We can look at</p>
<ul>
<li>count/frequency</li>
<li>proportion</li>
<li>cumulative frequency</li>
<li>cross table</li>
<li>contingency table etc.</li>
</ul>
<p>In this section, we will explore the above ways of summarizing categorical data. We will also spend some time
learning about tables as you will be using them extensively while working with categorical data. R has many packages for tabulating data and we list and explore all of them in the last section of this chapter.</p>
</div>
<div id="number-of-categories" class="section level3" number="10.4.2">
<h3><span class="header-section-number">10.4.2</span> Number of Categories</h3>
<p>From our case study, we want to know the number of devices used to browse the website, the name of the
devices and the proportion of traffic they drive to our website. Let us begin with the number of devices. To
view the number of groups/categories in a categorical variable, use <code>nlevels()</code>.</p>
<div class="sourceCode" id="cb740"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb740-1"><a href="categorical-data-in-r.html#cb740-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nlevels</span>(data<span class="sc">$</span>device)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>There are 3 categories of devices used by the visitors to browse the website. This can also be used for data
sanitization i.e. as an analyst you know that there are only 3 valid categories of device into which any visitor can be classified into. If you see more than 3 categories, you might want to check if there are any issues in data collection or processing. Now that we know there are 3 categories of devices, let us check if they are valid. The <code>levels()</code> function will return the labels of the groups.</p>
</div>
<div id="category-names" class="section level3" number="10.4.3">
<h3><span class="header-section-number">10.4.3</span> Category Names</h3>
<p>Knowing the number of levels is useful but not sufficient. <code>levels()</code> is one of the most useful functions when it comes to dealing with categorical data.</p>
<div class="sourceCode" id="cb742"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb742-1"><a href="categorical-data-in-r.html#cb742-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(data<span class="sc">$</span>device)</span></code></pre></div>
<pre><code>## [1] &quot;Desktop&quot; &quot;Mobile&quot;  &quot;Tablet&quot;</code></pre>
<p>Other functions that you can use include <code>unique()</code> and <code>fct_unique()</code>. Both these functions will return the unique names/labels along with the levels while <code>levels()</code> returns the labels of the levels.</p>
<div class="sourceCode" id="cb744"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb744-1"><a href="categorical-data-in-r.html#cb744-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(data<span class="sc">$</span>device)</span></code></pre></div>
<pre><code>## [1] Desktop Mobile  Tablet 
## Levels: Desktop Mobile Tablet</code></pre>
<div class="sourceCode" id="cb746"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb746-1"><a href="categorical-data-in-r.html#cb746-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_unique</span>(data<span class="sc">$</span>device)</span></code></pre></div>
<pre><code>## [1] Desktop Mobile  Tablet 
## Levels: Desktop Mobile Tablet</code></pre>
</div>
<div id="names-counts" class="section level3" number="10.4.4">
<h3><span class="header-section-number">10.4.4</span> Names &amp; Counts</h3>
<p>So we have checked the number of devices and their names. Let us now examine their distribution
i.e. count/frequency. <code>table()</code> and <code>summary()</code> will display the levels and their counts while <code>fct_count()</code>
will return a tibble with 2 columns (level &amp; count). It is extremely useful for further data processing or
visualization (using ggplot2).</p>
<div class="sourceCode" id="cb748"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb748-1"><a href="categorical-data-in-r.html#cb748-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data<span class="sc">$</span>device)</span></code></pre></div>
<pre><code>## 
## Desktop  Mobile  Tablet 
##  177282   63482    3634</code></pre>
<div class="sourceCode" id="cb750"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb750-1"><a href="categorical-data-in-r.html#cb750-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(data<span class="sc">$</span>device)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   f            n
##   &lt;fct&gt;    &lt;int&gt;
## 1 Desktop 177282
## 2 Mobile   63482
## 3 Tablet    3634</code></pre>
<div class="sourceCode" id="cb752"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb752-1"><a href="categorical-data-in-r.html#cb752-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data<span class="sc">$</span>device)</span></code></pre></div>
<pre><code>## Desktop  Mobile  Tablet 
##  177282   63482    3634</code></pre>
</div>
<div id="tables" class="section level3" number="10.4.5">
<h3><span class="header-section-number">10.4.5</span> Tables</h3>
<p>In the previous section, we used the <code>table()</code> function to tabulate categorical data. We will
recreate the tabulation for device and store it in a new variable tab.</p>
<div class="sourceCode" id="cb754"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb754-1"><a href="categorical-data-in-r.html#cb754-1" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">table</span>(data<span class="sc">$</span>device)</span>
<span id="cb754-2"><a href="categorical-data-in-r.html#cb754-2" aria-hidden="true" tabindex="-1"></a>tab</span></code></pre></div>
<pre><code>## 
## Desktop  Mobile  Tablet 
##  177282   63482    3634</code></pre>
<p>What does this function return? It is not a <code>vector</code>, <code>list</code>, <code>data.frame</code> or <code>matrix</code>. Let us use the <code>class()</code> function to check the class of the object returned by <code>table()</code>. It returns an object of the class <strong>table</strong>. This is a new type of object. Let us spend some time understanding tables as they are useful for organizing and summarizing categorical data. <strong>table</strong> is also the most used object when it comes to dealing with categorical data.</p>
<p>The <code>table()</code> function returns the counts of the categories but let us say we want to view the proportion or
percentage instead of counts i.e. the proportion or percentage of traffic driven to our website by the different devices. The <code>proportions()</code> or <code>prop.table()</code> function comes in handy in such cases. It takes a table object as input (tab in our case).</p>
<div class="sourceCode" id="cb756"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb756-1"><a href="categorical-data-in-r.html#cb756-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(tab)</span></code></pre></div>
<pre><code>## 
##    Desktop     Mobile     Tablet 
## 0.72538237 0.25974844 0.01486919</code></pre>
<div class="sourceCode" id="cb758"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb758-1"><a href="categorical-data-in-r.html#cb758-1" aria-hidden="true" tabindex="-1"></a><span class="fu">proportions</span>(tab)</span></code></pre></div>
<pre><code>## 
##    Desktop     Mobile     Tablet 
## 0.72538237 0.25974844 0.01486919</code></pre>
<p>To get the percentages, multiply the output by 100. Use the <code>round()</code> function to round the decimal places
according to your requirements.</p>
<div class="sourceCode" id="cb760"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb760-1"><a href="categorical-data-in-r.html#cb760-1" aria-hidden="true" tabindex="-1"></a><span class="fu">proportions</span>(tab) <span class="sc">*</span> <span class="dv">100</span></span></code></pre></div>
<pre><code>## 
##   Desktop    Mobile    Tablet 
## 72.538237 25.974844  1.486919</code></pre>
<div class="sourceCode" id="cb762"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb762-1"><a href="categorical-data-in-r.html#cb762-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">proportions</span>(tab) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## 
## Desktop  Mobile  Tablet 
##   72.54   25.97    1.49</code></pre>
<p>So far, we have used <code>table()</code> to tabulate a single categorical variable. It can be used for a lot
more than just tabulating data. We can examine the relationship between two categorical variables as well
as create multidimensional tables. Let us look at the relationship between <strong>gender</strong> and <strong>device</strong> in our case study. Does gender affect the type of device used? To answer this, we will create a two way or cross table. In the <code>table()</code> function, we can specify multiple variables by separating them with a comma.</p>
<div class="sourceCode" id="cb764"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb764-1"><a href="categorical-data-in-r.html#cb764-1" aria-hidden="true" tabindex="-1"></a>tab2 <span class="ot">&lt;-</span> <span class="fu">table</span>(data<span class="sc">$</span>gender, data<span class="sc">$</span>device)</span>
<span id="cb764-2"><a href="categorical-data-in-r.html#cb764-2" aria-hidden="true" tabindex="-1"></a>tab2</span></code></pre></div>
<pre><code>##         
##          Desktop Mobile Tablet
##   female   32803   7268    494
##   male     46418  14503    696
##   &lt;NA&gt;     98061  41711   2444</code></pre>
<p>Keep in mind that the order of the variables matter. Rows represent the first variable while column represents the second.</p>
<div class="sourceCode" id="cb766"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb766-1"><a href="categorical-data-in-r.html#cb766-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data<span class="sc">$</span>device, data<span class="sc">$</span>gender)</span></code></pre></div>
<pre><code>##          
##           female  male  &lt;NA&gt;
##   Desktop  32803 46418 98061
##   Mobile    7268 14503 41711
##   Tablet     494   696  2444</code></pre>
<p>The <code>proportions()</code> function works with two way tables as well.</p>
<div class="sourceCode" id="cb768"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb768-1"><a href="categorical-data-in-r.html#cb768-1" aria-hidden="true" tabindex="-1"></a><span class="fu">proportions</span>(tab2)</span></code></pre></div>
<pre><code>##         
##              Desktop      Mobile      Tablet
##   female 0.134219593 0.029738378 0.002021293
##   male   0.189927904 0.059341729 0.002847814
##   &lt;NA&gt;   0.401234871 0.170668336 0.010000082</code></pre>
<div class="sourceCode" id="cb770"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb770-1"><a href="categorical-data-in-r.html#cb770-1" aria-hidden="true" tabindex="-1"></a><span class="fu">proportions</span>(tab2) <span class="sc">*</span> <span class="dv">100</span></span></code></pre></div>
<pre><code>##         
##             Desktop     Mobile     Tablet
##   female 13.4219593  2.9738378  0.2021293
##   male   18.9927904  5.9341729  0.2847814
##   &lt;NA&gt;   40.1234871 17.0668336  1.0000082</code></pre>
<p>We would like to introduce another function at this point of time, <code>margin.table()</code>. What does this function do? It computes the marginal frequencies i.e. the sum of the rows or columns. It takes a <strong>table</strong> object as input. The <code>margin</code> argument allows us to specify whether we want the sum of rows or columns. <code>1</code> indicates rows and <code>2</code> indicates columns.</p>
<div class="sourceCode" id="cb772"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb772-1"><a href="categorical-data-in-r.html#cb772-1" aria-hidden="true" tabindex="-1"></a><span class="fu">margin.table</span>(tab2, <span class="dv">1</span>) <span class="co"># sum of rows</span></span></code></pre></div>
<pre><code>## 
## female   male   &lt;NA&gt; 
##  40565  61617 142216</code></pre>
<div class="sourceCode" id="cb774"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb774-1"><a href="categorical-data-in-r.html#cb774-1" aria-hidden="true" tabindex="-1"></a><span class="fu">margin.table</span>(tab2, <span class="dv">2</span>) <span class="co"># sum of columns</span></span></code></pre></div>
<pre><code>## 
## Desktop  Mobile  Tablet 
##  177282   63482    3634</code></pre>
<p>If the margin argument is NULL (which it is by default), the function returns the sum of all cells of the table.</p>
<div class="sourceCode" id="cb776"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb776-1"><a href="categorical-data-in-r.html#cb776-1" aria-hidden="true" tabindex="-1"></a><span class="fu">margin.table</span>(tab2)</span></code></pre></div>
<pre><code>## [1] 244398</code></pre>
<p><code>table()</code> does not display row or column labels. It does display the group labels though. Let us revisit the output from <code>tab2</code>. You can observe that while it includes the group labels, the row and column labels are missing. The output from the <code>dimnames()</code> function shows the group labels of the variables but the row &amp; column labels are absent.</p>
<div class="sourceCode" id="cb778"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb778-1"><a href="categorical-data-in-r.html#cb778-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(tab2)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;female&quot; &quot;male&quot;   NA      
## 
## [[2]]
## [1] &quot;Desktop&quot; &quot;Mobile&quot;  &quot;Tablet&quot;</code></pre>
<div class="sourceCode" id="cb780"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb780-1"><a href="categorical-data-in-r.html#cb780-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(tab2)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb782"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb782-1"><a href="categorical-data-in-r.html#cb782-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">dimnames</span>(tab2)) </span></code></pre></div>
<pre><code>## [1] &quot;&quot; &quot;&quot;</code></pre>
<p>The output from <code>names(dimnames(tab2))</code> is also empty. Let us add the variable names as the row &amp; column
labels to <code>tab2</code>.</p>
<div class="sourceCode" id="cb784"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb784-1"><a href="categorical-data-in-r.html#cb784-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">dimnames</span>(tab2)) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Gender&quot;</span>, <span class="st">&quot;Device&quot;</span>)</span>
<span id="cb784-2"><a href="categorical-data-in-r.html#cb784-2" aria-hidden="true" tabindex="-1"></a>tab2</span></code></pre></div>
<pre><code>##         Device
## Gender   Desktop Mobile Tablet
##   female   32803   7268    494
##   male     46418  14503    696
##   &lt;NA&gt;     98061  41711   2444</code></pre>
<p>Now look at the output from <code>tab2</code> and you can observe the difference. The same is also visible when we run
<code>dimnames(tab2)</code>.</p>
<div class="sourceCode" id="cb786"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb786-1"><a href="categorical-data-in-r.html#cb786-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(tab2)</span></code></pre></div>
<pre><code>## $Gender
## [1] &quot;female&quot; &quot;male&quot;   NA      
## 
## $Device
## [1] &quot;Desktop&quot; &quot;Mobile&quot;  &quot;Tablet&quot;</code></pre>
<p>To add margin totals to the table, use <code>addmargins()</code>. Like <code>proportions()</code> and <code>margin.table()</code>, it also takes a <code>table</code> object as the input.</p>
<div class="sourceCode" id="cb788"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb788-1"><a href="categorical-data-in-r.html#cb788-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span>(tab2)</span></code></pre></div>
<pre><code>##         Device
## Gender   Desktop Mobile Tablet    Sum
##   female   32803   7268    494  40565
##   male     46418  14503    696  61617
##   &lt;NA&gt;     98061  41711   2444 142216
##   Sum     177282  63482   3634 244398</code></pre>
<p><code>rowSums()</code> returns the row total while <code>colSums()</code> returns the column total. They are similar to <code>margin.table()</code>.</p>
<div class="sourceCode" id="cb790"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb790-1"><a href="categorical-data-in-r.html#cb790-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rowSums</span>(tab2)</span></code></pre></div>
<pre><code>## female   male   &lt;NA&gt; 
##  40565  61617 142216</code></pre>
<div class="sourceCode" id="cb792"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb792-1"><a href="categorical-data-in-r.html#cb792-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(tab2)</span></code></pre></div>
<pre><code>## Desktop  Mobile  Tablet 
##  177282   63482    3634</code></pre>
<p><code>xtabs()</code> is another way of creating multidimensional tables in R. In comparison to <code>table()</code>, it</p>
<ul>
<li>uses <code>formula</code> notation for input</li>
<li>the data argument ensures variable names are referenced instead of using $ i.e. <code>data$variable</code></li>
<li>displays row &amp; column labels by default</li>
</ul>
<div class="sourceCode" id="cb794"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb794-1"><a href="categorical-data-in-r.html#cb794-1" aria-hidden="true" tabindex="-1"></a>tabx <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(<span class="sc">~</span>gender<span class="sc">+</span>device, <span class="at">data =</span> data)</span>
<span id="cb794-2"><a href="categorical-data-in-r.html#cb794-2" aria-hidden="true" tabindex="-1"></a>tabx</span></code></pre></div>
<pre><code>##         device
## gender   Desktop Mobile Tablet
##   female   32803   7268    494
##   male     46418  14503    696
##   &lt;NA&gt;     98061  41711   2444</code></pre>
<p>The following functions work with <code>xtabs()</code> as well</p>
<ul>
<li><code>proportions()</code></li>
<li><code>margin.table()</code></li>
<li><code>addmargins()</code></li>
</ul>
<div class="sourceCode" id="cb796"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb796-1"><a href="categorical-data-in-r.html#cb796-1" aria-hidden="true" tabindex="-1"></a><span class="fu">proportions</span>(tabx)</span></code></pre></div>
<pre><code>##         device
## gender       Desktop      Mobile      Tablet
##   female 0.134219593 0.029738378 0.002021293
##   male   0.189927904 0.059341729 0.002847814
##   &lt;NA&gt;   0.401234871 0.170668336 0.010000082</code></pre>
<div class="sourceCode" id="cb798"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb798-1"><a href="categorical-data-in-r.html#cb798-1" aria-hidden="true" tabindex="-1"></a><span class="fu">margin.table</span>(tabx, <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## gender
## female   male   &lt;NA&gt; 
##  40565  61617 142216</code></pre>
<div class="sourceCode" id="cb800"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb800-1"><a href="categorical-data-in-r.html#cb800-1" aria-hidden="true" tabindex="-1"></a><span class="fu">margin.table</span>(tabx, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## device
## Desktop  Mobile  Tablet 
##  177282   63482    3634</code></pre>
<div class="sourceCode" id="cb802"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb802-1"><a href="categorical-data-in-r.html#cb802-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span>(tabx)</span></code></pre></div>
<pre><code>##         device
## gender   Desktop Mobile Tablet    Sum
##   female   32803   7268    494  40565
##   male     46418  14503    696  61617
##   &lt;NA&gt;     98061  41711   2444 142216
##   Sum     177282  63482   3634 244398</code></pre>
<p>So far, we have been working with one or two dimensional tables. Both the <code>table()</code> and <code>xtabs()</code> functions are capable of creating multidimensional tables. Keep in mind that multidimensional tables are complex and it becomes increasingly difficult to understand or interpret them.</p>
<div class="sourceCode" id="cb804"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb804-1"><a href="categorical-data-in-r.html#cb804-1" aria-hidden="true" tabindex="-1"></a>tab3 <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(<span class="sc">~</span>gender<span class="sc">+</span>device<span class="sc">+</span>channel, <span class="at">data =</span> data)</span>
<span id="cb804-2"><a href="categorical-data-in-r.html#cb804-2" aria-hidden="true" tabindex="-1"></a>tab3</span></code></pre></div>
<pre><code>## , , channel = (Other)
## 
##         device
## gender   Desktop Mobile Tablet
##   female     786    258      0
##   male      1063    507     19
##   &lt;NA&gt;      2173   1186     81
## 
## , , channel = Affiliates
## 
##         device
## gender   Desktop Mobile Tablet
##   female    1314     60      0
##   male      1714    169      0
##   &lt;NA&gt;      3518    548     65
## 
## , , channel = Direct
## 
##         device
## gender   Desktop Mobile Tablet
##   female    4785    977     59
##   male      7010   2381     95
##   &lt;NA&gt;     15824   8292    430
## 
## , , channel = Display
## 
##         device
## gender   Desktop Mobile Tablet
##   female     123    753    104
##   male       210    491     73
##   &lt;NA&gt;       554    911    156
## 
## , , channel = Organic Search
## 
##         device
## gender   Desktop Mobile Tablet
##   female   17109   4480    282
##   male     25016   9563    448
##   &lt;NA&gt;     54071  27223   1476
## 
## , , channel = Paid Search
## 
##         device
## gender   Desktop Mobile Tablet
##   female     645    230     22
##   male       887    478     26
##   &lt;NA&gt;      1274    782     51
## 
## , , channel = Referral
## 
##         device
## gender   Desktop Mobile Tablet
##   female    7387     74      0
##   male      9251    185      0
##   &lt;NA&gt;     18052    615     51
## 
## , , channel = Social
## 
##         device
## gender   Desktop Mobile Tablet
##   female     654    436     27
##   male      1267    729     35
##   &lt;NA&gt;      2595   2154    134</code></pre>
<p><strong>ftable</strong> stands for flat tables and is useful for printing attractive tables. It makes it easy to read and interpret multidimensional tables. In the next example, we will use <code>ftable()</code> to print the tables we have created in the previous examples and compare the outputs.</p>
<div class="sourceCode" id="cb806"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb806-1"><a href="categorical-data-in-r.html#cb806-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ftable</span>(tabx)</span></code></pre></div>
<pre><code>##        device Desktop Mobile Tablet
## gender                             
## female          32803   7268    494
## male            46418  14503    696
## NA              98061  41711   2444</code></pre>
<div class="sourceCode" id="cb808"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb808-1"><a href="categorical-data-in-r.html#cb808-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ftable</span>(tab2)</span></code></pre></div>
<pre><code>##        Device Desktop Mobile Tablet
## Gender                             
## female          32803   7268    494
## male            46418  14503    696
## NA              98061  41711   2444</code></pre>
<div class="sourceCode" id="cb810"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb810-1"><a href="categorical-data-in-r.html#cb810-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ftable</span>(tab3)</span></code></pre></div>
<pre><code>##                channel (Other) Affiliates Direct Display Organic Search Paid Search Referral Social
## gender device                                                                                      
## female Desktop             786       1314   4785     123          17109         645     7387    654
##        Mobile              258         60    977     753           4480         230       74    436
##        Tablet                0          0     59     104            282          22        0     27
## male   Desktop            1063       1714   7010     210          25016         887     9251   1267
##        Mobile              507        169   2381     491           9563         478      185    729
##        Tablet               19          0     95      73            448          26        0     35
## NA     Desktop            2173       3518  15824     554          54071        1274    18052   2595
##        Mobile             1186        548   8292     911          27223         782      615   2154
##        Tablet               81         65    430     156           1476          51       51    134</code></pre>
<p>By default, missing values (NAs) are excluded from tables. Let us modify the gender data from our case study a bit and see how the <code>table()</code> function deals with missing values. We won’t explicitly specify <code>NA</code> as a level while recreating the gender data.</p>
<div class="sourceCode" id="cb812"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb812-1"><a href="categorical-data-in-r.html#cb812-1" aria-hidden="true" tabindex="-1"></a>gen <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">as.character</span>(data<span class="sc">$</span>gender))</span>
<span id="cb812-2"><a href="categorical-data-in-r.html#cb812-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(gen)</span></code></pre></div>
<pre><code>## gen
## female   male 
##  40565  61617</code></pre>
<p>As you can see, <code>table()</code> excludes missing values while tabulating the data. In order to ensure that missing
values are also counted, we can use the <code>useNA</code> argument. It can take two values:</p>
<ul>
<li>ifany</li>
<li>always</li>
</ul>
<p>In the first case, it will show <code>NA</code> as a level and the count only if there are missing values in the data. In the second case, it will always show <code>NA</code> as a level irrespective of whether there are missing values in the data or not.</p>
<div class="sourceCode" id="cb814"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb814-1"><a href="categorical-data-in-r.html#cb814-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(gen, <span class="at">useNA =</span> <span class="st">&quot;ifany&quot;</span>)</span></code></pre></div>
<pre><code>## gen
## female   male   &lt;NA&gt; 
##  40565  61617 142216</code></pre>
<div class="sourceCode" id="cb816"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb816-1"><a href="categorical-data-in-r.html#cb816-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data<span class="sc">$</span>device, <span class="at">useNA =</span> <span class="st">&quot;always&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Desktop  Mobile  Tablet    &lt;NA&gt; 
##  177282   63482    3634       0</code></pre>
<p>In this final section on tables, we will learn how to select/access the different parts of a <code>table</code>. We will use <code>[</code> operator to select rows and columns of a table (it is similar to selecting data from a
<code>data.frame</code>). Below are a few examples:</p>
<ul>
<li>select first row</li>
</ul>
<div class="sourceCode" id="cb818"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb818-1"><a href="categorical-data-in-r.html#cb818-1" aria-hidden="true" tabindex="-1"></a>tab2[<span class="dv">1</span>, ]           </span></code></pre></div>
<pre><code>## Desktop  Mobile  Tablet 
##   32803    7268     494</code></pre>
<ul>
<li>select first column</li>
</ul>
<div class="sourceCode" id="cb820"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb820-1"><a href="categorical-data-in-r.html#cb820-1" aria-hidden="true" tabindex="-1"></a>tab2[, <span class="dv">1</span>]           </span></code></pre></div>
<pre><code>## female   male   &lt;NA&gt; 
##  32803  46418  98061</code></pre>
<ul>
<li>select first two rows</li>
</ul>
<div class="sourceCode" id="cb822"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb822-1"><a href="categorical-data-in-r.html#cb822-1" aria-hidden="true" tabindex="-1"></a>tab2[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, ]         </span></code></pre></div>
<pre><code>##         Device
## Gender   Desktop Mobile Tablet
##   female   32803   7268    494
##   male     46418  14503    696</code></pre>
<ul>
<li>select first two columns</li>
</ul>
<div class="sourceCode" id="cb824"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb824-1"><a href="categorical-data-in-r.html#cb824-1" aria-hidden="true" tabindex="-1"></a>tab2[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]        </span></code></pre></div>
<pre><code>##         Device
## Gender   Desktop Mobile
##   female   32803   7268
##   male     46418  14503
##   &lt;NA&gt;     98061  41711</code></pre>
<ul>
<li>select nth row</li>
</ul>
<div class="sourceCode" id="cb826"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb826-1"><a href="categorical-data-in-r.html#cb826-1" aria-hidden="true" tabindex="-1"></a>tab2[<span class="dv">2</span>, ]          </span></code></pre></div>
<pre><code>## Desktop  Mobile  Tablet 
##   46418   14503     696</code></pre>
<ul>
<li>select nth column</li>
</ul>
<div class="sourceCode" id="cb828"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb828-1"><a href="categorical-data-in-r.html#cb828-1" aria-hidden="true" tabindex="-1"></a>tab2[, <span class="dv">2</span>]          </span></code></pre></div>
<pre><code>## female   male   &lt;NA&gt; 
##   7268  14503  41711</code></pre>
<ul>
<li>select row by group label</li>
</ul>
<div class="sourceCode" id="cb830"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb830-1"><a href="categorical-data-in-r.html#cb830-1" aria-hidden="true" tabindex="-1"></a>tab2[<span class="st">&quot;female&quot;</span>, ]   </span></code></pre></div>
<pre><code>## Desktop  Mobile  Tablet 
##   32803    7268     494</code></pre>
<ul>
<li>select column by group label</li>
</ul>
<div class="sourceCode" id="cb832"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb832-1"><a href="categorical-data-in-r.html#cb832-1" aria-hidden="true" tabindex="-1"></a>tab2[, <span class="st">&quot;Mobile&quot;</span>]   </span></code></pre></div>
<pre><code>## female   male   &lt;NA&gt; 
##   7268  14503  41711</code></pre>
<p>Before we end this section, let us learn how to test if an object is of class table using <code>is.table()</code>.</p>
<div class="sourceCode" id="cb834"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb834-1"><a href="categorical-data-in-r.html#cb834-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.table</span>(tab2)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Next, we will look at different R packages for two way/contingency tables.</p>
</div>
<div id="contingency-table" class="section level3" number="10.4.6">
<h3><span class="header-section-number">10.4.6</span> Contingency Table</h3>
<p>For cross tables with output similar to SAS or SPSS, use any of the below:</p>
<ul>
<li><code>CrossTable()</code> from the <a href="cran.r-project.org/package=gmodels">gmodels</a> package</li>
<li><code>ds_cross_table()</code> from the <a href="https://descriptr.rsquaredacademy.com">descriptr</a> package</li>
</ul>
<div class="sourceCode" id="cb836"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb836-1"><a href="categorical-data-in-r.html#cb836-1" aria-hidden="true" tabindex="-1"></a>gmodels<span class="sc">::</span><span class="fu">CrossTable</span>(data<span class="sc">$</span>device, data<span class="sc">$</span>gender)</span></code></pre></div>
<pre><code>## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## | Chi-square contribution |
## |           N / Row Total |
## |           N / Col Total |
## |         N / Table Total |
## |-------------------------|
## 
##  
## Total Observations in Table:  102182 
## 
##  
##              | data$gender 
##  data$device |    female |      male | Row Total | 
## -------------|-----------|-----------|-----------|
##      Desktop |     32803 |     46418 |     79221 | 
##              |    58.228 |    38.334 |           | 
##              |     0.414 |     0.586 |     0.775 | 
##              |     0.809 |     0.753 |           | 
##              |     0.321 |     0.454 |           | 
## -------------|-----------|-----------|-----------|
##       Mobile |      7268 |     14503 |     21771 | 
##              |   218.694 |   143.975 |           | 
##              |     0.334 |     0.666 |     0.213 | 
##              |     0.179 |     0.235 |           | 
##              |     0.071 |     0.142 |           | 
## -------------|-----------|-----------|-----------|
##       Tablet |       494 |       696 |      1190 | 
##              |     0.986 |     0.649 |           | 
##              |     0.415 |     0.585 |     0.012 | 
##              |     0.012 |     0.011 |           | 
##              |     0.005 |     0.007 |           | 
## -------------|-----------|-----------|-----------|
## Column Total |     40565 |     61617 |    102182 | 
##              |     0.397 |     0.603 |           | 
## -------------|-----------|-----------|-----------|
## 
## </code></pre>
<div class="sourceCode" id="cb838"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb838-1"><a href="categorical-data-in-r.html#cb838-1" aria-hidden="true" tabindex="-1"></a>descriptr<span class="sc">::</span><span class="fu">ds_cross_table</span>(data, device, gender)</span></code></pre></div>
<pre><code>##     Cell Contents
##  |---------------|
##  |     Frequency |
##  |       Percent |
##  |       Row Pct |
##  |       Col Pct |
##  |---------------|
## 
##  Total Observations:  244398 
## 
## ----------------------------------------------------------------------------
## |              |                          gender                           |
## ----------------------------------------------------------------------------
## |       device |       female |         male |           NA |    Row Total |
## ----------------------------------------------------------------------------
## |      Desktop |        32803 |        46418 |        98061 |       177282 |
## |              |        0.134 |         0.19 |        0.401 |              |
## |              |         0.19 |         0.26 |         0.55 |         0.73 |
## |              |         0.81 |         0.75 |         0.69 |              |
## ----------------------------------------------------------------------------
## |       Mobile |         7268 |        14503 |        41711 |        63482 |
## |              |         0.03 |        0.059 |        0.171 |              |
## |              |         0.11 |         0.23 |         0.66 |         0.26 |
## |              |         0.18 |         0.24 |         0.29 |              |
## ----------------------------------------------------------------------------
## |       Tablet |          494 |          696 |         2444 |         3634 |
## |              |        0.002 |        0.003 |         0.01 |              |
## |              |         0.14 |         0.19 |         0.67 |         0.01 |
## |              |         0.01 |         0.01 |         0.02 |              |
## ----------------------------------------------------------------------------
## | Column Total |        40565 |        61617 |       142216 |       244398 |
## |              |        0.166 |        0.252 |        0.582 |              |
## ----------------------------------------------------------------------------</code></pre>
<p>We list and explore different R packages for summarizing categorical data in the last section of this chapter.</p>
</div>
<div id="key-functions-1" class="section level3" number="10.4.7">
<h3><span class="header-section-number">10.4.7</span> Key Functions</h3>
<p><img src="img/fct_module_4_functions.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="your-turn-12" class="section level3" number="10.4.8">
<h3><span class="header-section-number">10.4.8</span> Your Turn…</h3>
<ol style="list-style-type: decimal">
<li><p>Display the number of levels in</p>
<ul>
<li><code>browser</code></li>
<li><code>channel</code></li>
<li><code>landing_page</code></li>
<li><code>exit_page</code></li>
</ul></li>
<li><p>Display the categories in</p>
<ul>
<li><code>os</code></li>
<li><code>channel</code></li>
<li><code>browser</code></li>
<li><code>gender</code></li>
<li><code>user_type</code></li>
</ul></li>
<li><p>Display the count/frequency of</p>
<ul>
<li><code>channel</code></li>
<li><code>user_type</code></li>
</ul></li>
<li><p>Examine the distribution of the following and summarize your observations:</p>
<ul>
<li><code>channel</code> by <code>user_type</code></li>
<li><code>device</code> by <code>purchase_flag</code></li>
<li><code>channel</code> by <code>device</code></li>
<li><code>channel</code> by <code>purchase_flag</code></li>
<li><code>user_type</code> by <code>purchase_flag</code></li>
</ul></li>
</ol>
</div>
</div>
<div id="manipulate" class="section level2" number="10.5">
<h2><span class="header-section-number">10.5</span> Data Manipulation</h2>
<div id="introduction-16" class="section level3" number="10.5.1">
<h3><span class="header-section-number">10.5.1</span> Introduction</h3>
<p>In this section, our focus will be on handling the levels of a categorical variable, and exploring the <a href="https://forcats.tidyverse.org/">forcats</a> package for the same. We will basically look at 3 key operations or transformations we would like to do when it comes to factors which are:</p>
<ul>
<li>change value of levels</li>
<li>add or remove levels</li>
<li>change order of levels</li>
</ul>
<p>Before we start working with the value of the levels, let us take a quick look at some of the functions we used in the previous sections. We will store the source of traffic as <code>channel</code> instead of referring to the column in the <code>data.frame</code> every time.</p>
<div class="sourceCode" id="cb840"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb840-1"><a href="categorical-data-in-r.html#cb840-1" aria-hidden="true" tabindex="-1"></a>channel <span class="ot">&lt;-</span> data<span class="sc">$</span>channel</span></code></pre></div>
<p>Let us go back to the function we used for tabulating data, <code>fct_count()</code>. If you observe the result, it is in the same order as displayed by <code>levels()</code>.</p>
<div class="sourceCode" id="cb841"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb841-1"><a href="categorical-data-in-r.html#cb841-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(channel)</span></code></pre></div>
<pre><code>## # A tibble: 8 x 2
##   f                   n
##   &lt;fct&gt;           &lt;int&gt;
## 1 (Other)          6073
## 2 Affiliates       7388
## 3 Direct          39853
## 4 Display          3375
## 5 Organic Search 139668
## 6 Paid Search      4395
## 7 Referral        35615
## 8 Social           8031</code></pre>
<p>If you want to sort the results by the count i.e. most common level comes at the top, use the <code>sort</code> argument.</p>
<p><img src="img/fct_sort.png" width="636" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb843"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb843-1"><a href="categorical-data-in-r.html#cb843-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(channel, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## # A tibble: 8 x 2
##   f                   n
##   &lt;fct&gt;           &lt;int&gt;
## 1 Organic Search 139668
## 2 Direct          39853
## 3 Referral        35615
## 4 Social           8031
## 5 Affiliates       7388
## 6 (Other)          6073
## 7 Paid Search      4395
## 8 Display          3375</code></pre>
<p>If you want to view the proportion along with the count, set the <code>prop</code> argument to <code>TRUE</code>.</p>
<div class="sourceCode" id="cb845"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb845-1"><a href="categorical-data-in-r.html#cb845-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(channel, <span class="at">prop =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## # A tibble: 8 x 3
##   f                   n      p
##   &lt;fct&gt;           &lt;int&gt;  &lt;dbl&gt;
## 1 (Other)          6073 0.0248
## 2 Affiliates       7388 0.0302
## 3 Direct          39853 0.163 
## 4 Display          3375 0.0138
## 5 Organic Search 139668 0.571 
## 6 Paid Search      4395 0.0180
## 7 Referral        35615 0.146 
## 8 Social           8031 0.0329</code></pre>
<p>One of the important steps in data preparation/sanitization is to check if the levels are valid i.e. only levels which should be present in the data are actually present. <code>fct_match()</code> can be used to check validity of levels. It returns a logical vector if the level is present and an error if not.</p>
<div class="sourceCode" id="cb847"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb847-1"><a href="categorical-data-in-r.html#cb847-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">fct_match</span>(channel, <span class="st">&quot;Social&quot;</span>))</span></code></pre></div>
<pre><code>## 
##  FALSE   TRUE 
## 236367   8031</code></pre>
</div>
<div id="your-turn-13" class="section level3" number="10.5.2">
<h3><span class="header-section-number">10.5.2</span> Your Turn…</h3>
<ol style="list-style-type: decimal">
<li><p>Display the count/frequency of the following variables in the descending order</p>
<ul>
<li><code>device</code></li>
<li><code>landing_page</code></li>
<li><code>exit_page</code></li>
</ul></li>
<li><p>Check if <code>laptop</code> is a level in the <code>device</code> column.</p></li>
</ol>
</div>
<div id="change-value-of-levels" class="section level3" number="10.5.3">
<h3><span class="header-section-number">10.5.3</span> Change Value of Levels</h3>
<p>In this section, we will learn how to change the value of the levels. In order to keep it interesting, we will state an objective from our case study and then map it into a function from the <a href="https://forcats.tidyverse.org/">forcats</a> package.</p>
</div>
<div id="combine-both-paid-organic-search-into-a-single-level-search" class="section level3" number="10.5.4">
<h3><span class="header-section-number">10.5.4</span> Combine both Paid &amp; Organic Search into a single level, Search</h3>
<p><img src="img/fct_collapse.png" width="636" style="display: block; margin: auto;" /></p>
<p>In this case, we want to change the value of two levels, <em>Paid Search</em> &amp; <em>Organic Search</em> and give them the common value <em>Search</em>. You can also look at it as collapsing two levels into one. There are two functions we can use here:</p>
<ul>
<li><code>fct_collapse()</code></li>
<li><code>fct_recode()</code></li>
</ul>
<p>Let us look at <code>fct_collapse()</code> first. After specifying the categorical variable, we specify the new value followed by a character vector of the existing values. Remember, the new value is not enclosed in quotes (single or double) but the existing values must be a <code>character</code> vector.</p>
<div class="sourceCode" id="cb849"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb849-1"><a href="categorical-data-in-r.html#cb849-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(</span>
<span id="cb849-2"><a href="categorical-data-in-r.html#cb849-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct_collapse</span>(</span>
<span id="cb849-3"><a href="categorical-data-in-r.html#cb849-3" aria-hidden="true" tabindex="-1"></a>    channel,</span>
<span id="cb849-4"><a href="categorical-data-in-r.html#cb849-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Search =</span> <span class="fu">c</span>(<span class="st">&quot;Paid Search&quot;</span>, <span class="st">&quot;Organic Search&quot;</span>)</span>
<span id="cb849-5"><a href="categorical-data-in-r.html#cb849-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb849-6"><a href="categorical-data-in-r.html#cb849-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 7 x 2
##   f               n
##   &lt;fct&gt;       &lt;int&gt;
## 1 (Other)      6073
## 2 Affiliates   7388
## 3 Direct      39853
## 4 Display      3375
## 5 Search     144063
## 6 Referral    35615
## 7 Social       8031</code></pre>
<p>In the case of <code>fct_recode()</code>, each value being changed must be specified in a new line. Similar to
<code>fct_collapse()</code>, the new value is not enclosed in quotes but the existing values must be.</p>
<p><img src="img/fct_recode.png" width="636" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb851"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb851-1"><a href="categorical-data-in-r.html#cb851-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(</span>
<span id="cb851-2"><a href="categorical-data-in-r.html#cb851-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct_recode</span>(</span>
<span id="cb851-3"><a href="categorical-data-in-r.html#cb851-3" aria-hidden="true" tabindex="-1"></a>    channel,</span>
<span id="cb851-4"><a href="categorical-data-in-r.html#cb851-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Search =</span> <span class="st">&quot;Paid Search&quot;</span>,</span>
<span id="cb851-5"><a href="categorical-data-in-r.html#cb851-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Search =</span> <span class="st">&quot;Organic Search&quot;</span></span>
<span id="cb851-6"><a href="categorical-data-in-r.html#cb851-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb851-7"><a href="categorical-data-in-r.html#cb851-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 7 x 2
##   f               n
##   &lt;fct&gt;       &lt;int&gt;
## 1 (Other)      6073
## 2 Affiliates   7388
## 3 Direct      39853
## 4 Display      3375
## 5 Search     144063
## 6 Referral    35615
## 7 Social       8031</code></pre>
<p>The <a href="https://dplyr.tidyverse.org/">dplyr</a> and <a href="https://cran.r-project.org/package=car">car</a> packages also have recode functions.</p>
<p><strong>Retain only those channels which have driven a minimum traffic of 5000 to the website</strong></p>
<p><img src="img/fct_lump_1.png" width="636" style="display: block; margin: auto;" /></p>
<p>Instead of having all the channels, we desire to retain only those channels which have driven at least <em>5000</em> visits to the website. What about the rest of the channels which have driven less than <em>5000</em>? We will recategorize them as <strong>Other</strong>. Keep in mind that we already have a <strong>(Other)</strong> level in our data. <code>fct_lump_min()</code> will lump together all levels which do not have a minimum count specified. In our case study, only <strong>Display</strong> drives less than <em>5000</em> visits and it will be categorized into <strong>Other</strong>.</p>
<div class="sourceCode" id="cb853"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb853-1"><a href="categorical-data-in-r.html#cb853-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(<span class="fu">fct_lump_min</span>(channel, <span class="dv">5000</span>))</span></code></pre></div>
<pre><code>## # A tibble: 7 x 2
##   f                   n
##   &lt;fct&gt;           &lt;int&gt;
## 1 (Other)          6073
## 2 Affiliates       7388
## 3 Direct          39853
## 4 Organic Search 139668
## 5 Referral        35615
## 6 Social           8031
## 7 Other            7770</code></pre>
<p><strong>Retain only top 3 referring channels and categorize rest into Other</strong></p>
<p><img src="img/fct_lump_2.png" width="634" style="display: block; margin: auto;" /></p>
<p>Suppose you decide to retain only the top 3 channels in terms of the traffic driven to the website. In our
case study, these are <strong>Direct</strong>, <strong>Organic Search</strong> and <strong>Referral</strong>. We want to retain these 3 levels and categorize the rest as <strong>Other</strong>. <code>fct_lump_n()</code> will retain top <code>n</code> levels by count/frequency and lump the rest into <strong>Other</strong>.</p>
<div class="sourceCode" id="cb855"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb855-1"><a href="categorical-data-in-r.html#cb855-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(<span class="fu">fct_lump_n</span>(channel, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   f                   n
##   &lt;fct&gt;           &lt;int&gt;
## 1 Direct          39853
## 2 Organic Search 139668
## 3 Referral        35615
## 4 Other           29262</code></pre>
<p>In our case, <code>n</code> is 3 and hence the top 3 channels in terms of traffic driven are retained while the rest are
lumped into <strong>Other</strong>.</p>
<p><strong>Retain only those channels which have driven at least 2% of the overall traffic</strong></p>
<p><img src="img/fct_lump_3.png" width="636" style="display: block; margin: auto;" /></p>
<p>In the second scenario above, we retained channels based on minimum traffic driven by them to the website.
The criteria was count of visits. If you want to specify the criteria as a percentage or proportion instead of count, use <code>fct_lump_prop()</code>. The criteria is a value between <strong>0</strong> and <strong>1</strong>. In our case study, we want to retain channels that have driven at least <strong>2%</strong> of the overall traffic. Hence, we have specified the criteria as <code>0.02</code>.</p>
<div class="sourceCode" id="cb857"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb857-1"><a href="categorical-data-in-r.html#cb857-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(<span class="fu">fct_lump_prop</span>(channel, <span class="fl">0.02</span>))</span></code></pre></div>
<pre><code>## # A tibble: 7 x 2
##   f                   n
##   &lt;fct&gt;           &lt;int&gt;
## 1 (Other)          6073
## 2 Affiliates       7388
## 3 Direct          39853
## 4 Organic Search 139668
## 5 Referral        35615
## 6 Social           8031
## 7 Other            7770</code></pre>
<p>As you can see, only <strong>Display</strong> drives less than <strong>2%</strong> of overall traffic and has been lumped into <strong>Other</strong>.</p>
<p><strong>Retain the following channels and merge the rest into Other</strong></p>
<ul>
<li>Organic Search</li>
<li>Direct</li>
<li>Referral</li>
</ul>
<p>In the previous scenarios, we have been retaining or lumping channels based on some criteria like count or
percentage of traffic driven to the website. In this scenario, we want to retain certain levels by specifying
their labels and combine the rest into <strong>Other</strong>. While we can use <code>fct_collapse()</code> or <code>fct_recode()</code>, a more
appropriate function would be <code>fct_other()</code>. We will do a comparison of the three functions in a short while.</p>
<p><img src="img/fct_others.png" width="634" style="display: block; margin: auto;" /></p>
<p><code>fct_other()</code> has two arguments, <code>keep</code> and <code>drop</code>. <code>keep</code> is used when we know the levels we want to retain
and <code>drop</code> is used when we know the levels we want to drop. In this scenario, we know the levels we want to
retain and hence we will use the <code>keep</code> argument and specify them. <strong>Organic Search</strong>, <strong>Direct</strong> and <strong>Referral</strong> will be retained while the rest of the channels will be lumped into <strong>Other</strong>.</p>
<div class="sourceCode" id="cb859"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb859-1"><a href="categorical-data-in-r.html#cb859-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(</span>
<span id="cb859-2"><a href="categorical-data-in-r.html#cb859-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct_other</span>(</span>
<span id="cb859-3"><a href="categorical-data-in-r.html#cb859-3" aria-hidden="true" tabindex="-1"></a>    channel, </span>
<span id="cb859-4"><a href="categorical-data-in-r.html#cb859-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">keep =</span> <span class="fu">c</span>(<span class="st">&quot;Organic Search&quot;</span>, <span class="st">&quot;Direct&quot;</span>, <span class="st">&quot;Referral&quot;</span>))</span>
<span id="cb859-5"><a href="categorical-data-in-r.html#cb859-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   f                   n
##   &lt;fct&gt;           &lt;int&gt;
## 1 Direct          39853
## 2 Organic Search 139668
## 3 Referral        35615
## 4 Other           29262</code></pre>
<p><strong>Merge the following channels into Other and retain rest of them:</strong></p>
<ul>
<li>Display</li>
<li>Paid Search</li>
</ul>
<p><img src="img/fct_others_drop.png" width="633" style="display: block; margin: auto;" /></p>
<p>In this scenario, we know the levels we want to drop and hence we will use the <code>drop</code> argument and specify
them. <strong>Display</strong> and <strong>Paid Search</strong> will be lumped into <strong>Other</strong> while the rest of the channels will be retained.</p>
<div class="sourceCode" id="cb861"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb861-1"><a href="categorical-data-in-r.html#cb861-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(</span>
<span id="cb861-2"><a href="categorical-data-in-r.html#cb861-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct_other</span>(</span>
<span id="cb861-3"><a href="categorical-data-in-r.html#cb861-3" aria-hidden="true" tabindex="-1"></a>    channel, </span>
<span id="cb861-4"><a href="categorical-data-in-r.html#cb861-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">drop =</span> <span class="fu">c</span>(<span class="st">&quot;Display&quot;</span>, <span class="st">&quot;Paid Search&quot;</span>)</span>
<span id="cb861-5"><a href="categorical-data-in-r.html#cb861-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb861-6"><a href="categorical-data-in-r.html#cb861-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 7 x 2
##   f                   n
##   &lt;fct&gt;           &lt;int&gt;
## 1 (Other)          6073
## 2 Affiliates       7388
## 3 Direct          39853
## 4 Organic Search 139668
## 5 Referral        35615
## 6 Social           8031
## 7 Other            7770</code></pre>
<p>In the previous scenario, we said we will compare <code>fct_other()</code> with <code>fct_collapse()</code> and <code>fct_recode()</code>. Let us use the other two functions as well and see the difference.</p>
<div class="sourceCode" id="cb863"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb863-1"><a href="categorical-data-in-r.html#cb863-1" aria-hidden="true" tabindex="-1"></a><span class="co"># collapse</span></span>
<span id="cb863-2"><a href="categorical-data-in-r.html#cb863-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(</span>
<span id="cb863-3"><a href="categorical-data-in-r.html#cb863-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct_collapse</span>(</span>
<span id="cb863-4"><a href="categorical-data-in-r.html#cb863-4" aria-hidden="true" tabindex="-1"></a>  channel,</span>
<span id="cb863-5"><a href="categorical-data-in-r.html#cb863-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Other =</span> <span class="fu">c</span>(<span class="st">&quot;(Other)&quot;</span>, <span class="st">&quot;Affiliate&quot;</span>, <span class="st">&quot;Display&quot;</span>, <span class="st">&quot;Paid Search&quot;</span>, <span class="st">&quot;Social&quot;</span>)</span>
<span id="cb863-6"><a href="categorical-data-in-r.html#cb863-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb863-7"><a href="categorical-data-in-r.html#cb863-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## Warning: Unknown levels in `f`: Affiliate</code></pre>
<pre><code>## # A tibble: 5 x 2
##   f                   n
##   &lt;fct&gt;           &lt;int&gt;
## 1 Other           21874
## 2 Affiliates       7388
## 3 Direct          39853
## 4 Organic Search 139668
## 5 Referral        35615</code></pre>
<div class="sourceCode" id="cb866"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb866-1"><a href="categorical-data-in-r.html#cb866-1" aria-hidden="true" tabindex="-1"></a><span class="co"># recode</span></span>
<span id="cb866-2"><a href="categorical-data-in-r.html#cb866-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(</span>
<span id="cb866-3"><a href="categorical-data-in-r.html#cb866-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct_recode</span>(</span>
<span id="cb866-4"><a href="categorical-data-in-r.html#cb866-4" aria-hidden="true" tabindex="-1"></a>  channel,</span>
<span id="cb866-5"><a href="categorical-data-in-r.html#cb866-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Other =</span> <span class="st">&quot;(Other)&quot;</span>, </span>
<span id="cb866-6"><a href="categorical-data-in-r.html#cb866-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Other =</span> <span class="st">&quot;Affiliate&quot;</span>, </span>
<span id="cb866-7"><a href="categorical-data-in-r.html#cb866-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Other =</span> <span class="st">&quot;Display&quot;</span>, </span>
<span id="cb866-8"><a href="categorical-data-in-r.html#cb866-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Other =</span> <span class="st">&quot;Paid Search&quot;</span>, </span>
<span id="cb866-9"><a href="categorical-data-in-r.html#cb866-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Other =</span> <span class="st">&quot;Social&quot;</span></span>
<span id="cb866-10"><a href="categorical-data-in-r.html#cb866-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb866-11"><a href="categorical-data-in-r.html#cb866-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## Warning: Unknown levels in `f`: Affiliate</code></pre>
<pre><code>## # A tibble: 5 x 2
##   f                   n
##   &lt;fct&gt;           &lt;int&gt;
## 1 Other           21874
## 2 Affiliates       7388
## 3 Direct          39853
## 4 Organic Search 139668
## 5 Referral        35615</code></pre>
<p>As you can observe, <code>fct_other()</code> requires less typing and is easier to specify.</p>
<p><strong>Anonymize the data set before sharing it with your colleagues</strong></p>
<p><img src="img/fct_anonymize.png" width="636" style="display: block; margin: auto;" /></p>
<p>Anonymizing data is extremely important when you are sharing sensitive data with others. Here, we want
to anonymize the channels which drive traffic to the website so that we can share it with others without
divulging the names of the channels. <code>fct_anon()</code> allows us to anonymize the levels in the data. Using the
<code>prefix</code> argument, we can specify the prefix to be used while anonymizing the data.</p>
<div class="sourceCode" id="cb869"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb869-1"><a href="categorical-data-in-r.html#cb869-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(<span class="fu">fct_anon</span>(channel, <span class="at">prefix =</span> <span class="st">&quot;ch_&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 8 x 2
##   f          n
##   &lt;fct&gt;  &lt;int&gt;
## 1 ch_1  139668
## 2 ch_2    6073
## 3 ch_3    8031
## 4 ch_4    7388
## 5 ch_5   39853
## 6 ch_6    4395
## 7 ch_7   35615
## 8 ch_8    3375</code></pre>
</div>
<div id="key-functions-2" class="section level3" number="10.5.5">
<h3><span class="header-section-number">10.5.5</span> Key Functions</h3>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>fct_collapse()</code>
</td>
<td style="text-align:left;">
Collapse factor levels
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_recode()</code>
</td>
<td style="text-align:left;">
Recode factor levels
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_lump_min()</code>
</td>
<td style="text-align:left;">
Lump factor levels with count lesser than specified value
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_lump_n()</code>
</td>
<td style="text-align:left;">
Lump all levels except the top n levels
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_lump_prop()</code>
</td>
<td style="text-align:left;">
Lump factor levels with count lesser than specified proportion
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_lump_lowfreq()</code>
</td>
<td style="text-align:left;">
Lump together least frequent levels
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_other()</code>
</td>
<td style="text-align:left;">
Replace levels with Other level
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_anon()</code>
</td>
<td style="text-align:left;">
Anonymize factor levels
</td>
</tr>
</tbody>
</table>
</div>
<div id="your-turn.." class="section level3" number="10.5.6">
<h3><span class="header-section-number">10.5.6</span> Your Turn..</h3>
<ol start="3" style="list-style-type: decimal">
<li><p>Combine the following levels in <code>landing_page</code> into <code>Account</code></p>
<ul>
<li><code>My Account</code></li>
<li><code>Register</code></li>
<li><code>Sign In</code></li>
<li><code>Your Info</code></li>
</ul></li>
<li><p>Combine levels in <code>landing_page</code> that drive less than 1000 visits.</p></li>
<li><p>Get top 10 landing and exit pages.</p></li>
<li><p>Get landing pages that drive at least 5% of the total traffic to the website.</p></li>
<li><p>Retain only the following levels in the <code>browser</code> column:</p>
<ul>
<li><code>Chrome</code></li>
<li><code>Firefox</code></li>
<li><code>Safari</code></li>
<li><code>Edge</code></li>
</ul></li>
<li><p>Anonymize landing and exit page levels.</p></li>
</ol>
</div>
<div id="add-remove-levels" class="section level3" number="10.5.7">
<h3><span class="header-section-number">10.5.7</span> Add / Remove Levels</h3>
<p>In this small section, we will learn to:</p>
<ul>
<li>add new levels</li>
<li>drop levels</li>
<li>make missing values explicit</li>
</ul>
</div>
<div id="add-a-new-level-blog" class="section level3" number="10.5.8">
<h3><span class="header-section-number">10.5.8</span> Add a new level, Blog</h3>
<p><img src="img/fct_expand.png" width="638" style="display: block; margin: auto;" /></p>
<p><code>fct_expand()</code> allows us to add new levels to the data. The label of the new level must be specified after the variable name and must be enclosed in quotes. If the level already exists, it will be ignored. Let us add a new level, <code>Blog</code>.</p>
<div class="sourceCode" id="cb871"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb871-1"><a href="categorical-data-in-r.html#cb871-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">fct_expand</span>(channel, <span class="st">&quot;Blog&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Direct&quot;         &quot;Display&quot;       
## [5] &quot;Organic Search&quot; &quot;Paid Search&quot;    &quot;Referral&quot;       &quot;Social&quot;        
## [9] &quot;Blog&quot;</code></pre>
<p><strong>Drop existing level</strong></p>
<p><img src="img/fct_drop.png" width="632" style="display: block; margin: auto;" /></p>
<p>On the other hand, <code>fct_drop()</code> will drop levels which have no values i.e. unused levels. If you want
to drop only specific levels, use the <code>only</code> argument and specify the name of the level in quotes. Let us drop the new level we added in the previous example.</p>
<div class="sourceCode" id="cb873"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb873-1"><a href="categorical-data-in-r.html#cb873-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">fct_drop</span>(<span class="fu">fct_expand</span>(channel, <span class="st">&quot;Blog&quot;</span>)))</span></code></pre></div>
<pre><code>## [1] &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Direct&quot;         &quot;Display&quot;       
## [5] &quot;Organic Search&quot; &quot;Paid Search&quot;    &quot;Referral&quot;       &quot;Social&quot;</code></pre>
<p><strong>Make missing values explicit</strong></p>
<p><img src="img/fct_explicit_na.png" width="631" style="display: block; margin: auto;" /></p>
<p>In our data set, the gender column has many missing values, and in R, missing values are represented by <code>NA</code>. Suppose you are sharing the data or analysis with someone who is not an R user, and does not know what <code>NA</code> represents. In such a scenario, we can use the <code>fct_explicit_na()</code> function to make the missing values in the gender column explicit i.e. it will appear as <code>(Missing)</code> instead of <code>NA</code>. This will help non R users to understand that there are missing values in the data.</p>
<div class="sourceCode" id="cb875"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb875-1"><a href="categorical-data-in-r.html#cb875-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(<span class="fu">fct_explicit_na</span>(data<span class="sc">$</span>gender))</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   f              n
##   &lt;fct&gt;      &lt;int&gt;
## 1 female     40565
## 2 male       61617
## 3 (Missing) 142216</code></pre>
</div>
<div id="key-functions-3" class="section level3" number="10.5.9">
<h3><span class="header-section-number">10.5.9</span> Key Functions</h3>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>fct_expand()</code>
</td>
<td style="text-align:left;">
Add additional levels to a factor
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_drop()</code>
</td>
<td style="text-align:left;">
Drop unused factor levels
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_explicit_na()</code>
</td>
<td style="text-align:left;">
Make missing values explicit
</td>
</tr>
</tbody>
</table>
</div>
<div id="change-order-of-levels" class="section level3" number="10.5.10">
<h3><span class="header-section-number">10.5.10</span> Change Order of Levels</h3>
<p>In this last part of this section, we will learn how to change the order of the levels. We will look at the following scenarios from our case study:</p>
<p>We want to make</p>
<ul>
<li>Organic Search the first level</li>
<li>Referral the third level</li>
<li>Display the last level</li>
</ul>
<p><strong>Organic Search is the first level</strong></p>
<p><img src="img/fct_relevel_1.png" width="652" style="display: block; margin: auto;" /></p>
<p>In this scenario, we want the levels to appear in a certain order. In the first case, we want <strong>Organic Search</strong> to be the first level. <code>fct_relevel()</code> allows us to manually reorder the levels. To move a level to the beginning, specify the label (it must be enclosed in quotes).</p>
<div class="sourceCode" id="cb877"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb877-1"><a href="categorical-data-in-r.html#cb877-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(channel)</span></code></pre></div>
<pre><code>## [1] &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Direct&quot;         &quot;Display&quot;       
## [5] &quot;Organic Search&quot; &quot;Paid Search&quot;    &quot;Referral&quot;       &quot;Social&quot;</code></pre>
<div class="sourceCode" id="cb879"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb879-1"><a href="categorical-data-in-r.html#cb879-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">fct_relevel</span>(channel, <span class="st">&quot;Organic Search&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;Organic Search&quot; &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Direct&quot;        
## [5] &quot;Display&quot;        &quot;Paid Search&quot;    &quot;Referral&quot;       &quot;Social&quot;</code></pre>
<p><strong>Referral is the third level</strong></p>
<p><img src="img/fct_relevel_2.png" width="654" style="display: block; margin: auto;" /></p>
<p>The <code>after</code> argument is useful when we want to move the level to the end or anywhere between the beginning and end. In the second case, we want <strong>Referral</strong> to be the third level. After specifying the label, use the <code>after</code> argument and specify the level after which <strong>Referral</strong> should appear. Since we want to move it to the third position, we will set the value of <code>after</code> to <code>2</code> i.e. <strong>Referral</strong> should come after the second position.</p>
<div class="sourceCode" id="cb881"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb881-1"><a href="categorical-data-in-r.html#cb881-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(channel)</span></code></pre></div>
<pre><code>## [1] &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Direct&quot;         &quot;Display&quot;       
## [5] &quot;Organic Search&quot; &quot;Paid Search&quot;    &quot;Referral&quot;       &quot;Social&quot;</code></pre>
<div class="sourceCode" id="cb883"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb883-1"><a href="categorical-data-in-r.html#cb883-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">fct_relevel</span>(channel, <span class="st">&quot;Referral&quot;</span>, <span class="at">after =</span> <span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Referral&quot;       &quot;Direct&quot;        
## [5] &quot;Display&quot;        &quot;Organic Search&quot; &quot;Paid Search&quot;    &quot;Social&quot;</code></pre>
<p><strong>Display is the last level</strong></p>
<p><img src="img/fct_relevel_3.png" width="647" style="display: block; margin: auto;" /></p>
<p>In this last case, we want to move <strong>Display</strong> to the end. If you know the number of levels, you can specify a value here. In our data, there are eight channels i.e. eight levels, so we can set the value of <code>after</code> to <code>7</code>. What happens when we do not know the number of levels or if they tend to vary? In such cases, to move a level to the end, set the value of <code>after</code> to <code>Inf</code>.</p>
<div class="sourceCode" id="cb885"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb885-1"><a href="categorical-data-in-r.html#cb885-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(channel)</span></code></pre></div>
<pre><code>## [1] &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Direct&quot;         &quot;Display&quot;       
## [5] &quot;Organic Search&quot; &quot;Paid Search&quot;    &quot;Referral&quot;       &quot;Social&quot;</code></pre>
<div class="sourceCode" id="cb887"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb887-1"><a href="categorical-data-in-r.html#cb887-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">fct_relevel</span>(channel, <span class="st">&quot;Display&quot;</span>, <span class="at">after =</span> <span class="cn">Inf</span>))</span></code></pre></div>
<pre><code>## [1] &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Direct&quot;         &quot;Organic Search&quot;
## [5] &quot;Paid Search&quot;    &quot;Referral&quot;       &quot;Social&quot;         &quot;Display&quot;</code></pre>
<p>Let us now look at a scenario where we want to order the levels by</p>
<ul>
<li>frequency (largest to smallest)</li>
<li>order of appearance (in data)</li>
</ul>
<p><strong>Order levels by frequency</strong></p>
<p><img src="img/fct_infreq.png" width="658" style="display: block; margin: auto;" /></p>
<p>In the first case, the levels with the most frequency should appear at the top. <code>fct_infreq()</code> will order the
levels by their frequency.</p>
<div class="sourceCode" id="cb889"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb889-1"><a href="categorical-data-in-r.html#cb889-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reorder levels</span></span>
<span id="cb889-2"><a href="categorical-data-in-r.html#cb889-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(channel)</span></code></pre></div>
<pre><code>## [1] &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Direct&quot;         &quot;Display&quot;       
## [5] &quot;Organic Search&quot; &quot;Paid Search&quot;    &quot;Referral&quot;       &quot;Social&quot;</code></pre>
<div class="sourceCode" id="cb891"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb891-1"><a href="categorical-data-in-r.html#cb891-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">fct_infreq</span>(channel))</span></code></pre></div>
<pre><code>## [1] &quot;Organic Search&quot; &quot;Direct&quot;         &quot;Referral&quot;       &quot;Social&quot;        
## [5] &quot;Affiliates&quot;     &quot;(Other)&quot;        &quot;Paid Search&quot;    &quot;Display&quot;</code></pre>
<p><strong>Order levels by appearance</strong></p>
<p><img src="img/fct_inorder.png" width="660" style="display: block; margin: auto;" /></p>
<p>In the second case, the order of the levels should be the same as the order of their appearance in the data. <code>fct_inorder()</code> will order the levels according to the order in which they appear in the data.</p>
<div class="sourceCode" id="cb893"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb893-1"><a href="categorical-data-in-r.html#cb893-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reorder levels</span></span>
<span id="cb893-2"><a href="categorical-data-in-r.html#cb893-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(channel)</span></code></pre></div>
<pre><code>## [1] &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Direct&quot;         &quot;Display&quot;       
## [5] &quot;Organic Search&quot; &quot;Paid Search&quot;    &quot;Referral&quot;       &quot;Social&quot;</code></pre>
<div class="sourceCode" id="cb895"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb895-1"><a href="categorical-data-in-r.html#cb895-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">fct_inorder</span>(channel))</span></code></pre></div>
<pre><code>## [1] &quot;Organic Search&quot; &quot;Direct&quot;         &quot;Referral&quot;       &quot;Affiliates&quot;    
## [5] &quot;(Other)&quot;        &quot;Social&quot;         &quot;Display&quot;        &quot;Paid Search&quot;</code></pre>
<p><strong>Reverse the order of the levels</strong></p>
<p><img src="img/fct_rev.png" width="628" style="display: block; margin: auto;" /></p>
<p>The order of the levels can be reversed using <code>fct_rev()</code>.</p>
<div class="sourceCode" id="cb897"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb897-1"><a href="categorical-data-in-r.html#cb897-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reorder levels</span></span>
<span id="cb897-2"><a href="categorical-data-in-r.html#cb897-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(channel)</span></code></pre></div>
<pre><code>## [1] &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Direct&quot;         &quot;Display&quot;       
## [5] &quot;Organic Search&quot; &quot;Paid Search&quot;    &quot;Referral&quot;       &quot;Social&quot;</code></pre>
<div class="sourceCode" id="cb899"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb899-1"><a href="categorical-data-in-r.html#cb899-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">fct_rev</span>(channel))</span></code></pre></div>
<pre><code>## [1] &quot;Social&quot;         &quot;Referral&quot;       &quot;Paid Search&quot;    &quot;Organic Search&quot;
## [5] &quot;Display&quot;        &quot;Direct&quot;         &quot;Affiliates&quot;     &quot;(Other)&quot;</code></pre>
<p><strong>Randomly shuffle the order of the levels</strong></p>
<p><img src="img/fct_shuffle.png" width="635" style="display: block; margin: auto;" /></p>
<p>The order of the levels can be randomly shuffled using <code>fct_shuffle()</code>.</p>
<div class="sourceCode" id="cb901"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb901-1"><a href="categorical-data-in-r.html#cb901-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reorder levels</span></span>
<span id="cb901-2"><a href="categorical-data-in-r.html#cb901-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(channel)</span></code></pre></div>
<pre><code>## [1] &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Direct&quot;         &quot;Display&quot;       
## [5] &quot;Organic Search&quot; &quot;Paid Search&quot;    &quot;Referral&quot;       &quot;Social&quot;</code></pre>
<div class="sourceCode" id="cb903"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb903-1"><a href="categorical-data-in-r.html#cb903-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">fct_shuffle</span>(channel))</span></code></pre></div>
<pre><code>## [1] &quot;Direct&quot;         &quot;Paid Search&quot;    &quot;Referral&quot;       &quot;Social&quot;        
## [5] &quot;Display&quot;        &quot;(Other)&quot;        &quot;Affiliates&quot;     &quot;Organic Search&quot;</code></pre>
</div>
<div id="key-functions-4" class="section level3" number="10.5.11">
<h3><span class="header-section-number">10.5.11</span> Key Functions</h3>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>fct_relevel()</code>
</td>
<td style="text-align:left;">
Reorder factor levels
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_shift()</code>
</td>
<td style="text-align:left;">
Shift factor levels
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_infreq()</code>
</td>
<td style="text-align:left;">
Reorder factor levels by frequency
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_rev()</code>
</td>
<td style="text-align:left;">
Reverse order of factor levels
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_inorder()</code>
</td>
<td style="text-align:left;">
Reorder factor levels by first appearance
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>fct_shuffle()</code>
</td>
<td style="text-align:left;">
Randomly shuffle factor levels
</td>
</tr>
</tbody>
</table>
</div>
<div id="your-turn-14" class="section level3" number="10.5.12">
<h3><span class="header-section-number">10.5.12</span> Your Turn…</h3>
<ol start="9" style="list-style-type: decimal">
<li><p>Make <code>Home</code> first level in the <code>landing_page</code> column.</p></li>
<li><p>Make <code>Apparel</code> second level in the <code>landing_page</code> column.</p></li>
<li><p>Make <code>Specials</code> last level in the <code>landing_page</code> column.</p></li>
<li><p>Order the levels in the browser by frequency:</p></li>
<li><p>Order the levels in landing page by appearance:</p></li>
<li><p>Shuffle the levels in os</p></li>
<li><p>Reverse the levels in browser</p></li>
</ol>
</div>
</div>
<div id="dataviz" class="section level2" number="10.6">
<h2><span class="header-section-number">10.6</span> Data Visualization</h2>
<div id="introduction-17" class="section level3" number="10.6.1">
<h3><span class="header-section-number">10.6.1</span> Introduction</h3>
<p>In this section, we will learn to visualize categorical data. We will look at the following type of plots:</p>
<ul>
<li>univariate bar plot</li>
<li>bivariate bar plot
<ul>
<li>grouped</li>
<li>stacked</li>
<li>proportional</li>
</ul></li>
<li>mosaic plot</li>
<li>pie chart</li>
<li>donut chart</li>
</ul>
<p>We will be using <a href="https://ggplot2.tidyverse.org">ggplot2</a> in this chapter. So you should know the basics of data visualization with ggplot2. If you are new or have never used ggplot2, do not worry. We have several <a href="https://blog.rsquaredacademy.com/data-visualization/index.html">tutorials</a> and an <a href="https://viz-ggplot2.rsquaredacademy.com/">ebook</a> on ggplot2, you can go through them first and then come back to this section.</p>
</div>
<div id="bar-plot" class="section level3" number="10.6.2">
<h3><span class="header-section-number">10.6.2</span> Bar Plot</h3>
<p>Bar charts provide a visual representation of categorical data. The bars can be plotted either vertically or horizontally. The categories/groups appear along the horizontal X axis and the height of the bar represents a measured value.</p>
<div class="sourceCode" id="cb905"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb905-1"><a href="categorical-data-in-r.html#cb905-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb905-2"><a href="categorical-data-in-r.html#cb905-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> device), <span class="at">fill =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb905-3"><a href="categorical-data-in-r.html#cb905-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Device&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>)</span></code></pre></div>
<p><img src="data-wrangling-with-r_files/figure-html/bar_plot-1.png" width="672" /></p>
<p>In the above example, the bars represent the count/frequency of the categories. If the bars represent continuous data, the value could be <em>mean</em> or <em>sum</em> of the variable being represented.</p>
</div>
<div id="grouped-bar-plot" class="section level3" number="10.6.3">
<h3><span class="header-section-number">10.6.3</span> Grouped Bar Plot</h3>
<p>A grouped bar chart plots values for two levels of a categorical variable instead of one. You should use grouped bar chart when making comparisons across different categories of data. Use it when you want to look at how the second category variable changes within each level of the first and vice versa.</p>
<div class="sourceCode" id="cb906"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb906-1"><a href="categorical-data-in-r.html#cb906-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb906-2"><a href="categorical-data-in-r.html#cb906-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> device, <span class="at">fill =</span> gender), <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb906-3"><a href="categorical-data-in-r.html#cb906-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Device&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>)</span></code></pre></div>
<p><img src="data-wrangling-with-r_files/figure-html/grouped_bar_plot-1.png" width="672" /></p>
</div>
<div id="stacked-bar-plot" class="section level3" number="10.6.4">
<h3><span class="header-section-number">10.6.4</span> Stacked Bar Plot</h3>
<p>In stacked bar plots, the bars are stacked on top of each other instead of placing them next to each other. Use stacked bar plots while looking at cumulative value.</p>
<div class="sourceCode" id="cb907"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb907-1"><a href="categorical-data-in-r.html#cb907-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb907-2"><a href="categorical-data-in-r.html#cb907-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> device, <span class="at">fill =</span> gender)) <span class="sc">+</span></span>
<span id="cb907-3"><a href="categorical-data-in-r.html#cb907-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Device&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>)</span></code></pre></div>
<p><img src="data-wrangling-with-r_files/figure-html/stacked_bar_plot-1.png" width="672" /></p>
</div>
<div id="proportional-bar-plot" class="section level3" number="10.6.5">
<h3><span class="header-section-number">10.6.5</span> Proportional Bar Plot</h3>
<p>Also known as percent stacked plot, the height of all bars in this plot are the same. The distribution of the second categorical variable is scaled to 1 or 100. The length of each bar is determined by its share in the category. Use this when you want to concurrently observe each of several variables as they fluctuate and as their percentage ratio’s change.</p>
<div class="sourceCode" id="cb908"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb908-1"><a href="categorical-data-in-r.html#cb908-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb908-2"><a href="categorical-data-in-r.html#cb908-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(device, gender) <span class="sc">%&gt;%</span> </span>
<span id="cb908-3"><a href="categorical-data-in-r.html#cb908-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb908-4"><a href="categorical-data-in-r.html#cb908-4" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb908-5"><a href="categorical-data-in-r.html#cb908-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> device, <span class="at">y =</span> n, <span class="at">fill =</span> gender)) <span class="sc">+</span></span>
<span id="cb908-6"><a href="categorical-data-in-r.html#cb908-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">position =</span> <span class="st">&quot;fill&quot;</span>) <span class="sc">+</span></span>
<span id="cb908-7"><a href="categorical-data-in-r.html#cb908-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Device&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;Gender&quot;</span>)</span></code></pre></div>
<p><img src="data-wrangling-with-r_files/figure-html/prop_bar_plot-1.png" width="672" /></p>
</div>
<div id="mosaic-plot" class="section level3" number="10.6.6">
<h3><span class="header-section-number">10.6.6</span> Mosaic Plot</h3>
<p>A mosaic plot is a graphical representation of a two way table or contingency table. It was introduced by Hartigan &amp; Kleiner and is divided into rectangles. Proportions on horizontal axis represents the number of observations for each level of the X variable. The vertical length of each rectangle is proportional to the proportion of Y variable in each level of X variable.</p>
<div class="sourceCode" id="cb909"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb909-1"><a href="categorical-data-in-r.html#cb909-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data) <span class="sc">+</span></span>
<span id="cb909-2"><a href="categorical-data-in-r.html#cb909-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_mosaic</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">product</span>(channel, device), <span class="at">fill =</span> channel)) <span class="sc">+</span></span>
<span id="cb909-3"><a href="categorical-data-in-r.html#cb909-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Device&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;Channel&quot;</span>)</span></code></pre></div>
<p><img src="data-wrangling-with-r_files/figure-html/mosaic_plot-1.png" width="672" /></p>
</div>
<div id="pie-chart" class="section level3" number="10.6.7">
<h3><span class="header-section-number">10.6.7</span> Pie Chart</h3>
<p>Pie chart is a circular chart, divided into slices to show relevant sizes of data. It shows the distribution of the different levels of a categorical variable as a circle is divided into radial slices. Each level corresponds with a single slice of the circle and size indicates the proportion of the level. Use it when comparing each group’s contribution to the whole as opposed to comparing groups to each other.</p>
<p><strong>Base R</strong></p>
<div class="sourceCode" id="cb910"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb910-1"><a href="categorical-data-in-r.html#cb910-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb910-2"><a href="categorical-data-in-r.html#cb910-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(device) <span class="sc">%&gt;%</span> </span>
<span id="cb910-3"><a href="categorical-data-in-r.html#cb910-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb910-4"><a href="categorical-data-in-r.html#cb910-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pie</span>()</span></code></pre></div>
<p><img src="data-wrangling-with-r_files/figure-html/pie_chart-1.png" width="672" /></p>
<p><strong>3D Pie Chart</strong></p>
<div class="sourceCode" id="cb911"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb911-1"><a href="categorical-data-in-r.html#cb911-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb911-2"><a href="categorical-data-in-r.html#cb911-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(device) <span class="sc">%&gt;%</span> </span>
<span id="cb911-3"><a href="categorical-data-in-r.html#cb911-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb911-4"><a href="categorical-data-in-r.html#cb911-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pie3D</span>(<span class="at">explode =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<p><img src="data-wrangling-with-r_files/figure-html/pie_chart_3d-1.png" width="672" /></p>
<p><strong>ggplot2</strong></p>
<div class="sourceCode" id="cb912"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb912-1"><a href="categorical-data-in-r.html#cb912-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb912-2"><a href="categorical-data-in-r.html#cb912-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(device) <span class="sc">%&gt;%</span> </span>
<span id="cb912-3"><a href="categorical-data-in-r.html#cb912-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct_count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb912-4"><a href="categorical-data-in-r.html#cb912-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">device =</span> f, <span class="at">count =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb912-5"><a href="categorical-data-in-r.html#cb912-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb912-6"><a href="categorical-data-in-r.html#cb912-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">y =</span> count, <span class="at">fill =</span> device), <span class="at">width =</span> <span class="dv">1</span>, <span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb912-7"><a href="categorical-data-in-r.html#cb912-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">&quot;y&quot;</span>, <span class="at">start =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data-wrangling-with-r_files/figure-html/gg_pie_chart-1.png" width="672" /></p>
</div>
<div id="donut-chart" class="section level3" number="10.6.8">
<h3><span class="header-section-number">10.6.8</span> Donut Chart</h3>
<p>Donut chart is a variation of the pie chart. It has a round hole in the middle which makes it look like a donut. The focus is on the length of the arcs and not the proportions of the slices. Blank spaces inside donut chart can be used to display information inside it.</p>
<div class="sourceCode" id="cb913"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb913-1"><a href="categorical-data-in-r.html#cb913-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb913-2"><a href="categorical-data-in-r.html#cb913-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(device) <span class="sc">%&gt;%</span> </span>
<span id="cb913-3"><a href="categorical-data-in-r.html#cb913-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct_count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb913-4"><a href="categorical-data-in-r.html#cb913-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">device =</span> f, <span class="at">count =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb913-5"><a href="categorical-data-in-r.html#cb913-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggdonutchart</span>(<span class="st">&quot;count&quot;</span>, <span class="at">label =</span> <span class="st">&quot;device&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;device&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb913-6"><a href="categorical-data-in-r.html#cb913-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">&quot;#00AFBB&quot;</span>, <span class="st">&quot;#E7B800&quot;</span>, <span class="st">&quot;#FC4E07&quot;</span>))</span></code></pre></div>
<p><img src="data-wrangling-with-r_files/figure-html/gg_donut_chart-1.png" width="672" /></p>
</div>
<div id="summary-7" class="section level3" number="10.6.9">
<h3><span class="header-section-number">10.6.9</span> Summary</h3>
<ul>
<li>Bar charts provide a visual representation of categorical data.</li>
<li>Use grouped bar chart to make comparison against different categories of data.</li>
<li>Use stacked bar chart while looking at cumulative data.</li>
<li>Use proportional bar chart when you want to concurrently observe each of the several variables as they fluctuate.</li>
<li>Use mosaic plot to discover associations between two variables.</li>
<li>Use pie chart and donut chart when comparing each group’s contribution to the whole.</li>
</ul>
</div>
<div id="your-turn-15" class="section level3" number="10.6.10">
<h3><span class="header-section-number">10.6.10</span> Your Turn…</h3>
<p>Generate all the below plots:</p>
<ol style="list-style-type: decimal">
<li>Bar plot of <code>channel</code></li>
</ol>
<p><img src="data-wrangling-with-r_files/figure-html/plot_1-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Display grouped bar plot of <code>user_type</code> by <code>channel</code></li>
</ol>
<p><img src="data-wrangling-with-r_files/figure-html/plot_2-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Display stacked bar plot of <code>channel</code> by <code>gender</code></li>
</ol>
<p><img src="data-wrangling-with-r_files/figure-html/plot_3-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Display proportional bar plot of <code>channel</code> by <code>device</code></li>
</ol>
<p><img src="data-wrangling-with-r_files/figure-html/plot_4-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Display mosaic plot of <code>device</code> by <code>channel</code></li>
</ol>
<p><img src="data-wrangling-with-r_files/figure-html/plot_5-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol start="6" style="list-style-type: decimal">
<li>Display pie or donut chart of <code>channel</code></li>
</ol>
<p>6.1 Pie Chart</p>
<p><img src="data-wrangling-with-r_files/figure-html/plot_6-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>6.2 3D Pie Chart</p>
<p><img src="data-wrangling-with-r_files/figure-html/plot_7-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>6.3 Pie Chart (ggplot2)</p>
<p><img src="data-wrangling-with-r_files/figure-html/plot_8-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>6.4 Donut Chart</p>
<p><img src="data-wrangling-with-r_files/figure-html/plot_9-1.png" width="960" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="conclusion" class="section level2" number="10.7">
<h2><span class="header-section-number">10.7</span> Useful R Packages</h2>
<p>Below are a list of functions from different R pacakges for summarizing categorical data.</p>
<div id="summarize-variables" class="section level3" number="10.7.1">
<h3><span class="header-section-number">10.7.1</span> Summarize Variables</h3>
<div class="sourceCode" id="cb914"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb914-1"><a href="categorical-data-in-r.html#cb914-1" aria-hidden="true" tabindex="-1"></a>Hmisc<span class="sc">::</span><span class="fu">describe</span>(data<span class="sc">$</span>device)</span></code></pre></div>
<pre><code>## data$device 
##        n  missing distinct 
##   244398        0        3 
##                                   
## Value      Desktop  Mobile  Tablet
## Frequency   177282   63482    3634
## Proportion   0.725   0.260   0.015</code></pre>
<div class="sourceCode" id="cb916"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb916-1"><a href="categorical-data-in-r.html#cb916-1" aria-hidden="true" tabindex="-1"></a>janitor<span class="sc">::</span><span class="fu">tabyl</span>(data<span class="sc">$</span>device)</span></code></pre></div>
<pre><code>##  data$device      n    percent
##      Desktop 177282 0.72538237
##       Mobile  63482 0.25974844
##       Tablet   3634 0.01486919</code></pre>
<div class="sourceCode" id="cb918"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb918-1"><a href="categorical-data-in-r.html#cb918-1" aria-hidden="true" tabindex="-1"></a>epiDisplay<span class="sc">::</span><span class="fu">tab1</span>(data<span class="sc">$</span>device)</span></code></pre></div>
<p><img src="data-wrangling-with-r_files/figure-html/appendix_1-1.png" width="672" /></p>
<pre><code>## data$device : 
##         Frequency Percent Cum. percent
## Desktop    177282    72.5         72.5
## Mobile      63482    26.0         98.5
## Tablet       3634     1.5        100.0
##   Total    244398   100.0        100.0</code></pre>
<div class="sourceCode" id="cb920"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb920-1"><a href="categorical-data-in-r.html#cb920-1" aria-hidden="true" tabindex="-1"></a>summarytools<span class="sc">::</span><span class="fu">freq</span>(data<span class="sc">$</span>device)</span></code></pre></div>
<pre><code>## Registered S3 method overwritten by &#39;pryr&#39;:
##   method      from
##   print.bytes Rcpp</code></pre>
<pre><code>## Frequencies  
## data$device  
## Type: Factor  
## 
##                   Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
## ------------- -------- --------- -------------- --------- --------------
##       Desktop   177282     72.54          72.54     72.54          72.54
##        Mobile    63482     25.97          98.51     25.97          98.51
##        Tablet     3634      1.49         100.00      1.49         100.00
##          &lt;NA&gt;        0                               0.00         100.00
##         Total   244398    100.00         100.00    100.00         100.00</code></pre>
<div class="sourceCode" id="cb923"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb923-1"><a href="categorical-data-in-r.html#cb923-1" aria-hidden="true" tabindex="-1"></a>questionr<span class="sc">::</span><span class="fu">freq</span>(data<span class="sc">$</span>device)</span></code></pre></div>
<pre><code>## This version of bslib is designed to work with shiny version 1.6.0 or higher.</code></pre>
<pre><code>##              n    % val%
## Desktop 177282 72.5 72.5
## Mobile   63482 26.0 26.0
## Tablet    3634  1.5  1.5</code></pre>
<div class="sourceCode" id="cb926"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb926-1"><a href="categorical-data-in-r.html#cb926-1" aria-hidden="true" tabindex="-1"></a>descriptr<span class="sc">::</span><span class="fu">ds_freq_table</span>(data, device)</span></code></pre></div>
<pre><code>##                            Variable: device                             
## -----------------------------------------------------------------------
## Levels     Frequency    Cum Frequency       Percent        Cum Percent  
## -----------------------------------------------------------------------
## Desktop     177282         177282            72.54            72.54    
## -----------------------------------------------------------------------
## Mobile       63482         240764            25.97            98.51    
## -----------------------------------------------------------------------
## Tablet       3634          244398            1.49              100     
## -----------------------------------------------------------------------
##  Total      244398            -             100.00              -      
## -----------------------------------------------------------------------</code></pre>
</div>
<div id="summarize-data-set" class="section level3" number="10.7.2">
<h3><span class="header-section-number">10.7.2</span> Summarize Data Set</h3>
<div class="sourceCode" id="cb928"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb928-1"><a href="categorical-data-in-r.html#cb928-1" aria-hidden="true" tabindex="-1"></a>minilytics <span class="ot">&lt;-</span> <span class="fu">select</span>(data, device, browser, os)</span>
<span id="cb928-2"><a href="categorical-data-in-r.html#cb928-2" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(minilytics)</span></code></pre></div>
<pre><code>##          vars      n mean   sd median trimmed mad min max range  skew kurtosis
## device*     1 244398 1.29 0.49      1    1.22 0.0   1   3     2  1.31     0.58
## browser*    2 244398 8.22 4.84      6    7.14 0.0   1  26    25  1.80     1.43
## os*         3 244398 8.80 4.47      8    8.99 8.9   1  16    15 -0.08    -1.36
##            se
## device*  0.00
## browser* 0.01
## os*      0.01</code></pre>
<div class="sourceCode" id="cb930"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb930-1"><a href="categorical-data-in-r.html#cb930-1" aria-hidden="true" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(minilytics)</span></code></pre></div>
<table style="width: auto;" class="table table-condensed">
<caption>
(#tab:appendix_2)Data summary
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
minilytics
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of rows
</td>
<td style="text-align:left;">
244398
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of columns
</td>
<td style="text-align:left;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
_______________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Column type frequency:
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
factor
</td>
<td style="text-align:left;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
________________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Group variables
</td>
<td style="text-align:left;">
None
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:left;">
ordered
</th>
<th style="text-align:right;">
n_unique
</th>
<th style="text-align:left;">
top_counts
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
device
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Des: 177282, Mob: 63482, Tab: 3634
</td>
</tr>
<tr>
<td style="text-align:left;">
browser
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:left;">
Chr: 192176, Saf: 35323, Fir: 6420, Edg: 3787
</td>
</tr>
<tr>
<td style="text-align:left;">
os
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:left;">
Win: 91223, Mac: 66171, And: 39055, iOS: 27866
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb931"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb931-1"><a href="categorical-data-in-r.html#cb931-1" aria-hidden="true" tabindex="-1"></a>summarytools<span class="sc">::</span><span class="fu">dfSummary</span>(minilytics)</span></code></pre></div>
<pre><code>## Data Frame Summary  
## minilytics  
## Dimensions: 244398 x 3  
## Duplicates: 244317  
## 
## -------------------------------------------------------------------------------------------------------
## No   Variable   Stats / Values            Freqs (% of Valid)   Graph                Valid     Missing  
## ---- ---------- ------------------------- -------------------- -------------------- --------- ---------
## 1    device     1. Desktop                177282 (72.5%)       IIIIIIIIIIIIII       244398    0        
##      [factor]   2. Mobile                  63482 (26.0%)       IIIII                (100%)    (0%)     
##                 3. Tablet                   3634 ( 1.5%)                                               
## 
## 2    browser    1. Amazon Silk               168 ( 0.1%)                            244398    0        
##      [factor]   2. Android Browser           101 ( 0.0%)                            (100%)    (0%)     
##                 3. Android Webview          1215 ( 0.5%)                                               
##                 4. APKPure                     1 ( 0.0%)                                               
##                 5. BlackBerry                  7 ( 0.0%)                                               
##                 6. Chrome                 192176 (78.6%)       IIIIIIIIIIIIIII                         
##                 7. Coc Coc                    45 ( 0.0%)                                               
##                 8. Edge                     3787 ( 1.5%)                                               
##                 9. Firefox                  6420 ( 2.6%)                                               
##                 10. Internet Explorer        700 ( 0.3%)                                               
##                 [ 16 others ]              39778 (16.3%)       III                                     
## 
## 3    os         1. (not set)                179 ( 0.1%)                             244398    0        
##      [factor]   2. Android                39055 (16.0%)        III                  (100%)    (0%)     
##                 3. BlackBerry                16 ( 0.0%)                                                
##                 4. Chrome OS              14038 ( 5.7%)        I                                       
##                 5. Firefox OS                 4 ( 0.0%)                                                
##                 6. iOS                    27866 (11.4%)        II                                      
##                 7. Linux                   5781 ( 2.4%)                                                
##                 8. Macintosh              66171 (27.1%)        IIIII                                   
##                 9. OS/2                       3 ( 0.0%)                                                
##                 10. Playstation 4            15 ( 0.0%)                                                
##                 [ 6 others ]              91270 (37.3%)        IIIIIII                                 
## -------------------------------------------------------------------------------------------------------</code></pre>
<div class="sourceCode" id="cb933"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb933-1"><a href="categorical-data-in-r.html#cb933-1" aria-hidden="true" tabindex="-1"></a>tableone<span class="sc">::</span><span class="fu">CreateTableOne</span>(<span class="at">vars =</span> <span class="fu">c</span>(<span class="st">&quot;device&quot;</span>, <span class="st">&quot;os&quot;</span>), <span class="at">data =</span> minilytics)</span></code></pre></div>
<pre><code>##                      
##                       Overall       
##   n                   244398        
##   device (%)                        
##      Desktop          177282 (72.5) 
##      Mobile            63482 (26.0) 
##      Tablet             3634 ( 1.5) 
##   os (%)                            
##      (not set)           179 ( 0.1) 
##      Android           39055 (16.0) 
##      BlackBerry           16 ( 0.0) 
##      Chrome OS         14038 ( 5.7) 
##      Firefox OS            4 ( 0.0) 
##      iOS               27866 (11.4) 
##      Linux              5781 ( 2.4) 
##      Macintosh         66171 (27.1) 
##      OS/2                  3 ( 0.0) 
##      Playstation 4        15 ( 0.0) 
##      Playstation Vita      1 ( 0.0) 
##      Samsung               5 ( 0.0) 
##      Tizen                20 ( 0.0) 
##      Windows           91223 (37.3) 
##      Windows Phone        13 ( 0.0) 
##      Xbox                  8 ( 0.0)</code></pre>
<div class="sourceCode" id="cb935"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb935-1"><a href="categorical-data-in-r.html#cb935-1" aria-hidden="true" tabindex="-1"></a>desctable<span class="sc">::</span><span class="fu">desctable</span>(minilytics)</span></code></pre></div>
<pre><code>##                                           N            %
## 1                             device 244398           NA
## 2                    device: Desktop 177282 7.253824e+01
## 3                     device: Mobile  63482 2.597484e+01
## 4                     device: Tablet   3634 1.486919e+00
## 5                            browser 244398           NA
## 6               browser: Amazon Silk    168 6.874033e-02
## 7           browser: Android Browser    101 4.132603e-02
## 8           browser: Android Webview   1215 4.971399e-01
## 9                   browser: APKPure      1 4.091687e-04
## 10               browser: BlackBerry      7 2.864181e-03
## 11                   browser: Chrome 192176 7.863239e+01
## 12                  browser: Coc Coc     45 1.841259e-02
## 13                     browser: Edge   3787 1.549522e+00
## 14                  browser: Firefox   6420 2.626863e+00
## 15        browser: Internet Explorer    700 2.864181e-01
## 16                  browser: Maxthon      5 2.045843e-03
## 17 browser: Mozilla Compatible Agent     13 5.319192e-03
## 18                 browser: MRCHROME      1 4.091687e-04
## 19                    browser: Opera   1145 4.684981e-01
## 20               browser: Opera Mini     52 2.127677e-02
## 21            browser: Playstation 4     15 6.137530e-03
## 22 browser: Playstation Vita Browser      1 4.091687e-04
## 23                   browser: Puffin     18 7.365036e-03
## 24                   browser: Safari  35323 1.445306e+01
## 25          browser: Safari (in-app)    658 2.692330e-01
## 26         browser: Samsung Internet   2065 8.449333e-01
## 27                browser: SeaMonkey      3 1.227506e-03
## 28                   browser: Seznam      1 4.091687e-04
## 29               browser: UC Browser    174 7.119535e-02
## 30       browser: User-Agent:Mozilla     28 1.145672e-02
## 31                browser: YaBrowser    276 1.129305e-01
## 32                                os 244398           NA
## 33                     os: (not set)    179 7.324119e-02
## 34                       os: Android  39055 1.598008e+01
## 35                    os: BlackBerry     16 6.546698e-03
## 36                     os: Chrome OS  14038 5.743910e+00
## 37                    os: Firefox OS      4 1.636675e-03
## 38                           os: iOS  27866 1.140189e+01
## 39                         os: Linux   5781 2.365404e+00
## 40                     os: Macintosh  66171 2.707510e+01
## 41                          os: OS/2      3 1.227506e-03
## 42                 os: Playstation 4     15 6.137530e-03
## 43              os: Playstation Vita      1 4.091687e-04
## 44                       os: Samsung      5 2.045843e-03
## 45                         os: Tizen     20 8.183373e-03
## 46                       os: Windows  91223 3.732559e+01
## 47                 os: Windows Phone     13 5.319192e-03
## 48                          os: Xbox      8 3.273349e-03</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="date-and-time-in-r.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
